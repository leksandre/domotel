<!--- BEGIN HEADER -->
# Changelog

All notable changes to this project will be documented in this file.
<!--- END HEADER -->

## [1.8.5](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.8.5) (2023-08-03)

- Правит шаблон вывода вариантов ипотеки в панели администратора

## [1.8.4](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.8.4) (2023-08-01)

- Исправлена ошибка зависимости компонента "Первый экран" от модуля "Квартирография"
- Исправлена ошибка зависимости компонента "Как купить" от модуля "Квартирография"
- Отключена строгая проверка изменения сущностей
- Исправления в тестах
- Обновление пакетов composer

## [1.8.3](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.8.3) (2023-07-25)

- Исправлена ошибка подсчета помещений в продаже на плане этажа в визуальном выборщике при переходе из секции на этаж
- Исправлено переключение табов в конструкторе визуального выборщика

## [1.8.2](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.8.2) (2023-07-20)

- Исправлена ошибка формирования хлебных крошек в визуальном выборщике

## [1.8.1](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.8.1) (2023-07-07)

- Исправлена ошибка импорта маркеров для компонента "Расположение"

## [1.8.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.8.0) (2023-06-08)

- Frontend:
  - ЗD-тур на визуальном (тултип 360)
  - Блок с иконками/заголовками/микротекстами
  - Оптимизация скриптов параметрического поиска
  - Добавлен слайдер в карточке помещения в результатах параметрического поиска

- Backend:
  - Исправлен баг на визуальном выборщике, фильтр этажей (этажатор) на шаге этажа при разбиении на секции
  - Добавлены консольные команды очистки данных модулей: Квартирография, публикации, документы, ход строительства
  - Добавлен новый типа указателя для визуального выборщика - панорама 360 от Planoplan
  - Добавлен компонент "Блок с иконками (УТП)"
  - Исправлен баг в импорте квартирографии. Не отвязывались помещения от секции
  - Исправлен баг создания маркера карты
  - Обновлен скрипт импорта из ProfitBase. Импортируются все особенности помещений, которые клиент заводит вручную в ProfitBase
  - Обновления версий бэкенд:
    - php  8.2
    - phpunit 10
    - Laravel  10
    - Orchid Platform 14
  - Исправление мелких ошибок по компонентам и модулям

## [1.7.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.7.0) (2023-05-12)

- SEO:
  - Добавлена разметка сквозного текста в футере
  - Добавлена разметка контактов. Поле адрес разбито на 3 поля: Регион, город, улица
  - Добавлено управление robots.txt из панели администратора
  - Добавлено управление мета-тегами для карточки публикаций
  - Добавлено управление мета-тегами у страниц
  - Добавлено управление мета-тегами у карточки помещения через настройки компонента
  
- Frontend:
  - Исправлена вёрстка pdf (футер прибит вниз)
  - Исправлено положение и размер активной области кластеров на карте
  - Добавлена настройка вариантов скрола карты для мобильных устройств
  - Параметрический поиск переведён на webpack 5
  - Визуальный поиск переведён на webpack 5
  - Исправлены конфликтующие стили хэдера (третья версия первого экрана)
  - Проект переведён на v18.15 node и npm v9.5.0
  - Ипотечный: исправлен баг с обновлением максимального значения слайдера первого взноса

- Backend:
  - Изменен параметр сжатия webp
  - Переработана фабрика создания карты и маркеров
  - Обновлен вариант выбора "Дизайна" у компонента "Первый экран"
  - Добавлен чекбокс у группы типов помещений в квартирографии "Формировать название помещения на основе количества комнат". Применяется только для жилой недвижимости.
  - Добавлена пагинация параметрического поиска на стороне back-end
  - Исправлен вывод особенностей помещений в параметрическом и карточке
  - Правки в импорте данных из ProfitBase
  - Правка сброса кеша импорта при деплое. Отдельный ресурс, хранящий кеш импорта квартирографии

## [1.6.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.6.0) (2023-04-17)

- Новый вид первого экрана (необходимы доработки)
- Импорт из ProfitBase
- Импорт из Allio
- iOS:
  - параметрический
   - исправлен баг: после фильтрации/сброса фильтра не скроллился фильтр
   - в мобильном фильтре зафиксирована кнопка Показать ХХ вариантов внизу экрана 
- Увеличен размер ползунков рейндж-слайдеров, для удобства использования на мобильных устройствах

- Исправлено поведение изображений в попапах галерей (исправлен баг с блокировкой скролла)
- Параметрический: исправлена сортировка карточек после сброса фильтра/изменения параметров фильтра после сортировки
- В блоке "Квартира" исправлено добавление класса для кнопки заказа звонка в зависимости от выбранного шаблона
- В модуле "Блок квартиры" исправлен баг при сохранении записи без указания особенностей
- В настройках "Карта" для Яндекса добавлено поле "API ключ для поиска организаций"
- Добавлена плашка с подсказками на карту

## [1.5.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.5.0) (2023-03-23)

- Исправлена работа стрелок слайдера в блоке с новым видом УТП
- Карточка квартиры: переименован таб Planoplan в 3D-тур
- Исправлен баг с вызовом попапа из слайдера описания квартир
- Исправлен баг с двойным открытием попапа по хэшу
- Скрипты переведены на Typescript
- Новое большое меню с отдельным конструктором
- Добавлен [dev-контейнер](https://containers.dev/) для Visual Studio Code
- JS и стили для панели администратора разнесен по соответствующим модулям
- В импорте квартирографии из csv файла добавлено поле с кодом виджета Planoplan
- Для локальной разработки [Mailhog](https://github.com/mailhog/MailHog) заменен на [Mailpit](https://github.com/axllent/mailpit)

## [1.4.1](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.4.1) (2023-02-16)

- Добавлена настройка редиректа со страницы
- Orchid Platform обновлен до v13.10

## [1.4.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.4.0) (2023-02-13)

- Улучшена таска оптимизации изображений
- Поправлены орфографические ошибки в текстах ошибок валидации
- Добавлена опция для изменения скруглений на сайте
- Визуальный:
  - Обновлён этажатор (новый плагин)
  - Исправлен баг с обновлением данных этажей после фильтрации
- Добавлена мультисайтовость:
  - У сайта можно указывать его тип: Сайт, Тач, VR
  - Автоматическое создание главной страницы и страницы ошибок при создании сайта
- Исправлен баг сбора статистики при импорте квартирографии: "There is no active transaction"
- Оптимизация индексов БД
- Добавили команду очистки данных модуля `ClearingModuleData`. Доступно для модулей:
  - новости
  - документы
  - ход строительства
  - квартирография
  - визуальный поиск по квартирографии


## [1.3.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.3.0) (2023-01-13)

- Куки плашка
- Добавлен адрес в баллуны на карте
- Добавлена фиксированная навигация в попап хода строительства
- Добавлен новый вид меню
- Добавлен новый вид первого экрана
- Добавлен новый вариант слайдера для УТП
- Исправлен баг со сбросом параметров ипотечного калькулятора
- Исправлен баг со сменой цвета лого при ресайзе и открытом меню
- Исправлен баг с цветом фона каждой пятой плашки на первом экране
- Исправлена вёрстка параметрического
- Визуальный:
    - добавлен pinch
    - добавлено ограничение смещения рендера плана этажа
    - добавлена сортировка этажей
    - убран переход с задисейбленной маски по ссылке
    - исправлена ошибка при отсутствии этажей
    - исправлен роутинг
    - исправлено позиционирование тултипов
    - исправлено положение лоадера при первой загрузке
    - исправлены размеры выборщика при размере рендера меньшем размера устройства
    - исправлено: на узких разрешениях десктопов показываются тултипы вместо панели

## [1.2.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.2.0) (2022-11-25)

- добавили модуль PDF, печать карточки помещения
- добавили анимацию на сайте, в админке управление анимацией
- добавили формы бронирования в параметрическом и визуальном
- настраиваемые фильтры и сортировка в параметрическом
- обработка и подгрузка информации о виджете planoplan в параметрический, визуальный и списке рекомендованных помещений
- визуальный паркингов, коммерции, кладовок
- визуальный в компоненте на страницу (iframe)
- правки по верстке, правка багов
- оптимизация popup на визуальном в iframe
- правки по бэкенду, правка багов

## [1.1.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.1.0) (2022-09-02)

### Новые модули

- Квартирография
- Параметрический поиск по квартирографии
- Визуальный поиск по квартирографии
- Блок "Квартиры"

### Разное

- Минимальная версия php 8.1
- Обновление Laravel до v9
- Обновление Orchid Platform до v13
- Возможность загрузить через панель администратора файлы большого размера
- Оптимизация frontend

---

## [1.0.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/1.0.0) (2021-10-15)

### Новые модули

- Публикации
- Ипотека
- Ход строительства
- Меню сайта
- Формы
- Документы
- Контакты

### Глобальные настройки

- Данные о ЖК: Название, телефон, e-mail, логотипа
- Карта
- Внешние коды

### Разное

- Добавлен типа компонента - динамический
- Разделение компонентов страницы на секии: Хедер, Футер, Контент

---

## [0.3.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/0.3.0) (2021-05-28)

### Разделение на модули

* Главный модуль
* Обработка изображений
* Страницы

### Добавили компонентов

* Главный экран
* О проекте
* УТП
* Галерея
* Инфраструктура

Появился ресайзер изображений и тег `picture`

---

## [0.2.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/0.2.0) (2021-05-08)

* глобальные цвета
* цвета компонента
* глобальные шрифты

---

## [0.1.0](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/0.1.0) (2021-04-16)

- Добавили компоненты для страниц
- Компонент "Заглушка"
- Вывод компонента на страницу
- Выводи списка модулей
- Обновили orchid до версии 10

---

## [0.0.1](https://gitlab.kelnik.pro/multi-product/multi-kelnik-2.0/-/releases/0.0.1) (2021-04-02)

- Управление страницами
- Наполнение страницы компонентами
- Настройка компонента. Только один компонент - заглушка

---
