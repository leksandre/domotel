"use strict";(self["webpackChunkvisual"]=self["webpackChunkvisual"]||[]).push([[712],{5974:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});var i,n=e(6890);(function(t){t["OPEN"]="open",t["CLOSE"]="close"})(i||(i={}));var a=e(5399),h=e(9167);const o=new a.Z,c="is-open";class l{constructor(){this.dynamic=!0,this.eventOpen="",this.eventClose=""}init(t){this.button=t.target,this.state=this.button.classList.contains(c)?i.OPEN:i.CLOSE,this.dynamic=!this.button.dataset["dynamic"]||Boolean(JSON.parse(this.button.dataset["dynamic"])),t.eventOpen&&(this.eventOpen=t.eventOpen),t.eventClose&&(this.eventClose=t.eventClose),this._subscribes(),this._bindEvents()}closeByResize(){h.c.getWindowWidth()<n.Ix.TABLET_PORTRAIT||"open"!==this.state||(this.dynamic&&this._toggleClass(),this.state=i.CLOSE,this._stateClose())}_subscribes(){o.subscribe("scrollBy:start",(()=>{this.state=i.CLOSE,this.button.classList.remove(c)}))}_bindEvents(){this.button.addEventListener("click",this._clickBind.bind(this))}_clickBind(){this.dynamic&&this._toggleClass(),this._changeState()}_changeState(){this.state===i.OPEN?(this.state=i.CLOSE,this._stateClose()):(this.state=i.OPEN,this._stateOpen())}_toggleClass(){this.button.classList.toggle(c)}_stateOpen(){this.eventOpen&&o.publish(this.eventOpen,this)}_stateClose(){this.eventClose&&o.publish(this.eventClose,this)}}var u=l}}]);