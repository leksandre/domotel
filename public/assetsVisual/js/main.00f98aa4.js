(function(){var e={5383:function(e,t,i){"use strict";i.d(t,{Z2:function(){return w},J7:function(){return g},w:function(){return b}});var s=i(5399),a=i(4300),o=i.n(a),n=(i(606),i(6890),i(9167)),r=i(3225),l=i.n(r);const p=new s.Z,c='input:not([type="submit"]):not([type="hidden"]):not([type="button"]), textarea',u={formSuccess:"validate-form-success",formError:"validate-form-error",inputSuccess:"validate-input-success",inputError:"validate-input-error",inputKey:"validate-input-key",phoneMask:"+7 (999) 999 99-99",emailReg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,numberReg:/^\d+$/,lettersReg:/^[a-zA-Zа-яёА-ЯЁ]+(\s[a-zA-Zа-яёА-ЯЁ]+)*$/i,urlReg:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,keyDelay:500,separatorPrice:" ",separatorDecimal:",",decimalDigits:1},d={required:"Поле обязательно для заполнения",min:"Мин $ символа",max:"Длина строки не больше $",email:"Введите эл. почту",number:"Только числа",letters:"Только буквы",url:"Не корректный url",tel:"Не корректный номер телефона",regexp:"Не соответствует формату",mask:"Заполните поле полностью"};class h{constructor(e={},t={}){this.forms=[],this.inputs=[],this.options=Object.assign(u,e),this.messages=Object.assign(d,t),this.update()}update(){this._initElements(),this._filterInputsIntoForm(),this._initInputMask(),this._bindEvents(),this._subscribes()}refresh(e){if(!e)return;let t=[...e.querySelectorAll("form[data-init]")];t.length||"form"!==e.tagName||(t=[e]),t.forEach((e=>{e.removeAttribute("data-init"),[...e.querySelectorAll(c)].forEach((e=>{e.removeAttribute("data-init")}))})),t.length&&this.update()}_initElements(){this.forms=[...document.querySelectorAll("form[data-validate]")],this.inputs=[...document.querySelectorAll("input[data-validate], textarea[data-validate]")]}_filterInputsIntoForm(){this.inputs=this.inputs.filter((e=>!e.closest("form")))}_initInputMask(){const e={showMaskOnHover:!1},t=t=>{new(l())(this.options.phoneMask,e).mask(t)},i=t=>{const i=t.getAttribute("data-validate-mask");i&&new(l())(i,e).mask(t)},s=e=>{e.hasAttribute("data-validate-mask")?i(e):("tel"===e.type||e.hasAttribute("data-validate-tel"))&&t(e)};this.inputs.forEach((e=>{s(e)})),this.forms.forEach((e=>{const t=e.querySelectorAll(c);t.forEach((e=>{s(e)}))}))}_bindEvents(){this.forms.forEach((e=>{if(!this._verifyDoubleInit(e))return;const t=[...e.querySelectorAll(c)],i=e.dataset["validateCheck"],s=t.filter((e=>e.dataset["validateKeyOnly"]||e.dataset["validatePrice"]));"key"===i?this._inputsEvents(t):s.length&&this._inputsEvents(s),this._replaceDefaultValid(t),e.addEventListener("submit",(i=>{i.preventDefault();let s=!0;const a=[...e.querySelectorAll(".j-custom-select:not([data-no-validate])")];t.forEach((e=>{const t=this._validateInput(e),i=e.dataset["validateName"],a=document.querySelector(`[data-validate-error="${i}"]`);t.result?this._inputSuccess(e,a):(s=!1,this._inputError(e,a,t))})),a.length&&a.forEach((e=>{const t=this._validateSelect(e);t||(s=!1)})),s?this._formSuccess(e):this._formError(e)}))})),this._replaceDefaultValid(this.inputs),this._inputsEvents(this.inputs)}_subscribes(){p.subscribe("custom-select:close",(e=>{this._validateSelect(e.element)}))}_validateSelect(e){const t=e.dataset["placeholder"],i=e.querySelector(".j-custom-select__value").innerText,s=this._validateInput(e),a=e.dataset["validateName"],o=document.querySelector(`[data-validate-error="${a}"]`);let n=!0;return t===i?(this._inputError(e,o,s),n=!1):(this._inputSuccess(e,o),n=!0),n}_inputsEvents(e){e.forEach((e=>{if(!this._verifyDoubleInit(e))return;const t=e.dataset["validateName"],i=document.querySelector(`[data-validate-error="${t}"]`),s=e.dataset["validateKeyOnly"],a=e.hasAttribute("data-validate-price"),o=e.hasAttribute("data-validate-decimal");let n=null;const r=()=>{const t=this._validateInput(e);if(e.value.length)t.result?this._inputSuccess(e,i):this._inputError(e,i,t);else{const i=this._checkValidateClass(e);i&&this._setValidationClass(e,t)}};s&&this._onlyKeyEvents(e,s),a?this._formatPrice(e):o&&this._formatDecimal(e),e.addEventListener("focusout",(()=>{n=this._inputsAddKeyClass(e,n),setTimeout((()=>{r()}),0)}))}))}_onlyKeyEvents(e,t){const i=t.split(",").map((e=>Number(e)?Number(e):e.split("-").map((e=>Number(e))))),s=i.filter((e=>Number(e)||Array.isArray(e)&&e.filter((e=>Boolean(e))).length));e.addEventListener("keypress",(e=>{let t=!0;s.forEach((i=>{Array.isArray(i)?"undefined"!==typeof i[0]&&e.charCode>=i[0]&&"undefined"!==typeof i[1]&&e.charCode<=i[1]&&(t=!1):e.charCode===i&&(t=!1)})),t&&e.preventDefault()})),e.addEventListener("paste",(e=>{e.preventDefault()}))}_formatPrice(e){const t=e.dataset["validatePrice"]||this.options.separatorPrice;e.addEventListener("keypress",(e=>{e.charCode>=48&&e.charCode<=57||e.preventDefault()})),e.addEventListener("input",(()=>{const i=e.value.replaceAll(t,"");i&&(e.value=this._toFormatPrice(i,t))})),e.addEventListener("paste",(e=>{e.preventDefault()}))}_toFormatPrice(e,t=" "){const i=parseFloat(e).toFixed(0).replace(".",",");return i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}_formatDecimal(e){const t=e.dataset["validateDecimal"]||this.options.separatorDecimal,i=Number(e.dataset["validateDecimalDigits"])||this.options.decimalDigits;new(l())({regex:`\\d+(\\${t}\\d{${i}})?`,placeholder:"",showMaskOnHover:!1}).mask(e),e.addEventListener("focusout",(()=>{const s=e.value.split(t);s[1]?e.value=`${s[0]}${t}${s[1]+"0".repeat(i-s[1].length)}`:s[0]&&(e.value=`${e.value}${t}${"0".repeat(i)}`)}))}_inputsAddKeyClass(e,t){return e.classList.add(this.options.inputKey),t&&clearTimeout(t),setTimeout((()=>{e.classList.remove(this.options.inputKey)}),this.options.keyDelay)}_verifyDoubleInit(e){return!e.dataset["init"]&&(e.setAttribute("data-init","true"),!0)}_replaceDefaultValid(e){e.forEach((e=>{e.required&&(e.removeAttribute("required"),e.setAttribute("data-validate-required","")),"tel"===e.type&&(e.type="text",e.setAttribute("data-validate-tel","")),"email"===e.type&&(e.type="text",e.setAttribute("data-validate-email","")),"number"===e.type&&(e.type="text",e.setAttribute("data-validate-number","")),"url"===e.type&&(e.type="text",e.setAttribute("data-validate-url",""))}))}_validateInput(e){if(e.hasAttribute("data-validate-required")&&!this._validateRequired(e)){const t=e.dataset["validateRequiredMsg"]||this.messages.required;return{result:!1,error:"required",message:t}}if((e.hasAttribute("data-validate-mask")||e.hasAttribute("data-validate-tel")||"tel"===e.type)&&!this._validateMask(e)){const t=e.dataset["validateMaskMsg"]||this.messages.mask;return{result:!1,error:"mask",message:t}}if(e.hasAttribute("data-validate-regexp")&&!this._validateRegexp(e)){const t=e.dataset["validateRegexpMsg"]||this.messages.regexp;return{result:!1,error:"regexp",message:t}}if((e.hasAttribute("data-validate-email")||"email"===e.type)&&!this._validateEmail(e)){const t=e.dataset["validateEmailMsg"]||this.messages.email;return{result:!1,error:"email",message:t}}if((e.hasAttribute("data-validate-number")||"number"===e.type)&&!this._validateNumber(e)){const t=e.dataset["validateNumberMsg"]||this.messages.number;return{result:!1,error:"number",message:t}}if(e.hasAttribute("data-validate-letters")&&!this._validateLetters(e)){const t=e.dataset["validateLettersMsg"]||this.messages.letters;return{result:!1,error:"string",message:t}}if(e.hasAttribute("data-validate-url")&&!this._validateUrl(e)){const t=e.dataset["validateUrlMsg"]||this.messages.url;return{result:!1,error:"url",message:t}}if(e.hasAttribute("data-validate-min")&&!this._validateMin(e)){const t=e.dataset["validateMinMsg"]||this.messages.min;return{result:!1,error:"min",message:t}}if(e.hasAttribute("data-validate-max")&&!this._validateMax(e)){const t=e.dataset["validateMaxMsg"]||this.messages.max;return{result:!1,error:"max",message:t}}return{result:!0}}_checkIfEmptyNotRequired(e){return!e.value&&!e.dataset["validateRequired"]}_validateRequired(e){if("checkbox"===e.type)return e.checked;if("radio"===e.type){const t=e.closest("form"),i=t||document;return Boolean(i.querySelector(`input[name="${e.name}"]:checked`))}return Boolean(e.value)}_validateMask(e){return!!this._checkIfEmptyNotRequired(e)||e.inputmask.isComplete()}_validateRegexp(e){if(this._checkIfEmptyNotRequired(e))return!0;const t=e.dataset["validateRegexp"]||"",i=t.split("/");if("/"!==t[0]||3!==i.length)throw new Error("Не верный формат regexp");return new RegExp(String(i[1]),i[2]).test(e.value)}_validateMin(e){if(this._checkIfEmptyNotRequired(e))return!0;const t=e.dataset["validateMin"];return Number(t)?Number(e.value.length)>=Number(t):(console.error('Attribute "data-validate-min" is not number'),!1)}_validateMax(e){const t=e.dataset["validateMax"];return Number(t)?Number(e.value.length)<=Number(t):(console.error('Attribute "data-validate-max" is not number'),!1)}_validateEmail(e){return!!this._checkIfEmptyNotRequired(e)||this.options.emailReg.test(e.value.toLowerCase())}_validateNumber(e){return!!this._checkIfEmptyNotRequired(e)||this.options.numberReg.test(e.value)}_validateLetters(e){return!!this._checkIfEmptyNotRequired(e)||this.options.lettersReg.test(e.value)}_validateUrl(e){return!!this._checkIfEmptyNotRequired(e)||this.options.urlReg.test(e.value)}_inputSuccess(e,t){t&&this._hideError(t),this._setSuccessClassInput(e)}_inputError(e,t,i){t?(this._replaceTextError(e,t,i),this._showError(t)):console.warn("Element for display error not found!"),this._setErrorClassInput(e)}_replaceTextError(e,t,i){var s,a;if(!(null===(s=i.error)||void 0===s?void 0:s.length)||!i.message)return;const o=`${null===(a=i.error[0])||void 0===a?void 0:a.toUpperCase()}${i.error.slice(1)}`,n=e.dataset[`validate${o}`],r=n?i.message.replace(/\$/gi,n):i.message;t.innerHTML=`${r}`}_hideError(e){e.style.display="none"}_showError(e){e.style.display="block"}_setSuccessClassInput(e){e.classList.remove(this.options.inputError),e.classList.add(this.options.inputSuccess),e.setAttribute("validity","")}_setErrorClassInput(e){e.classList.remove(this.options.inputSuccess),e.classList.add(this.options.inputError),e.removeAttribute("validity")}_checkValidateClass(e){return e.classList.contains(this.options.inputError)||e.classList.contains(this.options.inputSuccess)}_setValidationClass(e,t){const i=this.forms[0];if(null===i||void 0===i?void 0:i.classList.contains(this.options.formError)){e.classList.remove(this.options.inputSuccess);const i=e.dataset["validateName"],s=document.querySelector(`[data-validate-error="${i}"]`);this._inputError(e,s,t)}else e.classList.remove(this.options.inputSuccess),e.classList.remove(this.options.inputError)}_formSuccess(e){e.classList.remove(this.options.formError),e.classList.add(this.options.formSuccess),e.setAttribute("validity",""),p.publish("formIsValid",e)}_formError(e){e.classList.remove(this.options.formSuccess),e.classList.add(this.options.formError),e.removeAttribute("validity")}}var v=h;const y=new v,m=new s.Z,_=(e,t={})=>{i.e(407).then(i.bind(i,6171)).then((({default:i})=>{const s={openButtons:e,...t},a=new i(s);a.init()}))},g=e=>{const t=document.querySelector(e);if(t){const e=Array.from(t.querySelectorAll(".j-video__tab")),i=t.querySelector(".j-video__iframe"),s="is-active";e.forEach((t=>{t.addEventListener("click",(t=>{const a=t.currentTarget;a&&i&&(i.src=a.dataset["video"]||"",e.forEach((e=>{const t=e===a?"add":"remove";e.classList[t](s)})))}))}))}},f=()=>{m.subscribe("popup:open",(e=>{if(!e.content)return;const t=e.content.querySelector(".j-form");t&&(y.update(),i.e(680).then(i.bind(i,4179)).then((({default:i})=>{(new i).init({target:t,popupInstance:e,successMessage:!0})})))}))},w=e=>{const t={removeDelay:300,closeButtonAriaLabel:"Закрыть форму обратного звонка",modify:"popup_theme_callback"};f(),_(e,t)},b=(e,t)=>{const i=e.querySelector(".j-form"),s=null===i||void 0===i?void 0:i.querySelector(".j-form__parametric-content");if(!i||!s)return;const a=i.querySelector(".j-form__fill-field");a&&(a.value=`${t.description}`),n.c.clearHtml(s),n.c.insetContent(s,o()(t))}},6890:function(e,t,i){"use strict";var s;i.d(t,{Ix:function(){return s},Zm:function(){return a},kI:function(){return o}}),function(e){e[e["TABLET_PORTRAIT"]=670]="TABLET_PORTRAIT",e[e["TABLET"]=960]="TABLET",e[e["TABLET_WIDE"]=1024]="TABLET_WIDE",e[e["DESKTOP"]=1280]="DESKTOP"}(s||(s={}));const a="d3c864b6-01f3-4748-b63c-688875219392",o=["resize","orientationchange"]},5399:function(e,t){"use strict";let i=null;class s{constructor(){return i||(i=this),this.channels={},i}subscribe(e,t){this.channels[e]||(this.channels[e]=[]),this.channels[e].push({context:this,callback:t})}unsubscribe(e){return!!this.channels[e]&&(delete this.channels[e],this)}publish(e,...t){return!!this.channels[e]&&(this.channels[e].forEach((e=>{e.callback.apply(e.context,t)})),this)}installTo(e){e.channels={},e.publish=this.publish,e.subscribe=this.subscribe}}t["Z"]=s},6639:function(e,t,i){"use strict";var s;i.d(t,{L:function(){return s}}),function(e){e["POST"]="POST",e["GET"]="GET",e["PUT"]="PUT",e["DELETE"]="DELETE"}(s||(s={}))},9167:function(e,t,i){"use strict";i.d(t,{c:function(){return r},w:function(){return p}});i(1125);var s=i(381),a=i(6890),o=i(6639);const n={success:e=>{console.warn(`This is the default handler for callbacks. Use custom instead. Req: ${e}`)},error:e=>{throw new Error(`This is the default handler for callbacks. Use custom instead. Error number: ${e}`)}};class r{static isTouchDevice(){return Boolean("undefined"!==typeof window&&("ontouchstart"in window||window.DocumentTouch&&"undefined"!==typeof document&&document instanceof window.DocumentTouch))||Boolean("undefined"!==typeof navigator&&(navigator.maxTouchPoints||navigator.maxTouchPoints))}static clearHtml(e){e.innerHTML=""}static insetContent(e,t){"string"===typeof t?e.insertAdjacentHTML("beforeend",t):"object"===typeof t&&e.appendChild(t)}static removeElement(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}static show(e){e.style.display="block"}static hide(e){e&&(e.style.display="none")}static getElementIndex(e){return e.parentNode?Array.from(e.parentNode.children).indexOf(e):-1}static isInViewport(e,t=0){const i=e.getBoundingClientRect(),s=i.top+t,a=i.left+t,o=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,r=0,l=s<=o&&s+i.height>=r,p=a<=n&&a+i.width>=r;return l&&p}static getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth}static getWindowHeight(){return window.innerHeight||document.documentElement.clientHeight}static getWindowOuterWidth(){return window.outerWidth}static getScreenWidth(){return window.screen.width}static getBodyWidth(){return document.body.getBoundingClientRect().width}static isMobile(){return r.getWindowWidth()<a.Ix.DESKTOP}static bodyFixed(e){(0,s.disableBodyScroll)(e,{reserveScrollBarGap:!0});const t=getComputedStyle(document.body).paddingRight,i=document.querySelector(".header");i&&(i.style.paddingRight=t)}static bodyStatic(){(0,s.clearAllBodyScrollLocks)();const e=document.querySelector(".header");e&&(e.style.paddingRight="0")}static loadScript(e,t){const i=document.createElement("script");i.onload=()=>{if(t)return t()},i.src=e;const s=document.getElementsByTagName("head")[0];s&&s.appendChild(i)}static throttle(e,t){let i=null;return s=>{const a=i;i=Date.now(),(null===a||i-a>t)&&e(s)}}static debounce(e,t){let i=null,s=null;return a=>{const o=i;i=Date.now(),o&&i-o<=t&&s&&clearTimeout(s),s=setTimeout((()=>{e(a)}),t)}}static checkInternetConnection(){return navigator.onLine}static send(e,t,i=n,s=o.L.POST){const a=new XMLHttpRequest,r=200;a.open(s,t),e instanceof FormData||a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(e),a.onload=function(){if(a.status===r){const e=JSON.parse(this.responseText);i.success&&i.success(e)}else i.error&&i.error(a.status);i.complete&&i.complete()},a.onerror=function(){i.error&&i.error(a.status),i.complete&&i.complete()}}static random(e,t){return Math.floor(Math.random()*(t-e)+e)}static convertToDigit(e){return Number(e)?Number(e).toLocaleString("ru-Ru"):e}static convertToRank(e,t){const i=Number(e);return i/t}static convertToNumber(e){return parseFloat(e.toString().replace(/\s/g,""))}static pluralWord(e,t){const i=e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;return t[i]}static getUrlParams(e){const t=window.location.search,i=new URLSearchParams(t);return i.get(e)}static clickOutside(e,t=function(){},i=function(){}){if(!(null===e||void 0===e?void 0:e.length))return;const s=[];"string"==typeof e?s.push(Array.from(document.querySelectorAll(e))):e.forEach((e=>{s.push(Array.from(document.querySelectorAll(e)))})),document.addEventListener("click",(e=>{let a=e.target;do{try{s.forEach((e=>{if(-1!==e.indexOf(a))throw i(),!1}))}catch(o){return}a&&(a=a.parentNode)}while(a);t()}))}static isElement(e){return Boolean(e.tagName)}static closest(e,t){return e&&t?e.closest(t):null}static isWindows(){var e,t;const i=(null===(t=null===(e=window.navigator)||void 0===e?void 0:e.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform,s=["Win32","Win64","Windows","WinCE"];return-1!==s.indexOf(i)}static checkMap(e){var t;const i=window.ymaps,s=null!==(t=null===window||void 0===window?void 0:window.yandexMapKey)&&void 0!==t?t:a.Zm;i?e():this.loadScript(`https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=${s}`,e)}}class l{constructor(e=3){this.stopValue=e,this.countValue=this.stopValue}tick(){return this.countValue?(this.countValue--,!1):(this.countValue=this.stopValue,!0)}}class p{constructor(e=(()=>null),t=200){this.counter=new l(3),this.callback=e,this.interval=t,this._bindMethodsContext()}connect(){r.checkInternetConnection()||this.counter.tick()?this.callback():this._reconnect(this.connect)}_bindMethodsContext(){this.connect=this.connect.bind(this)}getErrorMessage(){return r.checkInternetConnection()?"<h1>На сервере произошла ошибка. Повторите запрос позднее</h1>":"<h1>Вы не подключены к интернету. Повторите запрос позднее</h1>"}_reconnect(e){setTimeout((()=>{e()}),this.interval)}}},606:function(e,t,i){"use strict";i.d(t,{C8:function(){return S},wY:function(){return C},ON:function(){return I},oC:function(){return P},eK:function(){return x},Hy:function(){return E}});i(5383);var s=i(9167),a=i(1198),o=i.n(a),n=i(6639),r=i(5849),l=i.n(r),p=i(9629),c=i.n(p),u=i(5399),d=i(2420),h=i.n(d),v=(i(2576),i(9454)),y=i.n(v),m=i(4208),_=i.n(m);const g="is-active";class f{constructor(e){this.scalingItem=e,this._setOptions(),this._initHammer()}_getOuterOptions(){const e=Number(this.scalingItem.dataset["minscale"])||1,t=Number(this.scalingItem.dataset["maxscale"])||3;return{minScale:e,maxScale:t}}_setOptions(){this.startX=0,this.startY=0,this.startScale=1,this._resetTransform(),this.options=this._getOuterOptions()}_initHammer(){this.ham=new(c())(this.scalingItem,{domEvents:!0}),this.scalingItem.addEventListener("touchstart",(e=>{e.touches.length>=2&&this.ham.get("pinch").set({enable:!0})})),this.scalingItem.addEventListener("touchend",(e=>{e.touches.length<2&&this.ham.get("pinch").set({enable:!1})})),this.ham.get("pan").set({direction:c().DIRECTION_HORIZONTAL}),this._bindTouchEvents()}_bindTouchEvents(){this.ham.on("pinchstart pinchmove pinchend",this._onPinch.bind(this)),this.ham.on("pinchend",this._onPinchEnd.bind(this)),this.ham.on("panstart panmove",this._onPan.bind(this)),this.ham.on("panend",this.onPanEnd.bind(this))}_onPan(e){const t=this.transform.scale;if(t<=this.options.minScale)return;"panstart"===e.type&&(this.startX=this.transform.translate.x?this.transform.translate.x:0,this.startY=this.transform.translate.y?this.transform.translate.y:0);const i=this.startX+e.deltaX,s=this.startY+e.deltaY,a=this._getUpdatedTranslate([i,s]);this.transform.translate={x:a[0],y:a[1]},this._updateElementTransform()}onPanEnd(){this.transform.scale>this.options.minScale||(this._resetTransform(),this._updateElementTransform())}_onPinch(e){"pinchend"===e.type&&this.transform.scale===this.options.minScale&&this.scalingItem.classList.remove(g),"pinchstart"===e.type&&(this.scalingItem.classList.add(g),this.startScale=this.transform.scale?this.transform.scale:1),this._setAbsTranslateValue(),this.transform.scale=this._getUpdatedScale(this.startScale*e.scale),this._updateElementTransform()}_onPinchEnd(){const e=this.transform.translate.x,t=this.transform.translate.y,i=this._getUpdatedTranslate([e,t]);this.transform.translate={x:i[0],y:i[1]},this._updateElementTransform()}_updateElementTransform(){this.scalingItem.style.transform=this.transform.scale===this.options.minScale?"":`translate3d(${this.transform.translate.x}px,\n            ${this.transform.translate.y}px, 0) scale(${this.transform.scale},\n            ${this.transform.scale}) rotate(0deg)`}_getUpdatedTranslate(e){let[t,i]=e;return this.absTranslateX<=t?t=this.absTranslateX:-this.absTranslateX>=t&&(t=-this.absTranslateX),this.absTranslateY<=i?i=this.absTranslateY:-this.absTranslateY>=i&&(i=-this.absTranslateY),[t,i]}_setAbsTranslateValue(){const e=this.scalingItem.offsetWidth,t=this.scalingItem.offsetHeight,i=e*this.transform.scale,s=t*this.transform.scale;this.absTranslateX=(i-e)/2,this.absTranslateY=(s-t)/2}_getUpdatedScale(e){let t=e;return e<this.options.minScale?t=this.options.minScale:e>this.options.maxScale&&(t=this.options.maxScale),t}_resetTransform(){this.transform={translate:{x:0,y:0},scale:1}}}var w=f;const b=new u.Z,T=()=>null;class k{constructor(e={}){this.content=null,this.currentState=!1,this.template=null,this.popup=null,this.closeButtons=[],this.openStateClass=e.openStateClass||"popup_state_open",this.closeButtonAriaLabel=e.closeButtonAriaLabel||"Закрыть всплывающее окно",this.openButtons=e.openButtons||[],this.onCreate=e.onCreate||T,this.onClose=e.onClose||T,this._bindMethodsContext()}init(){this._bindOpenEvents()}showPopup(){this.popup&&(this.popup.classList.add(this.openStateClass),s.c.bodyFixed(this.popup))}displayPopup(){this.showPopup(),b.publish("popup:open",this),this.currentState=!0}hidePopup(){this.popup&&(this.popup.classList.remove(this.openStateClass),s.c.bodyStatic())}removePopup(){this.popup&&(this.hidePopup(),s.c.removeElement(this.popup),b.publish("popup:close",this),this.currentState=!1,document.removeEventListener("keyup",this._closeByKeyboard),document.removeEventListener("click",this._closeByMouse),this.onClose())}reOpen(){this.removePopup(),this._open()}_createPopup(){this._setData(),this._setTemplates(),this._setPopupOnPage(),this._getElements(),this._bindCloseEvents(),this.onCreate()}_getDataAttrValue(e){const t=[...new Set(this.openButtons.map((t=>t.getAttribute(e))))];if(1!==t.length||!t[0])throw new Error(`Expect one ${e}. You set: ${t[0]?t:0}`);return t[0]}_getElements(){var e,t;this.popup=document.querySelector(".j-popup__body"),this.content=document.querySelector(".j-popup__content");const i=[...(null===(e=this.popup)||void 0===e?void 0:e.querySelectorAll(".j-popup__close"))||[]].map((e=>e)),s=null===(t=this.popup)||void 0===t?void 0:t.querySelector(".j-popup__overlay");this.closeButtons=[...i,s]}_bindOpenEvents(){this.openButtons.forEach(((e,t)=>{e.addEventListener("click",(i=>{i.preventDefault(),this.currentState||(this.currentTarget=e,this._open(),this._onClick(t))}))}))}_bindCloseEvents(){this._closeByMouse(),document.addEventListener("keyup",this._closeByKeyboard)}_setTemplates(){this.template=o()}_bindMethodsContext(){this._closeByKeyboard=this._closeByKeyboard.bind(this),this.removePopup=this.removePopup.bind(this)}_setPopupOnPage(){null!==this.template&&document.body.insertAdjacentHTML("afterbegin",this.template(this.data))}_closeByMouse(){this.closeButtons.forEach((e=>{e.addEventListener("click",this.removePopup)}))}_closeByKeyboard(e){"Escape"===e.code&&this.removePopup()}}class x extends k{constructor(e){super(e),this.data=null,this.closeStateClass=e.closeStateClass||"popup_state_close",this.closeButtonAriaLabel="Закрыть",this.modify=e.modify||"",this.removeDelay=e.removeDelay||0}removePopup(){this.popup&&(this.removeDelay?(this.popup.classList.remove(this.openStateClass),this.popup.classList.add(this.closeStateClass),setTimeout((()=>{super.removePopup()}),this.removeDelay)):super.removePopup())}_open(){this._createPopup(),this.displayPopup()}_onClick(){}_setData(){var e,t,i,s;const a=this._getDataAttrValue("data-href");this.data={buttonAriaLabel:this.closeButtonAriaLabel,modify:this.modify,content:null===(e=document.getElementById(a))||void 0===e?void 0:e.innerHTML,targetModify:null!==(s=null===(i=null===(t=this.currentTarget)||void 0===t?void 0:t.dataset)||void 0===i?void 0:i["modify"])&&void 0!==s&&s}}}class E extends x{constructor(){super(...arguments),this.popupHeader=null}_getElements(){super._getElements(),this.popupHeader=document.querySelector(".j-popup__header")||null}_bindOpenEvents(){super._bindOpenEvents(),this._parseUrl()}_bindCloseEvents(){super._bindCloseEvents(),this._closeBySwipe()}displayPopup(){super.displayPopup(),this._setHash(),window.isSPWHOpen=!0}removePopup(){super.removePopup(),this._clearHash(),window.isSPWHOpen=!1}_closeBySwipe(){if(!this.popupHeader)return;const e=new(c())(this.popupHeader);e.get("swipe").set({direction:c().DIRECTION_ALL}),e.on("swipedown",this.removePopup)}_parseUrl(){const e=this._getDataAttrValue("data-href");this.currentState||window.location.hash!==`#${e}`||window.isSPWHOpen||(this._createPopup(),this.displayPopup())}_setHash(){const e=this._getDataAttrValue("data-href");window.history.pushState(null,"",`#${e}`)}_clearHash(){window.history.pushState?window.history.pushState(null,"",window.location.pathname+window.location.search):window.location.hash=""}}class S extends k{constructor(e){super(e),this.contentInfo=null,this._setData=this._setData.bind(this),this.serverConnection=new s.w(this._sendDataRequest.bind(this))}_open(){this.serverConnection.connect()}_setData(){this.data={buttonAriaLabel:this.closeButtonAriaLabel,contentInfo:this.contentInfo}}_onClick(){}_sendDataRequest(){const e=this,t=this._getDataAttrValue("data-ajax"),i={success(t){e.contentInfo=t.data.content},error(e){console.error(`Server error with status ${e}`)},complete(){e.contentInfo=e.contentInfo||e.serverConnection.getErrorMessage(),e._createPopup(),e.displayPopup(),e.contentInfo=null}};s.c.send(null,t,i,this._getQueryType())}_getQueryType(){const e=[...new Set(this.openButtons.map((e=>e.getAttribute("data-query"))))];if(e.length>1)throw new Error(`Expect maximum one data-query. You set: ${e}`);return e[0]||n.L.POST}}class C extends x{constructor(e){super(e),this.data=null,this.closeButtonAriaLabel="Закрыть"}_setTemplates(){this.template=l()}_setData(){this.data={buttonAriaLabel:this.closeButtonAriaLabel,modify:this.modify,items:this._collectSlidesData()}}_onClick(){this.popup&&(this.gallery=this.popup.querySelector(".j-popup-gallery"),this._initPinch())}_collectSlidesData(){return this.openButtons.reduce(((e,t)=>(t.closest(".cloned-slide")||e.push({src:t.getAttribute("data-src"),alt:t.getAttribute("data-alt"),caption:t.getAttribute("data-caption")}),e)),[])}_initPinch(){if(!this.gallery)return;const e=[...this.gallery.querySelectorAll("img")];e.forEach((e=>new w(e)))}}class P extends S{constructor(e){super(e),this.data=null,this.contentInfo=null,this.templateContent=y(),this.modify=e.modify||""}_sendDataRequest(){const e=this,t=this._getDataAttrValue("data-ajax"),i={success(t){e.contentInfo=t.data},error(e){console.error(`Server error with status ${e}`)},complete(){e.contentInfo=e.contentInfo||e.serverConnection.getErrorMessage(),e._createPopup(),e.displayPopup()}};s.c.send(null,t,i,this._getQueryType())}_setTemplates(){this.template=_()}_setData(){const e="string"===typeof this.contentInfo||null===this.contentInfo?[]:this.contentInfo.albums;this.currentItemIndex=e.findIndex((e=>Number(e.id)===Number(this.currentItemId))),this.data={buttonAriaLabel:this.closeButtonAriaLabel,modify:this.modify,progress:e[this.currentItemIndex]||!1,prev:e[this.currentItemIndex-1]||!1,next:e[this.currentItemIndex+1]||!1}}_onClick(){this.currentItemId=this.currentTarget.dataset["id"]}_createPopup(){super._createPopup(),this._initChange()}_initChange(){this.content&&(this.navButtons=Array.from(this.content.querySelectorAll(".j-progress-nav")),this.navButtons.forEach((e=>{e.addEventListener("click",this._changeContent.bind(this))})))}_changeContent(e){var t,i;this.content&&(this.currentItemId=null===(t=e.currentTarget)||void 0===t?void 0:t.dataset["id"],this._setData(),s.c.clearHtml(this.content),s.c.insetContent(this.content,this.templateContent(this.data)),null===(i=this.popup)||void 0===i||i.scroll({top:0,behavior:"smooth"}),this._initChange())}}class I extends S{constructor(e){super(e),this.data=null,this.contentInfo=null,this.modify=e.modify||""}_sendDataRequest(){const e=this,t=this._getDataAttrValue("data-ajax"),i={success(t){e.contentInfo=t.data},error(e){console.error(`Server error with status ${e}`)},complete(){e.contentInfo=e.contentInfo||e.serverConnection.getErrorMessage(),e._createPopup(),e.displayPopup()}};s.c.send(null,t,i,this._getQueryType())}_setTemplates(){this.template=h()}_setData(){const e="string"===typeof this.contentInfo||null===this.contentInfo?[]:this.contentInfo.cameras||[];this.data={buttonAriaLabel:this.closeButtonAriaLabel,modify:this.modify,tabs:e}}}},1522:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{class:["visual",{visual_frame_grid:e.gridFrame},{visual_theme_floor:e.floorStep},{"is-overlay":e.isPanelOpen}]},[t("PanelComponent"),t("transition",{attrs:{name:"fade"}},[e.isPinchVisible?t("PinchzoomComponent"):e._e()],1),e.isProcessing?t("PreloaderComponent"):e._e(),t("RouterView",{attrs:{"floor-step":e.floorStep,"window-width":e.windowWidth,"window-height":e.windowHeight}}),t("TooltipComponent")],1)},a=[],o=i(6890),n=i(629),r=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"transform"}},[e.visible?t("div",{ref:"panel",class:["panel",{panel_theme_floor:"floor"===e.dataStep.step}]},[t("div",{directives:[{name:"touch",rawName:"v-touch:swipe.bottom",value:e.closePanel,expression:"closePanel",arg:"swipe",modifiers:{bottom:!0}}],staticClass:"panel__header"},[t("ButtonItem",{class:["visual-button__close"],attrs:{"icon-after":"CloseIcon","icon-modify":"visual-button__close-icon"},on:{click:e.closePanel}})],1),[t("div",{staticClass:"panel__body"},[t("div",{staticClass:"panel__content"},[e.insertComponent?[t("keep-alive",[t(e.component,{tag:"component"})],1)]:[e.panel.render?t("div",{staticClass:"panel__render-wrapper"},[t("div",{staticClass:"panel__render",on:{click:function(t){return e.toNextStep(e.panel)}}},[t("img",{staticClass:"panel__render-image",attrs:{src:e.panel.render,alt:"corpus"}})])]):e._e(),t("div",{staticClass:"panel__info"},[t("div",{staticClass:"panel__info-header"},["floor"!==e.dataStep.step?[e.panel.title?t("div",{staticClass:"panel__title",on:{click:function(t){return e.toNextStep(e.panel)}}},[e._v(" "+e._s(e.panel.title)+" ")]):e._e(),e.panel.deadline?t("div",{staticClass:"panel__deadline"},[e._v(" "+e._s(e.panel.deadline)+" ")]):e._e()]:[e.panel.title?t("div",{staticClass:"panel__title",on:{click:function(t){return e.toNextStep(e.panel)}}},[e._v(" "+e._s(e.panel.title)+" ")]):e._e(),e.panel.area?t("div",{staticClass:"panel__title"},[e._v(" "+e._s(e.formatArea(e.panel.area))+" м² ")]):e._e()]],2),"floor"!==e.dataStep.step?[t("ul",{staticClass:"panel__params"},e._l(e.panel.params,(function(i,s){return t("li",{key:s,staticClass:"panel__param"},[i.title?t("div",{staticClass:"panel__param-flats"},[e._v(" "+e._s(i.title)+" ")]):e._e(),i.amount>=0?t("div",{staticClass:"panel__param-amount"},[e._v(" "+e._s(i.amount)+" ")]):e._e(),i.area?t("div",{staticClass:"panel__value"},[e._v(" "+e._s(e.formatArea(e.panel.area))+" м² ")]):e._e(),e.hidePrice.status?[t("div",{staticClass:"panel__value"},[e._v(" "+e._s(e.hidePrice.text)+" ")])]:[t("div",{staticClass:"panel__value"},[e._v(" от "+e._s(e.convertPriceRank(i.price))+" млн ")])]],2)})),0)]:e.panel.block||e.panel.section||e.panel.floor?[t("div",{staticClass:"panel__params"},[e.panel.block?t("div",{staticClass:"panel__param"},[e._v(" Корпус "+e._s(e.panel.block)+" ")]):e._e(),e.panel.section?t("div",{staticClass:"panel__param"},[e._v(" Секция "+e._s(e.panel.section)+" ")]):e._e(),e.panel.floor?t("div",{staticClass:"panel__param"},[e.panel.floor.value?t("span",[e._v("Этаж "+e._s(e.panel.floor.value))]):e._e(),e.panel.floor.total?t("span",[e._v(" из "+e._s(e.panel.floor.total))]):e._e()]):e._e()]),t("div",{staticClass:"panel__prices"},[e.hidePrice.status?[t("div",{staticClass:"panel__price"},[e._v(" "+e._s(e.hidePrice.text)+" ")])]:e.panel.showPrice?[e.panel.price?t("div",{class:["panel__price",{"action-price":e.panel.actionPrice}]},[e._v(" "+e._s(e.convertPriceDigit(e.panel.price))+" ₽ ")]):e._e(),e.panel.actionPrice?t("div",{staticClass:"action-price__action-wrapper"},[t("div",{staticClass:"action-price__action"},[t("span",{staticClass:"action-price__action-value"},[e._v(" -"+e._s(e.convertPriceDigit(e.panel.actionPrice.value))+" ₽ ")])]),t("div",{staticClass:"action-price__basic-price"},[e._v(" "+e._s(e.convertPriceDigit(e.panel.actionPrice.base))+" ₽ ")])]):e._e()]:[t("div",{staticClass:"panel__price"},[e._v(" "+e._s(e.panel.state.additionalTitle||e.panel.state.title)+" ")])]],2)]:e._e()],2)]],2)]),t("div",{staticClass:"panel__footer"},[e.insertComponent?[t("ButtonItem",{class:["visual-button__button visual-button_width_block"],attrs:{text:e.resultButtonText},on:{click:e.closePanel}})]:[e.panel.link&&e.panel.linkTitle&&!e.panel.viewType?[t("ButtonItem",{class:["visual-button__button visual-button_width_block"],attrs:{text:e.panel.linkTitle},on:{click:function(t){return e.toNextStep(e.panel)}}})]:e._e(),"card"===e.panel.viewType&&e.panel.linkTitle?[t("ButtonItem",{class:["visual-button__button visual-button_width_block"],attrs:{text:e.panel.linkTitle},on:{click:function(t){return e.toNextStep(e.panel)}}})]:e._e(),"popup"===e.panel.viewType&&e.panel.linkTitle?[t("ButtonItem",{class:["visual-button__button visual-button_width_block",{"j-popup-callback":!e.iframeView}],attrs:{"data-no-hash":e.isPopup(e.panel.link),"data-href":e.isPopup(e.panel.link)&&!e.iframeView&&e.popupOptions.id,text:e.panel.linkTitle},on:{click:function(t){return e.openPopup(e.panel)}}})]:e._e()]],2)]],2):e._e()])},l=[],p=i(8712),c=(i(4916),i(5306),i(9714),i(6977),function(){var e=this,t=e._self._c;return t("button",{class:["visual-button",e.modify],attrs:{type:e.type},on:{click:e.click}},[t(e.iconBefore,{tag:"component",attrs:{"class-name":["visual-button__icon visual-button__icon_icon_before",e.iconModify]}}),t("span",{staticClass:"visual-button__text",domProps:{innerHTML:e._s(e.text)}}),t(e.iconAfter,{tag:"component",attrs:{"class-name":["visual-button__icon visual-button__icon_icon_after",e.iconModify]}})],1)}),u=[],d=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.0502 15.0507C15.4407 14.6602 16.0739 14.6602 16.4644 15.0507L24.9497 23.5359C25.3403 23.9264 25.3403 24.5596 24.9497 24.9501C24.5592 25.3406 23.926 25.3406 23.5355 24.9501L15.0502 16.4649C14.6597 16.0744 14.6597 15.4412 15.0502 15.0507Z"}}),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.9497 15.0507C25.3403 15.4412 25.3403 16.0744 24.9497 16.4649L16.4644 24.9501C16.0739 25.3406 15.4407 25.3406 15.0502 24.9501C14.6597 24.5596 14.6597 23.9264 15.0502 23.5359L23.5355 15.0507C23.926 14.6602 24.5592 14.6602 24.9497 15.0507Z"}})])},h=[],v={name:"CloseIcon",props:["className"]},y=v,m=i(1001),_=(0,m.Z)(y,d,h,!1,null,null,null),g=_.exports,f=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M3 8L21 8",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M21 16L3 16",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}}),t("circle",{attrs:{cx:"8",cy:"8",r:"2",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}}),t("circle",{attrs:{cx:"16",cy:"16",r:"2",transform:"rotate(-180 16 16)",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}})])},w=[],b={name:"FilterIcon",props:["className"]},T=b,k=(0,m.Z)(T,f,w,!1,null,null,null),x=k.exports,E={name:"ButtonItem",components:{CloseIcon:g,FilterIcon:x},props:{iconAfter:String,iconBefore:String,iconModify:String,text:String,type:{type:String,default:"button"},modify:String},methods:{click(){this.$emit("click")}}},S=E,C=(0,m.Z)(S,c,u,!1,null,null,null),P=C.exports,I=function(){var e=this,t=e._self._c;return t("form",{ref:"form",staticClass:"visual-filters__form",on:{change:e.change}},[t("div",{staticClass:"visual-filters__list"},e._l(e.roomsFilter.items,(function(i,s){return t("CheckboxItem",{key:s,attrs:{name:`room[${i.id}]`,checked:i.checked,color:i.color,disabled:i.disabled,value:i.id,title:i.title,modify:"checkbox_theme_filter"},on:{change:function(t){return e.changeCheckbox(i)}}})})),1)])},L=[],A=(i(7658),function(){var e=this,t=e._self._c;return t("div",{class:["checkbox",e.modify]},[t("input",{staticClass:"checkbox__input",attrs:{id:e.name,name:e.name,disabled:e.disabled,type:"checkbox"},domProps:{checked:e.checked,value:e.value}}),t("label",{staticClass:"checkbox__label",attrs:{for:e.name}},[e.color?t("span",{staticClass:"checkbox__legend",style:{backgroundColor:e.color}}):e._e(),e.isTablet?t("span",{staticClass:"checkbox__text"},[e._v(e._s(e.title.full))]):t("span",{staticClass:"checkbox__text"},[e._v(e._s(e.title.short))])])])}),M=[],R={name:"CheckboxItem",props:["modify","name","title","value","checked","color","disabled"],computed:(0,p.Z)({},(0,n.Se)({isTablet:"GET_IS_TABLET"}))},O=R,$=(0,m.Z)(O,A,M,!1,null,null,null),N=$.exports,Z={name:"FilterForm",components:{CheckboxItem:N},props:{items:Object},computed:(0,p.Z)({},(0,n.Se)({dataStep:"GET_DATA_STEP",roomsFilter:"GET_ROOMS_FILTER"})),methods:(0,p.Z)((0,p.Z)({},(0,n.nv)(["changeFilter"])),{},{change(){this._setURLParams(),this.changeFilter({form:this.$refs.form,query:this.$route.query})},_setURLParams(){const e=new FormData(this.$refs.form),t={},i=this.$route.query.rotateId?{rotateId:this.$route.query.rotateId}:{};e.forEach(((e,i)=>{t[i]=e}));const s=(0,p.Z)((0,p.Z)({},t),i);this.$router.push({query:s})},changeCheckbox(e){e.checked=!e.checked}})},F=Z,B=(0,m.Z)(F,I,L,!1,null,null,null),D=B.exports,H=function(){var e=this,t=e._self._c;return e.floors&&e.floors.length>1?t("div",{staticClass:"visual-floors-switcher"},[e.isMobile?[t("div",{staticClass:"visual-floors-switcher__panel"},[t("div",{staticClass:"visual-floors-switcher__panel-title"},[e._v("Этажи")]),t("div",{staticClass:"visual-floors-switcher__panel-amount"},[e._v(e._s(e.estateType)+" в продаже")])])]:e._e(),t("div",{class:["visual-floors-switcher__container",{"is-short":!e.isMobile&&e.floors.length<e.visibleItemsCount}]},[!e.isMobile&&e.floors.length>e.visibleItemsCount?t("button",{class:["visual-floors-switcher__prev",{"is-disabled":!e.floorSwitcher||e.floorSwitcher.isBeginning}],on:{click:e._goPrev}},[t("ArrowIconUp",{attrs:{"class-name":"visual-floors-switcher__svg"}})],1):e._e(),t("Swiper",{staticClass:"visual-floors-switcher__wrap",style:[e.wrapperHeight?{height:`${e.wrapperHeight}px`}:""],attrs:{direction:"vertical","slides-per-view":e.floors.length>=e.visibleItemsCount?e.visibleItemsCount:e.floors.length,"slides-per-group":e.floors.length>=e.visibleItemsCount?e.visibleItemsCount:e.floors.length,"auto-height":!0,"space-between":0,height:e.wrapperHeight},on:{swiper:e._initSwiper}},e._l(e.floors,(function(i,s){return t("swiper-slide",{key:i.id,class:["visual-floors-switcher__item",{"is-disabled":i.disabled},{"is-active":e.currentFloorId===Number(i.id)}]},[t("button",{ref:`floorSwitcherButton${s}`,refInFor:!0,class:["visual-floors-switcher__button",{"is-active":e.currentFloorId===Number(i.id)}],on:{mouseover:function(t){return e._mouseOverHandler(i.amount,t)},mousemove:e._mouseMoveHandler,mouseout:e._mouseLeaveHandler,click:function(t){return e._setFloor(i.id)}}},[e.isMobile?[t("span",[e._v(" "+e._s(i.title)+" этаж ")]),t("span",{staticClass:"visual-floors-switcher__button-amount"},[e._v(" "+e._s(i.amount)+" ")])]:[e._v(" "+e._s(i.title)+" ")]],2)])})),1),!e.isMobile&&e.floors.length>e.visibleItemsCount?t("button",{class:["visual-floors-switcher__next",{"is-disabled":!e.floorSwitcher||e.floorSwitcher.isEnd}],on:{click:e._goNext}},[t("ArrowIconDown",{attrs:{"class-name":"visual-floors-switcher__svg"}})],1):e._e()],1)],2):e._e()},z=[],V=(i(5069),i(2258)),G=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M9 1L5 5L1 1","stroke-width":"2","stroke-linecap":"round"}})])},j=[],q={name:"ArrowIconDown",props:["className"]},W=q,U=(0,m.Z)(W,G,j,!1,null,null,null),Y=U.exports,X=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M1 6L5 2L9 6","stroke-width":"2","stroke-linecap":"round"}})])},K=[],Q={name:"ArrowIconUp",props:["className"]},J=Q,ee=(0,m.Z)(J,X,K,!1,null,null,null),te=ee.exports,ie=i(9167),se={name:"FloorSwitcherComponent",components:{ArrowIconDown:Y,ArrowIconUp:te,Swiper:V.Swiper,SwiperSlide:V.SwiperSlide},data(){return{floorSwitcher:null,visibleItemsCount:7,wrapperHeight:0,onResize:null}},computed:(0,p.Z)((0,p.Z)({},(0,n.Se)({floorsFilter:"GET_FLOORS_FILTER",estatePlural:"GET_ESTATE_PLURAL",isMobile:"GET_IS_MOBILE"})),{},{floors(){return!!this.floorsFilter.items&&(this.floorsFilter&&Object.values(this.floorsFilter.items).reverse())},currentFloorId(){return Number(this.$route.params.floorId)},currentFloor(){return this.floors.find((e=>Number(e.id)===Number(this.currentFloorId)))},estateType(){return ie.c.pluralWord(3,this.estatePlural)},currentFloorIndex(){const e=this.floors.indexOf(this.currentFloor);return e<0?0:e}}),watch:{currentFloorIndex(){this.floorSwitcher&&this.floorSwitcher.slideTo(this.currentFloorIndex)},floors:{deep:!0,handler(){this._calcWrapperSize()}}},mounted(){this.onResize=ie.c.debounce((()=>{this._calcWrapperSize()}),100),o.kI.forEach((e=>{window.addEventListener(e,this.onResize)})),this._calcWrapperSize()},beforeDestroy(){o.kI.forEach((e=>{window.removeEventListener(e,this.onResize,!1)}))},methods:(0,p.Z)((0,p.Z)({},(0,n.nv)(["send"])),{},{_initSwiper(e){this.floorSwitcher=e,this.floorSwitcher.slideTo(this.currentFloorIndex)},_goPrev(){this.floorSwitcher.slidePrev()},_goNext(){this.floorSwitcher.slideNext()},_calcWrapperSize(){var e;const t=this.$refs.floorSwitcherButton0&&(null===(e=this.$refs)||void 0===e?void 0:e.floorSwitcherButton0[0]);if(!t)return;const i=t.offsetHeight,s=this.floors.length>this.visibleItemsCount?this.visibleItemsCount:this.floors.length;this.wrapperHeight=i*s},_setFloor(e){if(Number(e)===this.currentFloorId)return;const t=this.$route.path.replace(/floor[/]\d*/,`floor/${e}`),i=(0,p.Z)((0,p.Z)((0,p.Z)({step:this.$route.meta.step},this.$route.params.buildingId&&{buildingId:this.$route.params.buildingId}),this.$route.params.sectionId&&{sectionId:this.$route.params.sectionId}),{},{floorId:e},this.$dataset);this.$router.push({path:t,query:this.$route.query}),this.send({body:i})},_mouseOverHandler(e,t){this.isMobile||this.$root.$emit("mouseOverFloorSwitcher",{amount:e,event:t,direction:"left"})},_mouseMoveHandler(e){this.isMobile||this.$root.$emit("mouseMoveTooltip",e)},_mouseLeaveHandler(){this.isMobile||this.$root.$emit("mouseLeaveTooltip")}})},ae=se,oe=(0,m.Z)(ae,H,z,!1,null,null,null),ne=oe.exports,re={name:"PanelComponent",components:{ButtonItem:P,FilterForm:D,FloorSwitcherComponent:ne},data(){return{visible:!1,panel:!1,insertComponent:!1,openPanelTarget:null,component:null}},computed:(0,p.Z)((0,p.Z)({},(0,n.Se)({dataStep:"GET_DATA_STEP",hidePrice:"GET_HIDDEN_PRICE",popupOptions:"GET_IS_POPUP",estatePlural:"GET_ESTATE_PLURAL",elements:"GET_ELEMENTS",iframeView:"GET_IS_IFRAME",isMobile:"GET_IS_MOBILE"})),{},{resultButtonText(){return this.elements.length?`Показать ${this.estateType}`:`${this.estateType} не найдено`},estateType(){return ie.c.pluralWord(this.elements.length?3:0,this.estatePlural)}}),watch:{dataStep(){this.insertComponent||this.closePanel()},isMobile(){this.closePanel()}},mounted(){this._bindEvents(),this._subscribes()},methods:{_bindEvents(){document.addEventListener("click",this._onClickOutside)},_subscribes(){this.$root.$on("mouseOverPanel",(e=>{this._setData(e),this._insert(),this._initPopup(e.link)})),this.$root.$on("showPanel",(e=>{this._setComponent(e),this._insert()})),this.$root.$on("mouseLeavePanel",(()=>{this._remove()}))},_insert(){this.visible=!0},_remove(){this.visible=!1,this.panel=null},_setData(e){const t=Number(e.id),i=e.elements.find((e=>{const i=Number(e.id);return i===t&&e}));this.panel=(0,p.Z)({type:e.type,link:e.link,isSimpleLink:i.isSimpleLink,viewType:i.viewType,render:i.render,target:e.event.target,showPrice:e.showPrice||!0,state:e.state||null},i.tooltip)},_setComponent(e){this.insertComponent=!0,this.openPanelTarget=e.target,this.component=e.component},_onClickOutside(e){const{panel:t}=this.$refs;let i=null;this.panel?i=this.panel.target.contains(e.target):this.openPanelTarget&&(i=this.openPanelTarget.contains(e.target)),this.visible&&!i&&(t&&t.contains(e.target)||this.closePanel())},formatArea(e){return e.toString().replace(".",",")},convertPriceRank(e){return Number(e)?ie.c.convertToDigit(ie.c.convertToRank(e,1e6).toFixed(1)):e},convertPriceDigit(e){return Number(e)?ie.c.convertToDigit(e):e},closePanel(){this.insertComponent=!1,this.openFilterTarget=null,this._remove(),this.$root.$emit("closePanel")},toNextStep(e){this.$root.$emit("clickNextPanel",e)},_initPopup(){setTimeout((()=>{this.$root.$emit("initPopup")}),0)},openPopup(e){this.$root.$emit("openPopup",e)},isPopup(e){return!(null!==e&&void 0!==e&&e.length)&&Boolean(this.popupOptions)}}},le=re,pe=(0,m.Z)(le,r,l,!1,null,null,null),ce=pe.exports,ue=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.bindClick,expression:"bindClick",arg:"start"}],staticClass:"visual-pinchzoom"},[t("div",{staticClass:"visual-pinchzoom__container"},[t("ZoomHandIcon",{attrs:{"class-name":"visual-pinchzoom__svg"}})],1)])},de=[],he=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"69",height:"67",viewBox:"0 0 69 67",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{staticClass:"visual-pinchzoom__arrow visual-pinchzoom__arrow-left",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.397286 7.22859L5.19526 12.0083C5.72304 12.5341 6.58503 12.5325 7.11081 12.0047C7.63658 11.4769\n          7.63494 10.6149 7.10716 10.0892L4.62078 7.61221L15.9379 7.56721C16.6773 7.5658 17.2872 6.95358\n          17.2896 6.21034C17.2843 5.46712 16.6721 4.85722 15.9327 4.85863L4.62537 4.90359L7.09258\n          2.42697C7.61835 1.89919 7.61671 1.0372 7.08894 0.511425C6.56116 -0.0143473 5.69916 -0.0127071\n          5.17339 0.51507L0.393641 5.31305C0.244496 5.46276 0.137791 5.63937 0.0734958 5.82756C0.0248907\n          5.96749 -0.00106651 6.1176 3.35828e-05 6.27347C0.000339917 6.43446 0.0290343 6.58928 0.0814352\n          6.73297C0.146981 6.91429 0.252274 7.08413 0.397286 7.22859Z"}}),t("path",{staticClass:"visual-pinchzoom__arrow visual-pinchzoom__arrow-right",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M57.8917 7.22859L53.0937 12.0083C52.5659 12.5341 51.7039 12.5325 51.1781 12.0047C50.6524 11.4769\n          50.654 10.6149 51.1818 10.0892L53.6665 7.61387L41.9058 7.56711C41.1664 7.5657 40.5565 6.95348\n          40.5541 6.21024C40.5593 5.46701 41.1715 4.85712 41.9109 4.85852L53.6653 4.90526L51.1964\n          2.42697C50.6706 1.89919 50.6722 1.0372 51.2 0.511425C51.7278 -0.0143473 52.5898 -0.0127071 53.1156\n          0.51507L57.8953 5.31305C58.4211 5.84082 58.4194 6.70282 57.8917 7.22859Z"}}),t("path",{attrs:{d:"M41.1402 30.2752C40.3952 30.2752 39.7857 29.6657 39.7857 28.9207V23.3673C39.7857 21.9721 38.545\n        20.7937 37.0767 20.7937C35.6084 20.7937 34.3677 21.9477 34.3677 23.3131V28.9207C34.3677 29.6657\n        33.7582 30.2752 33.0132 30.2752C32.2682 30.2752 31.6587 29.6657 31.6587 28.9207V23.3131C31.6587\n        20.4334 34.086 18.0847 37.0767 18.0847C40.0132 18.0847 42.4947 20.5093 42.4947 23.3673V28.9207C42.4947\n        29.6657 41.8851 30.2752 41.1402 30.2752Z"}}),t("path",{attrs:{d:"M49.2671 32.9842C48.5222 32.9842 47.9126 32.3746 47.9126 31.6297V25.036C47.9126 23.6354 46.6719\n        22.4597 45.2036 22.4597C43.7354 22.4597 42.4946 23.6138 42.4946 24.9791V31.6297C42.4946 32.3746\n        41.8851 32.9842 41.1401 32.9842C40.3952 32.9842 39.7856 32.3746 39.7856 31.6297V24.9791C39.7856\n        22.0994 42.2129 19.7507 45.2036 19.7507C48.1402 19.7507 50.6216 22.1753 50.6216 25.036V31.6297C50.6216\n        32.3746 50.0121 32.9842 49.2671 32.9842Z"}}),t("path",{attrs:{d:"M46.39 66.8466H31.0896C24.6612 66.8466 20.0938 56.9209 16.0764 48.1654C14.5512 44.8523 13.1154\n        41.7261 11.9235 40.0384C10.1707 37.5732 10.2764 34.5148 12.1754 32.6104C14.2857 30.5001 17.6692\n        30.4405 19.7118 32.483L23.5396 36.4246V7.11872C23.5396 4.25261 26.0211 1.83618 28.9576 1.83618C31.9484\n        1.83618 34.3756 4.17946 34.3756 7.06454V23.5054C34.3756 24.2477 33.7661 24.8599 33.0211 24.8599C32.2761\n        24.8599 31.6666 24.2477 31.6666 23.5054V7.06454C31.6666 5.69921 30.4259 4.54247 28.9576 4.54247C27.4894\n        4.54247 26.2486 5.7263 26.2486 7.11601V39.7567C26.2486 40.3066 25.9154 40.8051 25.4007 41.011C24.8887\n        41.2277 24.3063 41.0949 23.9189 40.7048L17.7749 34.3875C16.8159 33.4285 15.1201 33.4881 14.0825\n        34.5256C12.9718 35.6363 13.3267 37.3511 14.1259 38.4726C15.4695 40.3662 16.8918 43.4572 18.5334\n        47.0331C21.8546 54.2552 26.3895 64.1376 31.0896 64.1376H46.1218C47.6632 63.455 56.0476 59.34 56.0476\n        50.5304V28.7907C56.0476 27.3901 54.8069 26.2171 53.3386 26.2171C51.8703 26.2171 50.6296 27.3712 50.6296\n        28.7365V34.3414C50.6296 35.0837 50.0201 35.6959 49.2751 35.6959C48.5301 35.6959 47.9206 35.0837 47.9206\n        34.3414V28.7365C47.9206 25.8568 50.3479 23.5054 53.3386 23.5054C56.2751 23.5054 58.7566 25.9327 58.7566\n        28.788V50.5277C58.7566 61.8783 47.3869 66.5541 46.8993 66.7437C46.7313 66.8141 46.5607 66.8466 46.39\n        66.8466Z"}})])},ve=[],ye={name:"ZoomHandIcon",props:["className"]},me=ye,_e=(0,m.Z)(me,he,ve,!1,null,null,null),ge=_e.exports,fe={name:"PinchzoomComponent",components:{ZoomHandIcon:ge},methods:(0,p.Z)((0,p.Z)({},(0,n.nv)(["changeStatePinch"])),{},{bindClick(){this.changeStatePinch(!1)}})},we=fe,be=(0,m.Z)(we,ue,de,!1,null,null,null),Te=be.exports,ke=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[t("div",{staticClass:"visual-loader loader"},[t("div",{staticClass:"loader__item"}),t("div",{staticClass:"loader__item"}),t("div",{staticClass:"loader__item"})])])},xe=[],Ee={name:"PreloaderComponent"},Se=Ee,Ce=(0,m.Z)(Se,ke,xe,!1,null,null,null),Pe=Ce.exports,Ie=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[e.visible?t("div",{ref:"wrapper",class:["visual-tooltip",{"visual-tooltip_theme_floor":e.themeFloor},{"visual-tooltip_theme_floor-switcher":this.fromFloorSwitcher},{"visual-tooltip_width_auto":e.tooltip.disabled},`is-${e.direction}`],style:[{top:`${e.y}px`},{left:`${e.x}px`}]},[e.fromFloorSwitcher?[e.tooltip.amount>1?t("div",[e._v(" "+e._s(e.tooltip.amount)+" "+e._s(e.estateType(e.tooltip.amount))+" в продаже ")]):t("div",[e._v(" Нет "+e._s(e.estateType(0))+" в продаже ")])]:[t("div",{staticClass:"visual-tooltip__header"},["floor"!==e.dataStep.step?[e.tooltip.title?t("div",{staticClass:"visual-tooltip__title"},[e._v(" "+e._s(e.tooltip.title)+" ")]):e._e(),e.tooltip.deadline?t("div",{staticClass:"visual-tooltip__deadline"},[e._v(" "+e._s(e.tooltip.deadline)+" ")]):e._e()]:[e.tooltip.title?t("div",{staticClass:"visual-tooltip__title"},[e._v(" "+e._s(e.tooltip.title)+" ")]):e._e(),e.tooltip.area?t("div",{staticClass:"visual-tooltip__title"},[e._v(" "+e._s(e.formatArea(e.tooltip.area))+" м² ")]):e._e()]],2),"floor"!==e.dataStep.step?[e.tooltip.params&&e.tooltip.params.length?t("ul",{staticClass:"visual-tooltip__params"},e._l(e.tooltip.params,(function(i,s){return t("li",{key:s,staticClass:"visual-tooltip__param"},[i.title?t("div",{staticClass:"visual-tooltip__param-flats"},[e._v(" "+e._s(i.title)+" ")]):e._e(),i.amount>=0?t("div",{staticClass:"visual-tooltip__param-amount"},[e._v(" "+e._s(i.amount)+" ")]):e._e(),i.area?t("div",{staticClass:"visual-tooltip__value"},[e._v(" "+e._s(e.formatArea(i.area))+" м² ")]):e._e(),e.hidePrice.status?[t("div",{staticClass:"visual-tooltip__value"},[e._v(" "+e._s(e.hidePrice.text)+" ")])]:[i.price?t("div",{staticClass:"visual-tooltip__value"},[e._v(" от "+e._s(e.convertPriceRank(i.price))+" млн ")]):e._e()]],2)})),0):e._e()]:[e.hidePrice.status?[t("div",{staticClass:"visual-tooltip__price"},[e._v(" "+e._s(e.hidePrice.text)+" ")])]:e.tooltip.showPrice?[t("div",{staticClass:"visual-tooltip__prices"},[e.tooltip.price?t("div",{class:["visual-tooltip__price",{"action-price":e.tooltip.actionPrice}]},[e._v(" "+e._s(e.convertPriceDigit(e.tooltip.price))+" ₽ ")]):e._e(),e.tooltip.actionPrice?t("div",{staticClass:"action-price__action-wrapper"},[t("div",{staticClass:"action-price__action"},[t("span",{staticClass:"action-price__action-value"},[e._v(" -"+e._s(e.convertPriceDigit(e.tooltip.actionPrice.value))+" ₽ ")])]),t("div",{staticClass:"action-price__basic-price"},[e._v(" "+e._s(e.convertPriceDigit(e.tooltip.actionPrice.base))+" ₽ ")])]):e._e()])]:[t("div",{staticClass:"visual-tooltip__price"},[e._v(" "+e._s(e.tooltip.state.additionalTitle||e.tooltip.state.title)+" ")])]]]],2):e._e()])},Le=[],Ae={name:"TooltipComponent",data(){return{visible:!1,tooltip:!1,direction:!1,fromFloorSwitcher:!1,rootOffset:0,x:0,y:0}},computed:(0,p.Z)((0,p.Z)({},(0,n.Se)({dataStep:"GET_DATA_STEP",hidePrice:"GET_HIDDEN_PRICE",estatePlural:"GET_ESTATE_PLURAL"})),{},{themeFloor(){return"floor"===this.dataStep.step&&!this.fromFloorSwitcher}}),watch:{tooltip(){this.$nextTick((()=>{this.wrapper=this.$refs.wrapper,this._checkBorders(),this._setX(),this._setY()}))}},mounted(){this._getElementOffset(),this._subscribes()},methods:{_subscribes(){this.$root.$on("mouseOverTooltip",(e=>{this._insert(e)})),this.$root.$on("mouseOverFloorSwitcher",(e=>{this.fromFloorSwitcher=!0,this._insert(e)})),this.$root.$on("mouseMoveTooltip",(e=>{this._change(e)})),this.$root.$on("mouseLeaveTooltip",(()=>{this._remove()}))},_insert(e){this.direction=e.direction||"over",this.offset=40,this._getMouseCoords(e.event),this._setData(e),this.visible=!0},_change(e){this._getMouseCoords(e),this._checkBorders(),this._setX(),this._setY()},_remove(){this.fromFloorSwitcher=!1,this.visible=!1},_getElementOffset(){var e,t;this.rootOffset=null===(e=this.$root)||void 0===e||null===(t=e.$el)||void 0===t?void 0:t.offsetTop},_getMouseCoords(e){this._getElementOffset(),this.mouseCoords={X:e.pageX,Y:e.pageY}},_setData(e){let t={};if(!this.fromFloorSwitcher){const i=Number(e.id);t=e.elements.find((e=>{const t=Number(e.id);return t===i&&e}))}this.tooltip=(0,p.Z)({type:e.type||null,modify:e.modify||null,amount:e.amount||null,disabled:t.disabled||null,showPrice:e.showPrice||!0,state:e.state||null},t.tooltip||null)},_checkBorders(){const e=2;let t=0,i=0;const s=()=>(t=this.mouseCoords.Y-this.offset,i=this.wrapper.offsetHeight+this.offset,t<i),a=()=>(t=window.innerWidth-this.mouseCoords.X,i=this.wrapper.offsetWidth/e+this.offset,t<i),o=()=>(t=this.mouseCoords.X+this.offset,i=this.wrapper.offsetWidth/e-this.offset,t<i);s()&&(this.direction="under"),a()&&(this.direction="left"),o()&&(this.direction="right")},_setX(){const e=2;switch(this.direction){case"over":case"under":this.x=this.mouseCoords.X-this.wrapper.offsetWidth/e;break;case"left":this.x=this.mouseCoords.X-this.wrapper.offsetWidth-this.offset;break;case"right":this.x=this.mouseCoords.X+this.offset;break;default:this.x=this.mouseCoords.X-this.wrapper.offsetWidth/e;break}},_setY(){const e=2;switch(this.direction){case"over":this.y=this.mouseCoords.Y-this.wrapper.offsetHeight-this.offset-this.rootOffset;break;case"under":this.y=this.mouseCoords.Y+this.offset-this.rootOffset;break;case"left":case"right":this.y=this.mouseCoords.Y-this.wrapper.offsetHeight/e-this.rootOffset;break;default:this.y=this.mouseCoords.Y-this.wrapper.offsetHeight-this.offset;break}},formatArea(e){return e.toString().replace(".",",")},convertPriceRank(e){return Number(e)?ie.c.convertToDigit(ie.c.convertToRank(e,1e6).toFixed(1)):e},convertPriceDigit(e){return Number(e)?ie.c.convertToDigit(e):e},estateType(e){return ie.c.pluralWord(e,this.estatePlural)}}},Me=Ae,Re=(0,m.Z)(Me,Ie,Le,!1,null,null,null),Oe=Re.exports,$e={name:"App",components:{PanelComponent:ce,PinchzoomComponent:Te,PreloaderComponent:Pe,TooltipComponent:Oe},data(){return{windowWidth:ie.c.getBodyWidth(),windowHeight:ie.c.getWindowHeight(),isPanelOpen:!1}},computed:{...(0,n.Se)({isMobile:"GET_IS_MOBILE",isPinch:"GET_IS_PINCH",isReady:"GET_IS_READY",dataStep:"GET_DATA_STEP",isProcessing:"GET_IS_PROCESSING",floorStep:"GET_FLOOR_STEP",gridFrame:"GET_GRID_FRAME"}),isPinchVisible(){return this.isPinch&&this.isMobile}},watch:{windowWidth(){this.setIsMobile(this.windowWidth<o.Ix.DESKTOP),this.setIsTablet(this.windowWidth<o.Ix.TABLET)}},created(){this.setIsMobile(this.windowWidth<o.Ix.DESKTOP),this.setIsTablet(this.windowWidth<o.Ix.TABLET),this.setStartSettings()},mounted(){this._bindEvents(),this._subscribes()},beforeDestroy(){this._unbindEvents()},methods:{...(0,n.nv)(["setStartSettings","setIsMobile","setIsTablet"]),_bindEvents(){o.kI.forEach((e=>{window.addEventListener(e,this._onResize.bind(this))}))},_unbindEvents(){o.kI.forEach((e=>{window.removeEventListener(e,this._onResize,!1)}))},_subscribes(){this.$root.$on("mouseOverPanel",(()=>{this.isPanelOpen=!0})),this.$root.$on("showPanel",(()=>{this.isPanelOpen=!0})),this.$root.$on("closePanel",(()=>{this.isPanelOpen=!1}))},_onResize(){this.windowWidth=ie.c.getBodyWidth(),this.windowHeight=ie.c.getWindowHeight()}}},Ne=$e,Ze=(0,m.Z)(Ne,s,a,!1,null,null,null),Fe=Ze.exports,Be=function(){var e=this,t=e._self._c;return t("div",{class:["visual__wrapper",{"is-show":e.isReady}]},[t("header",{staticClass:"visual__header"},[t("BreadcrumbsComponent",{attrs:{"floor-step":e.floorStep}}),t("CompassComponent")],1),t("div",{staticClass:"visual__canvas"},[t("CanvasComponent",{ref:"canvas",attrs:{"floor-step":e.floorStep,"window-width":e.windowWidth,"window-height":e.windowHeight}})],1),t("footer",{staticClass:"visual__footer"},[t("FilterComponent",{key:e.filterKey})],1),t("RotateComponent")],1)},De=[],He=(i(4765),i(3948),i(1637),function(){var e=this,t=e._self._c;return e.breadcrumbs.length?t("div",{staticClass:"visual-breadcrumbs"},[t("div",{staticClass:"visual-breadcrumbs__container"},[e.breadcrumbs.length>1?t("router-link",{staticClass:"visual-breadcrumbs__back",attrs:{to:{path:e.breadcrumbsBackLink,query:e.$route.query}}},[t("ArrowIconLeft",{attrs:{"class-name":"visual-breadcrumbs__back-icon"}})],1):e._e(),e.isMobile?e._e():t("ul",{staticClass:"visual-breadcrumbs__list"},e._l(e.breadcrumbsSteps,(function(i,s){return t("li",{key:s,staticClass:"visual-breadcrumbs__item"},[t("div",{staticClass:"visual-breadcrumbs__step"},[e._v(" "+e._s(i.name)+" ")])])})),0),e.isMobile&&!e.floorStep?t("div",{staticClass:"visual-breadcrumbs__step"},[e._v(" "+e._s(e.breadcrumbsCurrent.name)+" ")]):e._e(),e.isMobile&&e.floorStep&&e.currentFloor?[t("div",{ref:"floorSwitcherBreadcrumbs",staticClass:"visual-button visual-breadcrumbs__floor-switcher",on:{click:e.showPanel}},[t("div",{staticClass:"visual-filter__floor-switcher-button"},[e._v(" "+e._s(`Этаж ${e.currentFloor.title}`)+" ")]),t("div",{staticClass:"visual-breadcrumbs__floor-switcher-arrows"},[t("FloorChangeIcon")],1)])]:e._e()],2)]):e._e()}),ze=[],Ve=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"7",height:"10",viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M6 9L2 5L6 1","stroke-width":"2","stroke-linecap":"round"}})])},Ge=[],je={name:"ArrowIconLeft",props:["className"]},qe=je,We=(0,m.Z)(qe,Ve,Ge,!1,null,null,null),Ue=We.exports,Ye=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.64645 13.6464C8.84171 13.4512 9.15829 13.4512 9.35355 13.6464L12 16.2929L14.6464 13.6464C14.8417 13.4512 15.1583 13.4512 15.3536 13.6464C15.5488 13.8417 15.5488 14.1583 15.3536 14.3536L12 17.7071L8.64645 14.3536C8.45118 14.1583 8.45118 13.8417 8.64645 13.6464Z",fill:"black"}}),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.3536 10.3536C15.1583 10.5488 14.8417 10.5488 14.6464 10.3536L12 7.70711L9.35355 10.3536C9.15829 10.5488 8.84171 10.5488 8.64645 10.3536C8.45118 10.1583 8.45118 9.84171 8.64645 9.64645L12 6.29289L15.3536 9.64645C15.5488 9.84171 15.5488 10.1583 15.3536 10.3536Z",fill:"black"}})])},Xe=[],Ke={name:"FloorChangeIcon",props:["className"]},Qe=Ke,Je=(0,m.Z)(Qe,Ye,Xe,!1,null,null,null),et=Je.exports,tt={name:"BreadcrumbsComponent",components:{ArrowIconLeft:Ue,FloorChangeIcon:et},props:{floorStep:Boolean},data(){return{floors:null,currentFloor:null}},computed:(0,p.Z)((0,p.Z)({},(0,n.Se)({breadcrumbs:"GET_BREADCRUMBS",dataStep:"GET_DATA_STEP",floorsFilter:"GET_FLOORS_FILTER",filtersCount:"GET_FLOORS_FILTER_COUNT",isMobile:"GET_IS_MOBILE"})),{},{breadcrumbsBackLink(){return this.breadcrumbs[this.breadcrumbs.length-2].link},breadcrumbsSteps(){return this.breadcrumbs.length>1?this.breadcrumbs.slice(1):this.breadcrumbs},breadcrumbsCurrent(){return this.breadcrumbs[this.breadcrumbs.length-1]}}),watch:{filtersCount(){this._setFloors(),this._setCurrentFloor()}},mounted(){this._setFloors(),this._setCurrentFloor()},methods:{_setFloors(){this.floors=this.floorsFilter&&this.floorsFilter.items?Object.values(this.floorsFilter.items):[]},_setCurrentFloor(){this.floors&&(this.currentFloor=this.floors.find((e=>e.active)))},showPanel(){this.$root.$emit("showPanel",{target:this.$refs.floorSwitcherBreadcrumbs,component:"FloorSwitcherComponent"})}}},it=tt,st=(0,m.Z)(it,He,ze,!1,null,null,null),at=st.exports,ot=function(){var e=this,t=e._self._c;return t("div",{ref:"canvas",class:["visual-canvas",{"visual-canvas_theme_floor":e.floorStep},e.modify]},[t("SvgPanZoom",{ref:"panzoom",staticStyle:{width:"100%",height:"100%"},attrs:{zoomEnabled:!0,controlIconsEnabled:!1,mouseWheelZoomEnabled:!1,preventMouseEventsDefault:!1,dblClickZoomEnabled:!1,panEnabled:e.isPanEnabled,fit:!1,center:!1,minZoom:e.minZoom,maxZoom:e.maxZoom,customEventsHandler:{haltEventListeners:e.haltListeners,init:e._initCustomEvents,destroy:e._destroyCustomEvents},beforePan:e._beforePan},on:{svgpanzoom:e._initPanZoom}},[t("svg",{attrs:{width:"100%",height:"100%"}},[t("g",[t("svg",{ref:"render",staticClass:"visual-canvas__svg",attrs:{viewBox:[`0 0 ${e.renderSize.width} ${e.renderSize.height}`],preserveAspectRatio:e.floorStep?"xMidYMid":"xMidYMid slice"}},[t("image",{attrs:{href:e.render.link,x:"0",y:"0",width:"100%",height:"100%"}}),e.overlay&&!e.floorStep?t("rect",{staticClass:"visual-canvas__overlay",attrs:{"fill-opacity":e.overlay,width:"100%",height:"100%",mask:"url(#visual-canvas__overlay)"}}):e._e(),e._l(e.elements,(function(i){return t("path",{key:i.id,class:["visual-canvas__path",{"is-disabled":i.disabled},{"is-booked":i.booked},{"is-hovered":Number(i.id)===e.activeElement},{"j-popup-callback":!e.isMobile&&e.isPopup(i.viewType)&&!e.iframeView}],style:!!e.floorStep&&e.setPathStyle(i.maskColor),attrs:{id:i.id,d:i.path,"data-no-hash":!e.isMobile&&e.isPopup(i.viewType),"data-href":!e.isMobile&&e.isPopup(i.viewType)&&!e.iframeView&&e.popupOptions.id},on:{mouseover:function(t){return e.mouseOverHandler(t,i)},mousemove:function(t){return e.mouseMoveHandler(t,i)},mouseleave:function(t){return e.mouseLeaveHandler(i)},click:function(t){return e.clickHandler(i)}}})})),e.overlay&&!e.floorStep?t("defs",{staticClass:"visual-canvas__mask"},[t("mask",{attrs:{id:"visual-canvas__overlay"}},[t("rect",{attrs:{fill:"white",width:"100%",height:"100%"}}),e._l(e.elements,(function(e,i){return t("path",{key:i,attrs:{d:e.path}})}))],2)]):e._e(),e.pointers.length?[t("PointerComponent",{attrs:{pointers:e.pointers,elements:e.elements,"floor-step":e.floorStep}})]:e._e(),e.renderPointers.length?[t("RenderPointerComponent",{attrs:{"render-pointers":e.renderPointers}})]:e._e(),e.panorama.length?[t("PanoramaComponent",{attrs:{panorama:e.panorama},on:{"open-planoplan":e._openPlanoplan}})]:e._e()],2)])])]),e.zoom&&e.floorStep?[t("ul",{staticClass:"visual-canvas__zoom-controls"},[t("li",{staticClass:"visual-canvas__zoom-control",on:{click:e.zoomIn}},[t("ZoomPlusIcon",{attrs:{"class-name":["visual-canvas__zoom-icon",{"is-disabled":e.zoomValue>=this.maxZoom}]}})],1),t("li",{staticClass:"visual-canvas__zoom-control",on:{click:e.zoomOut}},[t("ZoomMinusIcon",{attrs:{"class-name":["visual-canvas__zoom-icon",{"is-disabled":e.zoomValue<=e.minZoom}]}})],1)])]:e._e(),e.isPlanoplanOpen?t("div",{ref:"planoplanPopup",staticClass:"visual-panorama__popup"},[t("div",{staticClass:"visual-panorama__planoplan",attrs:{id:"planoplan"}}),t("div",{staticClass:"visual-panorama__close"},[t("button",{staticClass:"button-circle",attrs:{"aria-label":"Закрыть"},on:{click:e._closePlanoplan}},[t("CloseIcon")],1)])]):e._e()],2)},nt=[],rt=(i(4678),i(1817),i(5383)),lt=i(840),pt=i.n(lt),ct=i(5399),ut=function(){var e=this,t=e._self._c;return t("g",{staticClass:"visual-canvas__panoramas"},[e._l(e.panorama,(function(i){return[t("foreignObject",{key:i.id,staticClass:"visual-panorama",attrs:{x:i.left,y:i.top,id:i.id,width:"1",height:"1",requiredExtensions:"http://www.w3.org/1999/xhtml"},on:{click:function(t){return e.openPopup(i.data.uid)}}},[t("div",{staticClass:"visual-panorama__item",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t("button",{staticClass:"visual-panorama__info",attrs:{type:"button"}},[e._v(" 360° ")])])])]}))],2)},dt=[],ht={props:{panorama:Array},mounted(){const e=document.createElement("script");e.setAttribute("src","https://widget.planoplan.com/etc/multiwidget/release/v4/static/js/main.js?v=2"),document.body.appendChild(e)},methods:{openPopup(e){this.$emit("open-planoplan",e)}}},vt=ht,yt=(0,m.Z)(vt,ut,dt,!1,null,null,null),mt=yt.exports,_t=function(){var e=this,t=e._self._c;return t("g",{staticClass:"visual-canvas__pointers"},[e._l(e.pointers,(function(i,s){return[t("foreignObject",{key:s,class:["visual-pointer",`visual-pointer_theme_${i.type}`,{"is-disabled":i.disabled},{"is-booked":i.booked},{"is-hovered":i.id===e.activeElement}],attrs:{x:i.left,y:i.top,id:i.id,width:"1",height:"1",requiredExtensions:"http://www.w3.org/1999/xhtml"},on:{mouseover:function(t){return e.mouseOverHandler(t,i)},mousemove:function(t){return e.mouseMoveHandler(t,i)},mouseleave:function(t){return e.mouseLeaveHandler(i)},click:function(t){return e.clickHandler(i)}}},[t("div",{staticClass:"visual-pointer__item",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t("div",{staticClass:"visual-pointer__info"},[e.floorStep&&i.disabled?t("FlatBookedIcon",{attrs:{"class-name":"visual-pointer__booked-icon"}}):i.text?[e._v(" "+e._s(i.text)+" ")]:e._e()],2)])])]}))],2)},gt=[],ft=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("circle",{attrs:{cx:"12",cy:"8.5",r:"5","stroke-width":"1.5"}}),t("rect",{attrs:{x:"4",y:"8.5",width:"16",height:"14",rx:"2"}}),t("rect",{attrs:{x:"11.5",y:"13",width:"1",height:"5",rx:"0.5",stroke:"white"}})])},wt=[],bt={name:"FlatBookedIcon",props:["className"]},Tt=bt,kt=(0,m.Z)(Tt,ft,wt,!1,null,null,null),xt=kt.exports,Et={name:"PointerComponent",components:{FlatBookedIcon:xt},props:{elements:Array,floorStep:Boolean,pointers:Array},data(){return{activeElement:null}},computed:(0,p.Z)({},(0,n.Se)({isMobile:"GET_IS_MOBILE",isTouch:"GET_IS_TOUCH"})),mounted(){this._subscribes()},methods:{_subscribes(){this.$root.$on("pointerHover",(e=>{this._pointerHoverHandler(e)}))},_pointerHoverHandler(e=null){this.activeElement=Number(e)},_mouseLeaveEvents(){this.activeElement=null,this.$root.$emit("maskHover"),this.$root.$emit("mouseLeaveTooltip")},mouseOverHandler(e,t){if("undefined"!==typeof t.isShowTooltip&&!t.isShowTooltip)return;this.activeElement=Number(t.id);const i=this.isMobile&&this.isTouch?"mouseOverPanel":"mouseOverTooltip";this.$root.$emit("maskHover",t.id),this.$root.$emit(i,{id:t.id,link:t.link,event:e,elements:this.elements})},mouseMoveHandler(e,t){("undefined"===typeof t.isShowTooltip||t.isShowTooltip)&&(this.isMobile&&this.isTouch||this.$root.$emit("mouseMoveTooltip",e))},mouseLeaveHandler(e){("undefined"===typeof e.isShowTooltip||e.isShowTooltip)&&(this.isMobile&&this.isTouch||this._mouseLeaveEvents())},clickHandler(e){this.$root.$emit("clickOnPointer",e)}}},St=Et,Ct=(0,m.Z)(St,_t,gt,!1,null,null,null),Pt=Ct.exports,It=function(){var e=this,t=e._self._c;return t("g",{staticClass:"visual-canvas__render-pointers"},[e._l(e.renderPointers,(function(i,s){return[t("foreignObject",{key:s,staticClass:"visual-render-pointer",attrs:{x:i.left,y:i.top,id:i.id,width:"1",height:"1",requiredExtensions:"http://www.w3.org/1999/xhtml"}},[i.data.text?[t("div",{staticClass:"visual-render-pointer__item",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t("div",{staticClass:"visual-render-pointer__info"},[e._v(" "+e._s(i.data.text)+" ")])])]:e._e(),i.data.icon?[t("div",{staticClass:"visual-render-pointer__icon-container",style:{width:`${i.data.icon.width}px`,height:`${i.data.icon.height}px`},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t("img",{staticClass:"visual-render-pointer__icon",attrs:{src:i.data.icon.src}})])]:e._e()],2)]}))],2)},Lt=[],At={name:"RenderPointerComponent",props:{renderPointers:Array}},Mt=At,Rt=(0,m.Z)(Mt,It,Lt,!1,null,null,null),Ot=Rt.exports,$t=i(1243),Nt=i.n($t),Zt=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44515 1.77776C4.76325 1.77776 1.77848 4.76253 1.77848 8.44443C1.77848 12.1263 4.76325 15.1111 8.44515 15.1111C10.2905 15.1111 11.9593 14.3625 13.1673 13.1503C14.3699 11.9436 15.1118 10.2815 15.1118 8.44443C15.1118 4.76253 12.127 1.77776 8.44515 1.77776ZM0.000701904 8.44443C0.000701904 3.78069 3.78141 -1.52588e-05 8.44515 -1.52588e-05C13.1089 -1.52588e-05 16.8896 3.78069 16.8896 8.44443C16.8896 10.451 16.1888 12.2952 15.0201 13.7438L20.2033 18.927C20.5504 19.2741 20.5504 19.8369 20.2033 20.1841C19.8562 20.5312 19.2933 20.5312 18.9462 20.1841L13.7649 15.0028C12.3133 16.1815 10.4612 16.8889 8.44515 16.8889C3.78141 16.8889 0.000701904 13.1082 0.000701904 8.44443ZM4.0007 8.44443C4.0007 7.95351 4.39867 7.55554 4.88959 7.55554H12.0007C12.4916 7.55554 12.8896 7.95351 12.8896 8.44443C12.8896 8.93535 12.4916 9.33332 12.0007 9.33332H4.88959C4.39867 9.33332 4.0007 8.93535 4.0007 8.44443Z"}})])},Ft=[],Bt={name:"ZoomMinusIcon",props:["className"]},Dt=Bt,Ht=(0,m.Z)(Dt,Zt,Ft,!1,null,null,null),zt=Ht.exports,Vt=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44515 1.77776C4.76325 1.77776 1.77848 4.76253 1.77848 8.44443C1.77848 12.1263 4.76325 15.1111 8.44515 15.1111C10.2905 15.1111 11.9593 14.3625 13.1673 13.1503C14.3699 11.9436 15.1118 10.2815 15.1118 8.44443C15.1118 4.76253 12.127 1.77776 8.44515 1.77776ZM0.000701904 8.44443C0.000701904 3.78069 3.78141 -1.52588e-05 8.44515 -1.52588e-05C13.1089 -1.52588e-05 16.8896 3.78069 16.8896 8.44443C16.8896 10.451 16.1888 12.2952 15.0201 13.7438L20.2033 18.927C20.5504 19.2741 20.5504 19.8369 20.2033 20.1841C19.8562 20.5312 19.2933 20.5312 18.9462 20.1841L13.7649 15.0028C12.3133 16.1815 10.4612 16.8889 8.44515 16.8889C3.78141 16.8889 0.000701904 13.1082 0.000701904 8.44443ZM8.44515 3.99999C8.93607 3.99999 9.33403 4.39795 9.33403 4.88887V7.55554H12.0007C12.4916 7.55554 12.8896 7.95351 12.8896 8.44443C12.8896 8.93535 12.4916 9.33332 12.0007 9.33332H9.33403V12C9.33403 12.4909 8.93607 12.8889 8.44515 12.8889C7.95423 12.8889 7.55626 12.4909 7.55626 12V9.33332H4.88959C4.39867 9.33332 4.0007 8.93535 4.0007 8.44443C4.0007 7.95351 4.39867 7.55554 4.88959 7.55554H7.55626V4.88887C7.55626 4.39795 7.95423 3.99999 8.44515 3.99999Z"}})])},Gt=[],jt={name:"ZoomPlusIcon",props:["className"]},qt=jt,Wt=(0,m.Z)(qt,Vt,Gt,!1,null,null,null),Ut=Wt.exports;const Yt=new ct.Z;var Xt={name:"CanvasComponent",components:{CloseIcon:g,PanoramaComponent:mt,PointerComponent:Pt,RenderPointerComponent:Ot,SvgPanZoom:Nt(),ZoomPlusIcon:Ut,ZoomMinusIcon:zt},props:{windowWidth:Number,windowHeight:Number,modify:String,floorStep:Boolean},data(){return{overlay:this.$dataset.overlay||!1,activeElement:null,svgpanzoom:null,zoomValue:1,maxZoom:2,minZoom:1,hammer:null,haltListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],heightRatio:null,uid:null,isPlanoplanOpen:!1}},computed:(0,p.Z)((0,p.Z)({},(0,n.Se)({iframeView:"GET_IS_IFRAME",isMobile:"GET_IS_MOBILE",isTouch:"GET_IS_TOUCH",isTouchTable:"GET_IS_TOUCH_TABLE",elements:"GET_ELEMENTS",dataStep:"GET_DATA_STEP",renderSize:"GET_CANVAS_SIZE",render:"GET_RENDER",panorama:"GET_PANORAMA",pointers:"GET_POINTERS",renderPointers:"GET_RENDER_POINTERS",canvasShift:"GET_CANVAS_SHIFT",popupOptions:"GET_IS_POPUP",hidePrice:"GET_HIDDEN_PRICE",zoom:"GET_ZOOM",elementsArea:"GET_ELEMENTS_AREA"})),{},{canvas(){return this.$refs.canvas||null},panzoom(){return this.$refs.panzoom.$el||null},isPanEnabled(){return this.floorStep},deltaShiftMasksCoords(){if(!this.renderSize.width||!this.renderSize.height)return[0,0];const e=this.windowWidth/2,t=this.windowHeight/2,i=this.elementsArea.cx>e?this._roundingNum(this.elementsArea.cx*this.heightRatio-e):0,s=this.elementsArea.cy>t?this._roundingNum(this.elementsArea.cy*this.heightRatio-t):0;return[i,s]}}),watch:{render:{handler(){this.$nextTick((()=>{this._changeScrollPosition()}))},deep:!0},canvasShift:{handler(){this._changeScrollPosition()},deep:!0},isMobile(){this._setCanvasSize(),this._changeScrollPosition(),this.$nextTick((()=>{!this.isMobile&&Boolean(this.popupOptions)&&this._initPopup()}))},isPanEnabled(){this.svgpanzoom&&(this.isPanEnabled?this.svgpanzoom.enablePan():(this.svgpanzoom.reset(),this.svgpanzoom.disablePan()))},isPlanoplanOpen(){this.$nextTick((()=>{this._initPlanoplan()}))}},mounted(){this._subscribes(),this._bindEvents(),this._bindRootEvents(),this._initPopup(),this._setCanvasSize(),this._changeScrollPosition()},beforeDestroy(){o.kI.forEach((e=>{window.removeEventListener(e,this._setCanvasSize,!1)})),Yt.unsubscribe("setMaskHover"),Yt.unsubscribe("removeMaskHover"),Yt.unsubscribe("clickOnPointer"),Yt.unsubscribe("clickNextPanel")},methods:(0,p.Z)((0,p.Z)({},(0,n.nv)(["changeStateLoading"])),{},{_roundingNum(e){return parseFloat(e.toFixed(2))},_subscribes(){this.$root.$on("maskHover",(e=>{e?this._maskHoverHandler(e):this._maskHoverHandler()})),this.$root.$on("clickOnPointer",(e=>{this.clickHandler(e)})),this.$root.$on("closePanel",(()=>{this._mouseLeaveEvents()})),this.$root.$on("clickNextPanel",(e=>{this._route(e)}))},_bindEvents(){o.kI.forEach((e=>{window.addEventListener(e,this._setCanvasSize.bind(this))}))},_bindRootEvents(){this.$root.$on("initPopup",(()=>{this._initPopup()})),this.$root.$on("openPopup",(e=>{this.$root.$emit("mouseLeavePanel"),this.$root.$emit("closePanel"),this._openPopup(e)}))},_setCanvasSize(){this.heightRatio=this.renderSize.height<this.canvas.getBoundingClientRect().height?this._roundingNum(this.canvas.getBoundingClientRect().height/this.renderSize.height):1,Object.assign(this.panzoom.style,{width:this.isMobile&&!this.floorStep?this.renderSize.width*this.heightRatio+"px":"100",height:this.isMobile&&!this.floorStep?this.renderSize.height*this.heightRatio+"px":"100%"})},_changeScrollPosition(){this.isMobile&&(this.canvasShift.horizontal||this.canvasShift.vertical?(this.canvas.scrollLeft=this.canvasShift.horizontal*(this.canvas.scrollWidth-this.canvas.clientWidth),this.canvas.scrollTop=this.canvasShift.vertical*(this.canvas.scrollHeight-this.canvas.clientHeight)):(this._setDefaultZoom(),this.floorStep||this.canvas.scrollTo({left:this.deltaShiftMasksCoords[0],top:this.deltaShiftMasksCoords[1],behavior:"smooth"})))},_setDefaultZoom(){const e=this.panzoom.getBoundingClientRect();if(this._roundingNum(e.width/e.height)<this._roundingNum(this.renderSize.width/this.renderSize.height)){const t=this._roundingNum(this.renderSize.width/(this.elementsArea.x2-this.elementsArea.x1));if(this.zoomValue=t<=this.maxZoom?t>=this.minZoom?t:this.minZoom:this.maxZoom,this.svgpanzoom.zoom(this.zoomValue),this.floorStep){const t=-e.width*(this.elementsArea.cx-this.renderSize.width/2/this.zoomValue)/this.renderSize.width*this.zoomValue+1,i=(this.elementsArea.cy-this.renderSize.height/2)/this.zoomValue,s=-e.height*(this.elementsArea.cy-i-this.renderSize.height/2/this.zoomValue)/this.renderSize.height*this.zoomValue+1;this.svgpanzoom.pan({x:t,y:s})}}},_initPopup(){const e=Array.from(this.$root.$el.querySelectorAll(".j-popup-callback:not([data-init])"));e.length&&((0,rt.Z2)(e),e.forEach((e=>{e.dataset.init=!0})))},isPopup(e){return"popup"===e},_maskHoverHandler(e=null){this.activeElement=Number(e)},_mouseLeaveEvents(){this.activeElement=null,this.$root.$emit("pointerHover"),this.$root.$emit("mouseLeaveTooltip")},mouseOverHandler(e,t){if("undefined"!==typeof t.isShowTooltip&&!t.isShowTooltip)return;this.activeElement=Number(t.id);const i=this.isMobile&&this.isTouch?"mouseOverPanel":"mouseOverTooltip";this.$root.$emit("pointerHover",t.id),this.$root.$emit(i,{id:t.id,link:t.link,event:e,elements:this.elements})},mouseMoveHandler(e,t){("undefined"===typeof t.isShowTooltip||t.isShowTooltip)&&(this.isMobile&&this.isTouch||this.$root.$emit("mouseMoveTooltip",e))},mouseLeaveHandler(e){("undefined"===typeof e.isShowTooltip||e.isShowTooltip)&&(this.isMobile&&this.isTouch||this._mouseLeaveEvents())},clickHandler(e){e.disabled||(this.isMobile?e.link&&e.isSimpleLink&&(window.location=e.link):this.isTouchTable&&!e.inFocus?(this._unFocusAll(),e.inFocus=!0):e.link?this._route(e):this._openPopup(e.tooltip))},_unFocusAll(){this.elements&&this.elements.forEach((e=>{e.inFocus=!1}))},_route(e){if(e.link)if(this.floorStep)window.open(e.link,"_blank");else if(e.isSimpleLink)window.location=e.link;else{const t=this.$route.query;delete t.rotateId,this.$router.push({path:e.link,query:t})}},_openPopup(e){var t,i;const s={title:null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:null,area:e.area?`${this.formatArea(e.area)}&nbsp;м²`:null,block:e.block?`Корпус&nbsp;${e.block}`:null,section:e.section?`Секция&nbsp;${e.section}`:null,floor:e.floor.value?`Этаж&nbsp;${e.floor.value}`:null,hidePrice:this.hidePrice.status?this.hidePrice.text:null,price:e.price&&this.showPrice(e)?`${this.formatPrice(e.price)}&nbsp;₽`:null,description:null!==(i=null===e||void 0===e?void 0:e.description)&&void 0!==i?i:"",actionPrice:e.actionPrice&&this.showPrice(e)?{value:`${this.formatPrice(e.actionPrice.value)}`,base:`${this.formatPrice(e.actionPrice.base)}`}:null};this.iframeView?window.parent.postMessage({message:"openPopup",href:this.popupOptions.id,type:"callback",popupData:s},"*"):(Yt.subscribe("popup:open",(e=>{(0,rt.w)(e.popup,s)})),this.$root.$emit("mouseLeaveTooltip"))},setPathStyle(e){return{fill:e,stroke:e}},_initPanZoom(e){this.svgpanzoom=e},_initCustomEvents(e){if(!this.floorStep)return;const t=e.instance;let i=0,s=0;this.hammer=new(pt())(e.svgElement),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("panstart panmove",(e=>{"panstart"===e.type&&(i=0,s=0),t.panBy({x:e.deltaX-i,y:e.deltaY-s}),i=e.deltaX,s=e.deltaY})),this.hammer.on("pinchstart pinchmove",(e=>{"pinchstart"===e.type&&(this.zoomValue=this._roundingNum(t.getZoom()),t.zoomAtPoint(this.zoomValue*e.scale,{x:e.center.x,y:e.center.y})),t.zoomAtPoint(this.zoomValue*e.scale,{x:e.center.x,y:e.center.y})})),this.hammer.on("pinchend",(()=>{this.zoomValue=this._roundingNum(t.getZoom())})),e.svgElement.addEventListener("touchmove",(e=>{e.preventDefault()}))},_destroyCustomEvents(){this.hammer&&this.hammer.destroy()},_beforePan(e,t){if(!this.svgpanzoom)return!1;const i=this.svgpanzoom.getSizes(),s=100,a=100,o=-(i.viewBox.x+i.viewBox.width)*i.realZoom+a,n=i.width-a-i.viewBox.x*i.realZoom,r=-(i.viewBox.y+i.viewBox.height)*i.realZoom+s,l=i.height-s-i.viewBox.y*i.realZoom;return{x:Math.max(o,Math.min(n,t.x)),y:Math.max(r,Math.min(l,t.y))}},zoomIn(){this.svgpanzoom&&(!this.svgpanzoom.isPanEnabled()&&this.floorStep&&(this.svgpanzoom.enablePan(),this.$nextTick((()=>{this.svgpanzoom.zoomIn()}))),this.svgpanzoom.zoomIn(),this.zoomValue=this._roundingNum(this.svgpanzoom.getZoom()))},zoomOut(){this.svgpanzoom&&(this.svgpanzoom.zoomOut(),this.zoomValue=this._roundingNum(this.svgpanzoom.getZoom()))},showPrice(e){return e.showPrice||!1},formatPrice(e){const t=(e/1).toFixed(0).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},formatArea(e){return e.toString().replace(".",",")},checkDisabled(e){return"plus"===e&&this.zoomValue>=this.maxZoom||"minus"===e&&this.zoomValue<=this.minZoom?"is-disabled":""},_openPlanoplan(e){this.iframeView?window.parent.postMessage({message:"openPopup",type:"planoplan",href:"planoplan",popupData:{uid:e}},"*"):(this.changeStateLoading(!0),this.uid=e,this.isPlanoplanOpen=!0)},_closePlanoplan(){this.isPlanoplanOpen=!1,ie.c.bodyStatic()},_initPlanoplan(){if(!this.isPlanoplanOpen)return;ie.c.bodyFixed(this.$refs.planoplanPopup);const e=getComputedStyle(document.documentElement).getPropertyValue("--color-brand-base")||null,t=window.Planoplan.init((0,p.Z)({width:"100%",height:"100%",uid:this.uid,el:"planoplan",textColor:"#000000",backgroundColor:"#ffffff"},e&&{primaryColor:e}));t.on("load",(()=>{this.changeStateLoading(!1)}))}})},Kt=Xt,Qt=(0,m.Z)(Kt,ot,nt,!1,null,null,null),Jt=Qt.exports,ei=function(){var e=this,t=e._self._c;return t("div",{staticClass:"visual-compass"},[t("div",{staticClass:"visual-compass__container"},[t("CompassIcon",{style:{transform:`rotate(${e.compass.degree}deg)`},attrs:{"class-name":"visual-compass__compass-icon"}})],1)])},ti=[],ii=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{staticClass:"path-stroke",attrs:{d:"M5.83366 19.9994C5.83366 27.8234 12.1763 34.166 20.0003 34.166C27.8244 34.166 34.167 27.8234 34.167 19.9993","stroke-width":"0.625"}}),t("circle",{attrs:{cx:"7.50033",cy:"19.9993",r:"5.83333"}}),t("circle",{attrs:{cx:"7.50033",cy:"19.9993",r:"5.83333"}}),t("circle",{attrs:{cx:"33.3333",cy:"19.9993",r:"5.83333"}}),t("circle",{attrs:{cx:"33.3333",cy:"19.9993",r:"5.83333"}}),t("path",{staticClass:"path-fill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M31.0186 20.001C31.0186 19.1828 31.6818 18.5195 32.5 18.5195C33.318 18.5195 33.9811 19.1824 33.9815 20.0003H33.9816C33.9816 20.8185 33.3183 21.4818 32.5001 21.4818C31.6822 21.4818 31.019 20.8189 31.0186 20.001H31.0186Z"}}),t("path",{staticClass:"path-stroke",attrs:{d:"M32.5003 17.7791V16.668M33.9818 18.5198L34.7225 17.7791M31.0188 18.5198L30.2781 17.7791M30.2781 20.0013H29.167M34.7225 20.0013H35.8337M32.5003 22.2235V23.3346M31.0188 21.4828L30.2781 22.2235M33.9818 21.4828L34.7225 22.2235","stroke-width":"0.555556","stroke-linecap":"round"}}),t("path",{staticClass:"path-fill compass-north",style:{transform:`rotate(-${e.compass.degree}deg)`},attrs:{d:"M18.4372 18.9L18.0172 17.99V23.5H16.8172V16.5H18.4972L20.8972 21.1L21.3172 22.02V16.5H22.5172V23.5H20.8372L18.4372 18.9Z"}}),t("path",{staticClass:"path-fill",attrs:{d:"M20 2.5L17.5 8.75L20 7.5L22.5 8.75L20 2.5Z"}}),t("path",{staticClass:"path-fill",attrs:{d:"M9.12648 20.4557C9.14275 20.3675 9.0187 20.3287 8.96411 20.3999C8.61254 20.8582 8.05928 21.1535 7.43696 21.1535C6.37461 21.1535 5.51345 20.2925 5.51345 19.23C5.51345 18.6078 5.80896 18.0544 6.26733 17.7028C6.3385 17.6482 6.29966 17.5242 6.21146 17.5405C5.04826 17.7549 4.16699 18.7744 4.16699 19.9994C4.16699 21.3805 5.28654 22.5 6.66756 22.5C7.89276 22.5 8.91202 21.6189 9.12648 20.4557Z"}})])},si=[],ai={name:"CompassIcon",props:["className"],computed:(0,p.Z)({},(0,n.Se)({compass:"GET_COMPASS"}))},oi=ai,ni=(0,m.Z)(oi,ii,si,!1,null,null,null),ri=ni.exports,li={name:"CompassComponent",components:{CompassIcon:ri},computed:(0,p.Z)({},(0,n.Se)({compass:"GET_COMPASS"}))},pi=li,ci=(0,m.Z)(pi,ei,ti,!1,null,null,null),ui=ci.exports,di=function(){var e=this,t=e._self._c;return e.roomsFilter?t("div",{staticClass:"visual-filter"},[e.isTablet?t("ButtonItem",{ref:"filterButton",class:["visual-filter__button"],attrs:{"icon-after":"FilterIcon"},on:{click:e.showPanel}}):e._e(),e.isTablet?e._e():[t("FilterForm")]],2):e._e()},hi=[],vi={name:"FilterComponent",components:{ButtonItem:P,FilterForm:D},computed:(0,p.Z)({},(0,n.Se)({dataStep:"GET_DATA_STEP",isTablet:"GET_IS_TABLET",roomsFilter:"GET_ROOMS_FILTER"})),methods:{showPanel(){this.$root.$emit("showPanel",{target:this.$refs.filterButton.$el,component:"FilterForm"})}}},yi=vi,mi=(0,m.Z)(yi,di,hi,!1,null,null,null),_i=mi.exports,gi=function(){var e,t,i=this,s=i._self._c;return null!==(e=i.perspective)&&void 0!==e&&e.plan&&(null===(t=i.perspective)||void 0===t?void 0:t.points.length)>1?s("div",{staticClass:"visual-rotate"},[i.isMobile?i._e():s("div",{staticClass:"visual-rotate__wrapper"},[s("img",{staticClass:"visual-rotate__plan",attrs:{src:i.perspective.plan,alt:"План"}}),i._l(i.perspective.points,(function(e){return[s("button",{key:e.id,class:["visual-rotate__point",{"is-active":e.id===i.rotateId}],style:{top:`${e.top}%`,left:`${e.left}%`,transform:`rotate(${e.deg}deg)`},attrs:{type:"button"},on:{click:function(t){return i._changeRotateByClick(e.id)}}},[e.id===i.rotateId?s("RotateGradientIcon",{attrs:{className:"visual-rotate__svg-gradient"}}):i._e(),s("span",{staticClass:"visual-rotate__circle"})],1)]}))],2),s("button",{staticClass:"visual-rotate__change-button",on:{click:i._changeRotateByButton}},[i._v(" Сменить ракурс "),s("RotateIcon",{attrs:{"class-name":"visual-rotate__svg-rotate"}})],1)]):i._e()},fi=[],wi=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"108",height:"55",viewBox:"0 0 108 55",fill:"none"}},[t("path",{attrs:{d:"M107.724 0.841797L54.2509 54.7596L0.777344 0.841797L107.724 0.841797Z",fill:"url(#rotate-gradient)"}}),t("defs",[t("linearGradient",{attrs:{id:"rotate-gradient",x1:"15.3743",y1:"0.841797",x2:"15.3743",y2:"40.0413",gradientUnits:"userSpaceOnUse"}},[t("stop",{attrs:{"stop-opacity":"0.01"}}),t("stop",{attrs:{offset:"1"}})],1)],1)])},bi=[],Ti={name:"RotateGradientIcon",props:["className"]},ki=Ti,xi=(0,m.Z)(ki,wi,bi,!1,null,null,null),Ei=xi.exports,Si=function(){var e=this,t=e._self._c;return t("svg",{class:e.className,attrs:{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none"}},[t("path",{attrs:{d:"M17.2187 8.00006C17.2187 5.9544 16.4516 3.9818 15.0818 2.48408L16.269 0.219238L9.45619 0.52974L13.1274\n        6.28316L14.0955 4.42015C14.8261 5.46125 15.2461 6.70326 15.2461 8.00006C15.2461 11.4338 12.4516 14.2284\n        9.01784 14.2284C5.58405 14.2284 2.78953 11.4338 2.78953 8.00006C2.78953 5.60736 4.12286 3.45211 6.27811\n        2.41102L6.80779 2.15531L5.93108 0.365357L5.4014 0.621064C2.55208 2.00919 0.780395 4.84024 0.780395 8.00006\n        C0.780395 12.5297 4.46989 16.2192 8.99957 16.2192C13.5293 16.2192 17.2187 12.5297 17.2187 8.00006Z"}})])},Ci=[],Pi={name:"RotateIcon",props:["className"]},Ii=Pi,Li=(0,m.Z)(Ii,Si,Ci,!1,null,null,null),Ai=Li.exports,Mi={name:"RotateComponent",components:{RotateGradientIcon:Ei,RotateIcon:Ai},computed:(0,p.Z)({},(0,n.Se)({isMobile:"GET_IS_MOBILE",perspective:"GET_PERSPECTIVE",rotateId:"GET_ROTATE_ID"})),methods:(0,p.Z)((0,p.Z)({},(0,n.nv)(["changeRotate"])),{},{_changeRotateByClick(e){this._setUrl(e),this.changeRotate(this.$route.query)},_changeRotateByButton(){const e=this.perspective.points.findIndex((e=>e.id===this.rotateId)),t=e>-1&&e!==this.perspective.points.length-1?this.perspective.points[e+1].id:this.perspective.points[0].id;this._setUrl(t),this.changeRotate(this.$route.query)},_setUrl(e){const t=(0,p.Z)((0,p.Z)({},this.$route.query),{rotateId:e});this.$router.push({query:t})}})},Ri=Mi,Oi=(0,m.Z)(Ri,gi,fi,!1,null,null,null),$i=Oi.exports,Ni=(i(1703),i(2707),i(7601),i(7714),i(2801),i(1174),i(9669)),Zi=i.n(Ni);i(3210);const Fi=(e,t,i)=>{const s=new FileReader;s.onload=()=>{const e='viewBox="',a=s.result.indexOf(e);-1===a&&i("viewBox not found at SVG file");const o=s.result.slice(a+e.length,s.result.indexOf('"',a+e.length));let n=0,r=0;[,,n,r]=o.trim().split(" "),n||r||i("Width and Height of SVG is undefined"),t({width:n,height:r})},s.onerror=()=>{i(s.error)},s.readAsText(e)};var Bi=e=>new Promise(((t,i)=>{if(e.indexOf(".svg")>-1)return void Zi().get(e,{responseType:"blob"}).then((e=>{Fi(e.data,t,i)}));const s=new Image;s.src=e,s.onload=e=>{t({width:e.currentTarget.width,height:e.currentTarget.height})},s.onerror=e=>{i(e)}})),Di=i(2437),Hi=i(538),zi=i(8627),Vi=i.n(zi);const Gi="/tests/visual/visual.php";Hi["default"].use(n.ZP),Hi["default"].use(Vi());var ji,qi=new n.ZP.Store({state:{settings:{estatePlural:[],hidePrice:{status:!1,text:""},popup:{id:""},zoom:!0},data:{render:"",elements:"",breadcrumbs:"",elementsArea:null},compass:{degree:0},canvasSize:{width:0,height:0},canvasShift:{horizontal:0,vertical:0},perspective:null,rotateId:null,filters:[],roomsFilter:{},floorsFilter:{},filtersCount:0,pointers:[],renderPointers:[],dataStep:{},form:"",formData:"",isProcessing:!1,isReady:!1,isPinch:!0,floorStep:!1,iframeView:!1,gridFrame:!1,isMobile:!1,isTablet:!1,isTouch:ie.c.isTouchDevice(),isTouchTable:!1,panorama:[]},getters:{GET_RENDER(e){return e.data.render},GET_ELEMENTS(e){return e.data.elements},GET_ELEMENTS_AREA(e){return e.data.elementsArea},GET_CANVAS_SIZE(e){return e.canvasSize},GET_CANVAS_SHIFT(e){return e.canvasShift},GET_PERSPECTIVE(e){return e.perspective},GET_ROTATE_ID(e){return e.rotateId},GET_FILTERS(e){return e.filters},GET_ROOMS_FILTER(e){return e.roomsFilter},GET_FLOORS_FILTER(e){return e.floorsFilter},GET_FLOORS_FILTER_COUNT(e){return e.filtersCount},GET_POINTERS(e){return e.pointers},GET_RENDER_POINTERS(e){return e.renderPointers},GET_BREADCRUMBS(e){return e.data.breadcrumbs},GET_DATA_STEP(e){return e.dataStep},GET_COMPASS(e){return e.compass},GET_PANORAMA(e){return e.panorama},GET_FORM_DATA(e){return e.formData},GET_FORM(e){return e.form},GET_IS_PROCESSING(e){return e.isProcessing},GET_IS_READY(e){return e.isReady},GET_FLOOR_STEP(e){return e.floorStep},GET_HIDDEN_PRICE(e){return e.settings.hidePrice},GET_ESTATE_PLURAL(e){return e.settings.estatePlural},GET_IS_PINCH(e){return e.isPinch},GET_IS_POPUP(e){return e.settings.popup},GET_IS_IFRAME(e){return e.iframeView},GET_GRID_FRAME(e){return e.gridFrame},GET_ZOOM(e){return e.settings.zoom},GET_IS_TOUCH_TABLE(e){return e.isTouchTable},GET_IS_MOBILE(e){return e.isMobile},GET_IS_TABLET(e){return e.isTablet},GET_IS_TOUCH(e){return e.isTouch}},actions:{send({commit:e,dispatch:t},{body:i,query:s={}}){return e("SET_IS_PROCESSING",!0),e("SET_GRID_FRAME"),e("SET_DATA_STEP",i),e("SET_FORM_DATA",{type:"init",query:s}),new Promise((e=>{Zi().post(Hi["default"].prototype.$dataset.url||Gi,this.getters.GET_FORM_DATA).then((i=>{const s=i.data.success,a=i.data.messages;if(!s)throw new Error(a.length?a:"Ошибка на сервере");a&&a.length&&a.forEach((e=>{console.error(e)}));const o=i.data.data,n=o.render.link;Bi(n).then((i=>{t("setInfo",{data:o,size:i}).then((()=>{e()}))}))})).catch((e=>{throw console.error(`При получении данных произошла ошибка ${e}`),new Error}))}))},setInfo({commit:e},{data:t,size:i}){e("SET_CANVAS_SIZE",i),e("SET_HIDDEN_PRICE",t),e("SET_ZOOM",t),e("SET_IS_POPUP",t),e("SET_DATA",t),e("SET_CANVAS_SHIFT",t.render.shift),e("SET_ELEMENTS_AREA",t),e("SET_PERSPECTIVE",t),e("SET_ROTATE_ID",t),e("SET_POINTERS",t),e("SET_FILTERS",t),e("SET_RENDER_POINTERS",t),e("SET_COMPASS",t.compass),e("SET_PANORAMA_POINTERS",t),e("SET_FLOOR_STEP"),e("SET_IS_PROCESSING",!1),e("SET_IS_READY")},changeFilter({commit:e,getters:t},{form:i,query:s={}}){e("SET_FORM",i),e("SET_FORM_DATA",{type:"filter",query:s}),e("SET_IS_PROCESSING",!0),Zi().post(Hi["default"].prototype.$dataset.url||Gi,t.GET_FORM_DATA).then((t=>{const i=t.data.data;e("SET_ELEMENTS",i),e("SET_POINTERS",i),e("SET_FILTERS",i),e("SET_IS_PROCESSING",!1)})).catch((e=>{console.error(`При фильтрации произошла ошибка= ${e}`)}))},changeStateLoading({commit:e},t){e("SET_IS_PROCESSING",t)},changeStatePinch({commit:e},t){e("SET_IS_PINCH",t)},setStartSettings({commit:e}){e("SET_IS_IFRAME"),e("SET_ESTATE_PLURAL"),e("SET_IS_TOUCH_TABLE")},changeRotate({commit:e,dispatch:t,getters:i},s){return e("SET_IS_PROCESSING",!0),e("SET_FORM_DATA",{type:"changeRotate",query:s}),new Promise((e=>{Zi().post(Hi["default"].prototype.$dataset.url||Gi,i.GET_FORM_DATA).then((i=>{const s=i.data.success,a=i.data.messages;if(!s)throw new Error(a.length?a:"Ошибка на сервере");a&&a.length&&a.forEach((e=>{console.error(e)}));const o=i.data.data,n=o.render.link;Bi(n).then((i=>{t("setInfo",{data:o,size:i}).then((()=>{e()}))}))})).catch((e=>{throw console.error(`При получении данных произошла ошибка ${e}`),new Error}))}))},setIsMobile({commit:e},t){e("SET_IS_MOBILE",t)},setIsTablet({commit:e},t){e("SET_IS_TABLET",t)}},mutations:{SET_CANVAS_SIZE(e,t){e.canvasSize=t},SET_DATA(e,t){e.data=t},SET_CANVAS_SHIFT(e,t){if(!t)return void(e.canvasShift={horizontal:0,vertical:0});const i=t.horizontal?Number(t.horizontal):0,s=t.vertical?Number(t.vertical):0;e.canvasShift.horizontal=i>=0&&i<=100?i/100:0,e.canvasShift.vertical=s>=0&&s<=100?s/100:0},SET_PERSPECTIVE(e,t){e.perspective=(null===t||void 0===t?void 0:t.perspective)||null},SET_ROTATE_ID(e,t){var i,s;e.rotateId=(null===t||void 0===t||null===(i=t.perspective)||void 0===i||null===(s=i.points)||void 0===s?void 0:s.find((e=>e.active)).id)||null},SET_ELEMENTS(e,t){e.data.elements=t.elements},SET_POINTERS(e){const t=e.data.elements,i=[];t.forEach((e=>{if(e.pointer){const t=(0,p.Z)((0,p.Z)({},e.pointer),{},{id:Number(e.id),link:e.link,disabled:e.disabled,booked:e.booked,isShowTooltip:e.isShowTooltip,isSimpleLink:e.isSimpleLink});i.push(t)}})),e.pointers=i},SET_RENDER_POINTERS(e,t){var i;e.renderPointers=null!==t&&void 0!==t&&null!==(i=t.pointers)&&void 0!==i&&i.length?t.pointers.filter((e=>"panorama"!==e.type)):[]},SET_FILTERS(e,t){e.filters=t.filters||[],this.commit("STATE_ROOMS_FILTER"),this.commit("SET_FLOORS_FILTER"),this.commit("SET_FLOORS_FILTER_COUNT")},STATE_ROOMS_FILTER(e){e.filters.filter((t=>"room"===t.category&&Object.assign(e.roomsFilter,t)))},SET_FLOORS_FILTER(e){const t=e.filters.find((e=>"floor"===e.category&&e))||{};t&&t.items&&t.items.sort(((e,t)=>(null===e||void 0===e?void 0:e.priority)>(null===t||void 0===t?void 0:t.priority)?1:-1)),e.floorsFilter=t},SET_FLOORS_FILTER_COUNT(e){e.filtersCount=e.filtersCount+1},SET_DATA_STEP(e,t){e.dataStep=t},SET_COMPASS(e,t){e.compass=t},SET_PANORAMA_POINTERS(e,t){var i,s;e.panorama=null!==t&&void 0!==t&&null!==(i=t.pointers)&&void 0!==i&&i.length?null===t||void 0===t||null===(s=t.pointers)||void 0===s?void 0:s.filter((e=>"panorama"===e.type)):[]},SET_FORM(e,t){e.form=t},SET_FORM_DATA(e,{type:t,query:i={}}){const s=this.getters.GET_FORM,a=this.getters.GET_DATA_STEP;e.formData=s?new FormData(s):new FormData;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e.formData.has(o)||e.formData.append(o,a[o]));for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e.formData.has(o)||e.formData.append(o,i[o]));e.formData.append("type",t)},SET_IS_PROCESSING(e,t){e.isProcessing=t},SET_IS_PINCH(e,t){e.isPinch=t},SET_IS_IFRAME(e){const t=window.location.search,i=window.location.href,s=new URLSearchParams(t),a=/frame/.test(i);e.iframeView=Boolean(s.get("iframe"))||a},SET_GRID_FRAME(e){e.gridFrame="narrow"===Hi["default"].prototype.$dataset.iframeTemplate},SET_IS_READY(e){e.isReady=!0},SET_FLOOR_STEP(e){e.floorStep="floor"===e.dataStep.step},SET_HIDDEN_PRICE(e,t){e.settings.hidePrice=t.settings.hidePrice},SET_IS_POPUP(e,t){e.settings.popup=t.settings.popup},SET_ESTATE_PLURAL(e){e.settings.estatePlural=JSON.parse(atob(this._vm.$dataset.plural))},SET_ZOOM(e,t){var i;e.settings.zoom=null===(i=t.settings.zoom)||void 0===i||i},SET_ELEMENTS_AREA(e){let t=e.canvasSize.width,i=e.canvasSize.height,s=0,a=0;const o=e.data.elements.filter((e=>!e.disabled&&e.path));o.forEach((o=>{const n=Di.Z.getPathBBox(o.path);"floor"===e.dataStep.step?(n.x<t&&(t=n.x),n.y<i&&(i=n.y),n.x2>s&&(s=n.x2),n.y2>a&&(a=n.y2)):n.x<t&&(t=n.x,i=n.y,s=n.x2,a=n.y2)})),e.data.elementsArea={x1:t,y1:i,x2:s,y2:a,cx:(s+t)/2,cy:(a+i)/2}},SET_IS_TOUCH_TABLE(e){e.isTouchTable=document.body.dataset.touch&&"true"===document.body.dataset.touch},SET_IS_MOBILE(e,t){e.isMobile=t},SET_IS_TABLET(e,t){e.isTablet=t}}}),Wi={name:"BuildingPage",components:{BreadcrumbsComponent:at,CanvasComponent:Jt,CompassComponent:ui,FilterComponent:_i,RotateComponent:$i},props:{floorStep:Boolean,windowWidth:Number,windowHeight:Number},data(){return{filterKey:1}},computed:(0,p.Z)({},(0,n.Se)({isReady:"GET_IS_READY"})),beforeRouteEnter(e,t,i){const s=window.location.search,a=new URLSearchParams(s),o=(0,p.Z)((0,p.Z)((0,p.Z)({step:e.meta.step,iframeView:Boolean(a.get("iframe"))},e.params.buildingId&&{buildingId:e.params.buildingId}),e.params.sectionId&&{sectionId:e.params.sectionId}),e.params);qi.dispatch("send",{body:o,query:e.query}).then((()=>{i((e=>{e.filterKey++}))}))},methods:(0,p.Z)({},(0,n.nv)(["send"]))},Ui=Wi,Yi=(0,m.Z)(Ui,Be,De,!1,null,null,null),Xi=Yi.exports,Ki=function(){var e=this,t=e._self._c;return t("div",{class:["visual__wrapper",{"is-show":e.isReady}]},[t("header",{staticClass:"visual__header"},[t("BreadcrumbsComponent",{attrs:{"floor-step":e.floorStep}}),t("CompassComponent")],1),t("div",{staticClass:"visual__canvas"},[t("CanvasComponent",{ref:"canvas",attrs:{"floor-step":e.floorStep,"window-width":e.windowWidth,"window-height":e.windowHeight}}),e.isMobile?e._e():[t("FloorSwitcherComponent")]],2),t("footer",{staticClass:"visual__footer"},[t("FilterComponent")],1),t("RotateComponent")],1)},Qi=[],Ji={name:"FloorPage",components:{BreadcrumbsComponent:at,CanvasComponent:Jt,CompassComponent:ui,FilterComponent:_i,FloorSwitcherComponent:ne,RotateComponent:$i},props:{floorStep:Boolean,windowWidth:Number,windowHeight:Number},computed:(0,p.Z)({},(0,n.Se)({isMobile:"GET_IS_MOBILE",isReady:"GET_IS_READY"})),beforeRouteEnter(e,t,i){const s=window.location.search,a=new URLSearchParams(s),o=(0,p.Z)((0,p.Z)((0,p.Z)({step:e.meta.step,iframeView:Boolean(a.get("iframe"))},e.params.buildingId&&{buildingId:e.params.buildingId}),e.params.sectionId&&{sectionId:e.params.sectionId}),e.params);qi.dispatch("send",{body:o,query:e.query}).then((()=>{i()}))},methods:(0,p.Z)({},(0,n.nv)(["send"]))},es=Ji,ts=(0,m.Z)(es,Ki,Qi,!1,null,null,null),is=ts.exports,ss=i(8345);Hi["default"].use(ss.ZP);const as=document.getElementById("visual"),os=(0,p.Z)({},as.dataset),ns=null!==(ji=os.firstStep)&&void 0!==ji?ji:"complex",rs="floor"===ns?is:Xi;var ls=new ss.ZP({mode:"history",base:os.baseUrl,routes:[{path:"*/",name:`${ns}`,component:rs,meta:{step:`${ns}`,id:`${os.firstStepId}`}},{path:"*/building/:buildingId",name:"building",component:Xi,meta:{step:"building"}},{path:"*/building/:buildingId/section/:sectionId",name:"sectionBuilding",component:Xi,meta:{step:"section"}},{path:"*/section/:sectionId",name:"section",component:Xi,meta:{step:"section"}},{path:"*/building/:buildingId/section/:sectionId/floor/:floorId",name:"floorBuildingSection",component:is,meta:{step:"floor"}},{path:"*/building/:buildingId/floor/:floorId",name:"floorBuilding",component:is,meta:{step:"floor"}},{path:"*/floor/:floorId",name:"floor",component:is,meta:{step:"floor"}}]});Hi["default"].use(Vi()),Hi["default"].config.productionTip=!1;const ps="#visual",cs=document.querySelector(ps);cs&&(Hi["default"].prototype.$dataset={...cs.dataset},ls.beforeEach(((e,t,i)=>{for(const s in Hi["default"].prototype.$dataset)Object.prototype.hasOwnProperty.call(e.params,s)||(e.params[s]=Hi["default"].prototype.$dataset[s]);i()})),new Hi["default"]({router:ls,store:qi,render:e=>e(Fe)}).$mount(cs))},2721:function(e,t,i){var s=i(8133).twig,a=[{type:"raw",value:"\n"},{type:"raw",value:"\n"},{type:"raw",value:'\n\n<div class="action-price__action-wrapper">\n    <div class="action-price__action">\n        <span class="action-price__action-value">\n            -'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"actionValue",match:["actionValue"]}]},{type:"raw",value:" ₽\n        </span>\n"},{type:"raw",value:"\n"},{type:"raw",value:"\n"},{type:"raw",value:'\n    </div>\n\n    <div class="action-price__basic-price">\n        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"basicPrice",match:["basicPrice"]}]},{type:"raw",value:" ₽\n    </div>\n</div>\n"}],o=s({id:"$resolved:e6adfaad7c33eae681307a47f69a347f639330212ef47e899964950b0c88aae6beefd5566aeb5e8710f3567df102cdf2f79764ee052dd252554014282b2fb0e9:action-price.twig",data:[{type:"raw",value:"\n"},{type:"raw",value:"\n"},{type:"raw",value:'\n\n<div class="action-price__action-wrapper">\n    <div class="action-price__action">\n        <span class="action-price__action-value">\n            -'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"actionValue",match:["actionValue"]}]},{type:"raw",value:" ₽\n        </span>\n"},{type:"raw",value:"\n"},{type:"raw",value:"\n"},{type:"raw",value:'\n    </div>\n\n    <div class="action-price__basic-price">\n        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"basicPrice",match:["basicPrice"]}]},{type:"raw",value:" ₽\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},3194:function(e,t,i){var s=i(8133).twig,a=[{type:"raw",value:'<svg width="14" height="10" viewBox="0 0 14 10" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.8219 6.21348L4.97842 8.20881C5.3219 8.54876 5.3219 9.09824 4.97842 9.43818C4.63408 9.77813 4.07669 9.77813 3.73321 9.43818L0.38625 6.26738C0.137554 6.02046 0.000163078 5.69443 0.000163078 5.34492C0.000163078 4.99628 0.137554 4.6685 0.38625 4.42332L3.73321 1.25252C4.07669 0.912572 4.63408 0.912572 4.97842 1.25252C5.3219 1.5916 5.3219 2.14194 4.97842 2.48189L2.82364 4.47462H13.0367C13.5167 4.47462 13.9062 4.86412 13.9062 5.34405C13.9062 5.82397 13.5167 6.21348 13.0367 6.21348H2.8219Z"/>\n</svg>\n'}],o=s({id:"$resolved:f3387d29c5fd83c08270b4a33b5193f875ef6e0044bf01bb642eed3dd4c0dee8e517144388a56a5c345f6308857c325748c6342300c9c11ec4235928264d8193:arrow-left.svg.twig",data:[{type:"raw",value:'<svg width="14" height="10" viewBox="0 0 14 10" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.8219 6.21348L4.97842 8.20881C5.3219 8.54876 5.3219 9.09824 4.97842 9.43818C4.63408 9.77813 4.07669 9.77813 3.73321 9.43818L0.38625 6.26738C0.137554 6.02046 0.000163078 5.69443 0.000163078 5.34492C0.000163078 4.99628 0.137554 4.6685 0.38625 4.42332L3.73321 1.25252C4.07669 0.912572 4.63408 0.912572 4.97842 1.25252C5.3219 1.5916 5.3219 2.14194 4.97842 2.48189L2.82364 4.47462H13.0367C13.5167 4.47462 13.9062 4.86412 13.9062 5.34405C13.9062 5.82397 13.5167 6.21348 13.0367 6.21348H2.8219Z"/>\n</svg>\n'}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},7888:function(e,t,i){var s=i(8133).twig,a=[{type:"raw",value:'<svg width="14" height="10" viewBox="0 0 14 10" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1781 6.21348L9.02158 8.20881C8.6781 8.54876 8.6781 9.09824 9.02158 9.43818C9.36592 9.77813 9.92331 9.77813 10.2668 9.43818L13.6138 6.26738C13.8624 6.02046 13.9998 5.69443 13.9998 5.34492C13.9998 4.99628 13.8624 4.6685 13.6138 4.42332L10.2668 1.25252C9.92331 0.912572 9.36592 0.912572 9.02158 1.25252C8.6781 1.5916 8.6781 2.14194 9.02158 2.48189L11.1764 4.47462H0.963315C0.483315 4.47462 0.09375 4.86412 0.09375 5.34405C0.09375 5.82397 0.483315 6.21348 0.963315 6.21348H11.1781Z"/>\n</svg>\n'}],o=s({id:"$resolved:ccc1a19778314f55656e66c238ec5fcee02f49c5271845aec58e69a3461b9030cf86f6c6910b9589238e759b73dc33eeae1bef876cec12a125dbdd5b0437552d:arrow-right.svg.twig",data:[{type:"raw",value:'<svg width="14" height="10" viewBox="0 0 14 10" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1781 6.21348L9.02158 8.20881C8.6781 8.54876 8.6781 9.09824 9.02158 9.43818C9.36592 9.77813 9.92331 9.77813 10.2668 9.43818L13.6138 6.26738C13.8624 6.02046 13.9998 5.69443 13.9998 5.34492C13.9998 4.99628 13.8624 4.6685 13.6138 4.42332L10.2668 1.25252C9.92331 0.912572 9.36592 0.912572 9.02158 1.25252C8.6781 1.5916 8.6781 2.14194 9.02158 2.48189L11.1764 4.47462H0.963315C0.483315 4.47462 0.09375 4.86412 0.09375 5.34405C0.09375 5.82397 0.483315 6.21348 0.963315 6.21348H11.1781Z"/>\n</svg>\n'}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},4300:function(e,t,i){i(2721);var s=i(8133).twig,a=[{type:"raw",value:'\n\n<div class="form__parametric-content">\n    <div class="form__parametric-content-heading">\n        <ul class="list list_theme_accent list_theme_dot">\n            '},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"title",match:["title"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"title",match:["title"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:"\n            "},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"area",match:["area"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"area",match:["area"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:'        </ul>\n    </div>\n\n    <div class="form__parametric-content-params">\n        <ul class="list list_theme_dot">\n            '},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"block",match:["block"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"block",match:["block"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:"\n            "},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"section",match:["section"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"section",match:["section"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:"\n            "},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"floor",match:["floor"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"floor",match:["floor"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:'        </ul>\n    </div>\n\n    <div class="form__parametric-content-prices">\n        '},{type:"raw",value:"\n        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"hidePrice",match:["hidePrice"]}],output:[{type:"raw",value:"            "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"hidePrice",match:["hidePrice"]}]},{type:"raw",value:"\n        "}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"price",match:["price"]}],output:[{type:"raw",value:'            <div class="premises-prices">\n                <div class="premises-prices__price '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]}],output:[{type:"raw",value:"action-price"}]}},{type:"raw",value:'">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"price",match:["price"]}]},{type:"raw",value:"\n                </div>\n                "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]}],output:[{type:"raw",value:"                    "},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:e6adfaad7c33eae681307a47f69a347f639330212ef47e899964950b0c88aae6beefd5566aeb5e8710f3567df102cdf2f79764ee052dd252554014282b2fb0e9:action-price.twig"}],withStack:[{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"actionValue"},{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]},{type:"Twig.expression.type.key.period",key:"value"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"basicPrice"},{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]},{type:"Twig.expression.type.key.period",key:"base"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]}]}},{type:"raw",value:"                "}]}},{type:"raw",value:"            </div>\n        "}]}},{type:"raw",value:"    </div>\n\n</div>\n\n"}],o=s({id:"$resolved:b2fb68d275889a93ca67e781de8150e04e60d34350a43243d3cfbae1a4f7ba9b7c075e6220170883216d48e39ee35d31f328bfec0f91ac7674cebdd7406c540d:form-parametric-content.twig",data:[{type:"raw",value:'\n\n<div class="form__parametric-content">\n    <div class="form__parametric-content-heading">\n        <ul class="list list_theme_accent list_theme_dot">\n            '},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"title",match:["title"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"title",match:["title"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:"\n            "},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"area",match:["area"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"area",match:["area"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:'        </ul>\n    </div>\n\n    <div class="form__parametric-content-params">\n        <ul class="list list_theme_dot">\n            '},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"block",match:["block"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"block",match:["block"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:"\n            "},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"section",match:["section"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"section",match:["section"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:"\n            "},{type:"raw",value:"\n            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"floor",match:["floor"]}],output:[{type:"raw",value:'                <li class="list__item">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"floor",match:["floor"]}]},{type:"raw",value:"\n                </li>\n            "}]}},{type:"raw",value:'        </ul>\n    </div>\n\n    <div class="form__parametric-content-prices">\n        '},{type:"raw",value:"\n        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"hidePrice",match:["hidePrice"]}],output:[{type:"raw",value:"            "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"hidePrice",match:["hidePrice"]}]},{type:"raw",value:"\n        "}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"price",match:["price"]}],output:[{type:"raw",value:'            <div class="premises-prices">\n                <div class="premises-prices__price '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]}],output:[{type:"raw",value:"action-price"}]}},{type:"raw",value:'">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"price",match:["price"]}]},{type:"raw",value:"\n                </div>\n                "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]}],output:[{type:"raw",value:"                    "},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:e6adfaad7c33eae681307a47f69a347f639330212ef47e899964950b0c88aae6beefd5566aeb5e8710f3567df102cdf2f79764ee052dd252554014282b2fb0e9:action-price.twig"}],withStack:[{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"actionValue"},{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]},{type:"Twig.expression.type.key.period",key:"value"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"basicPrice"},{type:"Twig.expression.type.variable",value:"actionPrice",match:["actionPrice"]},{type:"Twig.expression.type.key.period",key:"base"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]}]}},{type:"raw",value:"                "}]}},{type:"raw",value:"            </div>\n        "}]}},{type:"raw",value:"    </div>\n\n</div>\n\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},6940:function(e,t,i){var s=i(8133).twig,a=[{type:"raw",value:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="popup__close-icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M15.0502 15.0507C15.4407 14.6602 16.0739 14.6602 16.4644 15.0507L24.9497 23.5359C25.3403 23.9264 25.3403 24.5596 24.9497 24.9501C24.5592 25.3406 23.926 25.3406 23.5355 24.9501L15.0502 16.4649C14.6597 16.0744 14.6597 15.4412 15.0502 15.0507Z" />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M24.9497 15.0507C25.3403 15.4412 25.3403 16.0744 24.9497 16.4649L16.4644 24.9501C16.0739 25.3406 15.4407 25.3406 15.0502 24.9501C14.6597 24.5596 14.6597 23.9264 15.0502 23.5359L23.5355 15.0507C23.926 14.6602 24.5592 14.6602 24.9497 15.0507Z" />\n</svg>\n'}],o=s({id:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig",data:[{type:"raw",value:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="popup__close-icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M15.0502 15.0507C15.4407 14.6602 16.0739 14.6602 16.4644 15.0507L24.9497 23.5359C25.3403 23.9264 25.3403 24.5596 24.9497 24.9501C24.5592 25.3406 23.926 25.3406 23.5355 24.9501L15.0502 16.4649C14.6597 16.0744 14.6597 15.4412 15.0502 15.0507Z" />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M24.9497 15.0507C25.3403 15.4412 25.3403 16.0744 24.9497 16.4649L16.4644 24.9501C16.0739 25.3406 15.4407 25.3406 15.0502 24.9501C14.6597 24.5596 14.6597 23.9264 15.0502 23.5359L23.5355 15.0507C23.926 14.6602 24.5592 14.6602 24.9497 15.0507Z" />\n</svg>\n'}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},1198:function(e,t,i){i(6940);var s=i(8133).twig,a=[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"targetModify",match:["targetModify"]}],output:[{type:"raw",value:" popup_theme_"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"targetModify",match:["targetModify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__container">\n        <div class="popup__wrapper">\n            <div class="popup__inner">\n                <div class="popup__header j-popup__header">\n                    <div class="popup__header-inner">\n                        <button type="button" class="popup__close j-popup__close" aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                            '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                        </button>\n                    </div>\n                </div>\n                <div class="popup__inner-wrapper">\n                    <div class="popup__content j-popup__content">\n                        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"content",match:["content"]}]},{type:"raw",value:"\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}],o=s({id:"$resolved:4f35290d5f4ab90b791ba6ebabbe7989fcf60a2a2c58a2b51c06a4d275a4ccd57a427877458c5b2c5fe0e117bbe1f3f39737f00ab577c0eb89018d83e85d4e39:basic-popup.twig",data:[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"targetModify",match:["targetModify"]}],output:[{type:"raw",value:" popup_theme_"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"targetModify",match:["targetModify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__container">\n        <div class="popup__wrapper">\n            <div class="popup__inner">\n                <div class="popup__header j-popup__header">\n                    <div class="popup__header-inner">\n                        <button type="button" class="popup__close j-popup__close" aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                            '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                        </button>\n                    </div>\n                </div>\n                <div class="popup__inner-wrapper">\n                    <div class="popup__content j-popup__content">\n                        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"content",match:["content"]}]},{type:"raw",value:"\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},5849:function(e,t,i){i(6940);var s=i(8133).twig,a=[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__header">\n            <div class="grid">\n                <div class="popup__header-inner">\n                    <p>Галерея</p>\n                    <button type="button" class="popup__close j-popup__close" aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="grid">\n            <div class="popup__gallery j-popup-gallery">\n                '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"item",expression:[{type:"Twig.expression.type.variable",value:"items",match:["items"]}],output:[{type:"raw",value:'                    <div class="popup__gallery-item">\n                        <img src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"src"}]},{type:"raw",value:'" alt="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"alt"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"caption"}],output:[{type:"raw",value:"                            <p>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"caption"}]},{type:"raw",value:"</p>\n                        "}]}},{type:"raw",value:"                    </div>\n                "}]}},{type:"raw",value:"            </div>\n        </div>\n    </div>\n</div>\n"}],o=s({id:"$resolved:519bf33f590eeff674a4bb380f00d4f52e14371d671e7e3072255f6fda5dea2112d3ec92b1d329f964507cf607b46e1f81bb92cb9826bf39d09c0beb3e57116b:gallery-popup.twig",data:[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__header">\n            <div class="grid">\n                <div class="popup__header-inner">\n                    <p>Галерея</p>\n                    <button type="button" class="popup__close j-popup__close" aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="grid">\n            <div class="popup__gallery j-popup-gallery">\n                '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"item",expression:[{type:"Twig.expression.type.variable",value:"items",match:["items"]}],output:[{type:"raw",value:'                    <div class="popup__gallery-item">\n                        <img src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"src"}]},{type:"raw",value:'" alt="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"alt"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"caption"}],output:[{type:"raw",value:"                            <p>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"caption"}]},{type:"raw",value:"</p>\n                        "}]}},{type:"raw",value:"                    </div>\n                "}]}},{type:"raw",value:"            </div>\n        </div>\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},2420:function(e,t,i){i(6940);var s=i(8133).twig,a=[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__header">\n            <div class="grid">\n                <div class="popup__header-inner">\n                    <p>Онлайн-трансляции</p>\n                    <button type="button" class="popup__close j-popup__close"\n                            aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="grid">\n            <div class="progress j-popup__content" data-content="progress__tabs-content">\n                '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"tabs",match:["tabs"]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}],output:[{type:"raw",value:'                    <div class="progress__tabs">\n                        '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"tab",expression:[{type:"Twig.expression.type.variable",value:"tabs",match:["tabs"]}],output:[{type:"raw",value:'                            <button type="button"\n                                    class="button button_theme_white j-video__tab'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"index"},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" is-active"}]}},{type:"raw",value:'"\n                                    data-video="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"video"},{type:"Twig.expression.type.key.period",key:"url"}]},{type:"raw",value:'">\n                                '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"\n                            </button>\n                        "}]}},{type:"raw",value:'                    </div>\n                    <div class="progress__tabs-content">\n                        <div class="progress__content">\n                            <div class="progress__item video">\n                                <iframe src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tabs",match:["tabs"]},{type:"Twig.expression.type.key.brackets",stack:[{type:"Twig.expression.type.number",value:0,match:["0",null]}]},{type:"Twig.expression.type.key.period",key:"video"},{type:"Twig.expression.type.key.period",key:"url"}]},{type:"raw",value:'" allowfullscreen class="j-video__iframe"></iframe>\n                            </div>\n                        </div>\n                    </div>\n                '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'                    <div class="progress__content">\n                        <h4 style="color: red;">Заполните данные</h4>\n                    </div>\n                '}]}},{type:"raw",value:"            </div>\n        </div>\n    </div>\n</div>\n"}],o=s({id:"$resolved:1c294be71a3c4374dc764b7b3bb30f8a92731e99bcbc4e3598cf31b8f858076820459a6745d72adf23db24a676d3bc52ca8778657407b970d236adec14462892:online-popup.twig",data:[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__header">\n            <div class="grid">\n                <div class="popup__header-inner">\n                    <p>Онлайн-трансляции</p>\n                    <button type="button" class="popup__close j-popup__close"\n                            aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="grid">\n            <div class="progress j-popup__content" data-content="progress__tabs-content">\n                '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"tabs",match:["tabs"]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}],output:[{type:"raw",value:'                    <div class="progress__tabs">\n                        '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"tab",expression:[{type:"Twig.expression.type.variable",value:"tabs",match:["tabs"]}],output:[{type:"raw",value:'                            <button type="button"\n                                    class="button button_theme_white j-video__tab'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"index"},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" is-active"}]}},{type:"raw",value:'"\n                                    data-video="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"video"},{type:"Twig.expression.type.key.period",key:"url"}]},{type:"raw",value:'">\n                                '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"\n                            </button>\n                        "}]}},{type:"raw",value:'                    </div>\n                    <div class="progress__tabs-content">\n                        <div class="progress__content">\n                            <div class="progress__item video">\n                                <iframe src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tabs",match:["tabs"]},{type:"Twig.expression.type.key.brackets",stack:[{type:"Twig.expression.type.number",value:0,match:["0",null]}]},{type:"Twig.expression.type.key.period",key:"video"},{type:"Twig.expression.type.key.period",key:"url"}]},{type:"raw",value:'" allowfullscreen class="j-video__iframe"></iframe>\n                            </div>\n                        </div>\n                    </div>\n                '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'                    <div class="progress__content">\n                        <h4 style="color: red;">Заполните данные</h4>\n                    </div>\n                '}]}},{type:"raw",value:"            </div>\n        </div>\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},2576:function(e,t,i){i(6940);var s=i(8133).twig,a=[{type:"raw",value:'<div class="popup popup_theme_planoplan j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__content j-popup__content">\n            <div id="planoplan" class="popup__planoplan-wrapper"></div>\n        </div>\n        <button aria-label="Закрыть" class="button-circle popup__btn-close j-popup__close">\n            '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:"        </button>\n    </div>\n</div>\n"}],o=s({id:"$resolved:df258fde6283a79670e6bc046dd0aff62f38e23a816c68f1331311e7090108b6685cce08c8f9f56b6f203ff6b255d7325ac92fbb805c9741199981975e76a2f1:planoplan-popup.twig",data:[{type:"raw",value:'<div class="popup popup_theme_planoplan j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__content j-popup__content">\n            <div id="planoplan" class="popup__planoplan-wrapper"></div>\n        </div>\n        <button aria-label="Закрыть" class="button-circle popup__btn-close j-popup__close">\n            '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:"        </button>\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},9454:function(e,t,i){i(7888),i(3194);var s=i(8133).twig,a=[{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}],output:[{type:"raw",value:"    <h4>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"</h4>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"description"}],output:[{type:"raw",value:'    <div class="progress__description">\n        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"description"}]},{type:"raw",value:"\n    </div>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"videos"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}],output:[{type:"raw",value:'    <div class="progress__content">\n        '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"videoItem",expression:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"videos"}],output:[{type:"raw",value:'            <div class="progress__item video">\n                <iframe src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"videoItem",match:["videoItem"]},{type:"Twig.expression.type.key.period",key:"url"}]},{type:"raw",value:'" allowfullscreen></iframe>\n            </div>\n        '}]}},{type:"raw",value:"    </div>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"images"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}],output:[{type:"raw",value:'    <div class="progress__content progress__content_theme_tile">\n        '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"image",expression:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"images"}],output:[{type:"raw",value:'            <div class="progress__item">\n                <div class="progress__item-wrapper">\n                    <img src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"image",match:["image"]}]},{type:"raw",value:'" alt="">\n                </div>\n            </div>\n        '}]}},{type:"raw",value:"    </div>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:'    <div class="progress__navigation">\n        <button class="progress__navigation-button j-progress-nav" '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" disabled"}]}},{type:"raw",value:' data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n            <span class="button-circle button-circle_theme_white">\n                '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:f3387d29c5fd83c08270b4a33b5193f875ef6e0044bf01bb642eed3dd4c0dee8e517144388a56a5c345f6308857c325748c6342300c9c11ec4235928264d8193:arrow-left.svg.twig"}]}},{type:"raw",value:'            </span>\n            <span class="progress__navigation-button-text">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"</span>\n        </button>\n        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}],output:[{type:"raw",value:'            <div class="progress__navigation-current">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"</div>\n        "}]}},{type:"raw",value:'        \n        <button class="progress__navigation-button j-progress-nav" '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" disabled"}]}},{type:"raw",value:' data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n            <span class="progress__navigation-button-text">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:'</span>\n            <span class="button-circle button-circle_theme_white">\n                '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:ccc1a19778314f55656e66c238ec5fcee02f49c5271845aec58e69a3461b9030cf86f6c6910b9589238e759b73dc33eeae1bef876cec12a125dbdd5b0437552d:arrow-right.svg.twig"}]}},{type:"raw",value:"            </span>\n        </button>\n    </div>\n"}]}}],o=s({id:"$resolved:7f3b52d12136f65ce21378e6f43f22c1acac8f6dd7eba54556e4ff813c32382f9db3b7287b1b5ea20961ee2c5dc720cc936d647b3f4b7add8905f4becb0234e3:progress-content.twig",data:[{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}],output:[{type:"raw",value:"    <h4>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"</h4>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"description"}],output:[{type:"raw",value:'    <div class="progress__description">\n        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"description"}]},{type:"raw",value:"\n    </div>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"videos"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}],output:[{type:"raw",value:'    <div class="progress__content">\n        '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"videoItem",expression:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"videos"}],output:[{type:"raw",value:'            <div class="progress__item video">\n                <iframe src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"videoItem",match:["videoItem"]},{type:"Twig.expression.type.key.period",key:"url"}]},{type:"raw",value:'" allowfullscreen></iframe>\n            </div>\n        '}]}},{type:"raw",value:"    </div>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"images"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}],output:[{type:"raw",value:'    <div class="progress__content progress__content_theme_tile">\n        '},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"image",expression:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"images"}],output:[{type:"raw",value:'            <div class="progress__item">\n                <div class="progress__item-wrapper">\n                    <img src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"image",match:["image"]}]},{type:"raw",value:'" alt="">\n                </div>\n            </div>\n        '}]}},{type:"raw",value:"    </div>\n"}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:'    <div class="progress__navigation">\n        <button class="progress__navigation-button j-progress-nav" '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" disabled"}]}},{type:"raw",value:' data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n            <span class="button-circle button-circle_theme_white">\n                '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:f3387d29c5fd83c08270b4a33b5193f875ef6e0044bf01bb642eed3dd4c0dee8e517144388a56a5c345f6308857c325748c6342300c9c11ec4235928264d8193:arrow-left.svg.twig"}]}},{type:"raw",value:'            </span>\n            <span class="progress__navigation-button-text">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"prev",match:["prev"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"</span>\n        </button>\n        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}],output:[{type:"raw",value:'            <div class="progress__navigation-current">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"progress",match:["progress"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"</div>\n        "}]}},{type:"raw",value:'        \n        <button class="progress__navigation-button j-progress-nav" '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" disabled"}]}},{type:"raw",value:' data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n            <span class="progress__navigation-button-text">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"next",match:["next"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:'</span>\n            <span class="button-circle button-circle_theme_white">\n                '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:ccc1a19778314f55656e66c238ec5fcee02f49c5271845aec58e69a3461b9030cf86f6c6910b9589238e759b73dc33eeae1bef876cec12a125dbdd5b0437552d:arrow-right.svg.twig"}]}},{type:"raw",value:"            </span>\n        </button>\n    </div>\n"}]}}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},4208:function(e,t,i){i(9454),i(6940);var s=i(8133).twig,a=[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__header">\n            <div class="grid">\n                <div class="popup__header-inner">\n                    <p>Ход строительства</p>\n                    <button type="button" class="popup__close j-popup__close" aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="grid">\n            <div class="progress j-popup__content">\n                '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:7f3b52d12136f65ce21378e6f43f22c1acac8f6dd7eba54556e4ff813c32382f9db3b7287b1b5ea20961ee2c5dc720cc936d647b3f4b7add8905f4becb0234e3:progress-content.twig"}]}},{type:"raw",value:"            </div>\n        </div>\n    </div>\n</div>\n"}],o=s({id:"$resolved:3a606dc7edb08e553accd43311c5ed3ca61788191d5ab6b251e7d6e323a71f7f2a162ef236721d3c4d76ac3988478b480b41e16351e6b8e81ab3a57bb291514a:progress-popup.twig",data:[{type:"raw",value:'<div class="popup'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modify",match:["modify"]}]}]}},{type:"raw",value:' j-popup__body">\n    <div class="popup__overlay j-popup__overlay"></div>\n    <div class="popup__wrapper">\n        <div class="popup__header">\n            <div class="grid">\n                <div class="popup__header-inner">\n                    <p>Ход строительства</p>\n                    <button type="button" class="popup__close j-popup__close" aria-label="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"buttonAriaLabel",match:["buttonAriaLabel"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"Закрыть"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n                        '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:bfb4c3e88fbccae22f362d69386714644faa12ff25b7071a8b705808624a5bd0df35d31e4f33a0006fada9167e762b823246fdc6d6bab019d5cf89056ec52187:close.twig"}]}},{type:"raw",value:'                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="grid">\n            <div class="progress j-popup__content">\n                '},{type:"logic",token:{type:"Twig.logic.type.include",only:!1,ignoreMissing:!1,stack:[{type:"Twig.expression.type.string",value:"$resolved:7f3b52d12136f65ce21378e6f43f22c1acac8f6dd7eba54556e4ff813c32382f9db3b7287b1b5ea20961ee2c5dc720cc936d647b3f4b7add8905f4becb0234e3:progress-content.twig"}]}},{type:"raw",value:"            </div>\n        </div>\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return o.render(e)},e.exports.tokens=a},2883:function(){}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,o){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],o=e[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||n>=o)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(r=!1,o<n&&(n=o));if(r){e.splice(c--,1);var p=a();void 0!==p&&(t=p)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,a,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,s){return i.f[s](e,t),t}),[]))}}(),function(){i.u=function(e){return"js/"+{19:"header",50:"animation",209:"accordion",407:"popup-facade",520:"tabs",557:"share",680:"form",712:"btn-trigger"}[e]+"."+{19:"d730546a",50:"3b178aef",209:"08fdf07d",407:"18ba245e",520:"747d162b",557:"c8042426",680:"8373d790",712:"a9c856cf"}[e]+".js"}}(),function(){i.miniCssF=function(e){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="visual:";i.l=function(s,a,o,n){if(e[s])e[s].push(a);else{var r,l;if(void 0!==o)for(var p=document.getElementsByTagName("script"),c=0;c<p.length;c++){var u=p[c];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+o){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",t+o),r.src=s),e[s]=[a];var d=function(t,i){r.onerror=r.onload=null,clearTimeout(h);var a=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(i)})),t)return t(i)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/assetsVisual/"}(),function(){var e={179:0};i.f.j=function(t,s){var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var o=new Promise((function(i,s){a=e[t]=[i,s]}));s.push(a[2]=o);var n=i.p+i.u(t),r=new Error,l=function(s){if(i.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",r.name="ChunkLoadError",r.type=o,r.request=n,a[1](r)}};i.l(n,l,"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,n=s[0],r=s[1],l=s[2],p=0;if(n.some((function(t){return 0!==e[t]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(l)var c=l(i)}for(t&&t(s);p<n.length;p++)o=n[p],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},s=self["webpackChunkvisual"]=self["webpackChunkvisual"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(1522)}));s=i.O(s)})();