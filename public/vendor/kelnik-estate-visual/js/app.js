/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunkmulti_kelnik_estate_visual=self.webpackChunkmulti_kelnik_estate_visual||[]).push([[773],{405:function(t,e,n){"use strict";var r=n(669),a=n.n(r);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(t){u=!0,a=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function o(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t){return new Promise((function(e,n){t instanceof File||n("Invalid argument type");var r=new FileReader;r.onerror=function(){n(r.error)},r.onloadend=function(){e(r.result)},r.readAsText(t)}))},c=function(t,e,n,r){return new Promise((function(a,i){t instanceof File||i("Invalid argument type");var s=new FormData;s.append("file",t),s.append("storage",n),s.append("group",r),window.axios.post(e,s).then((function(t){a(t.data)})).catch((function(t){i(t)}))}))},d=function(t){var e=(new DOMParser).parseFromString(t,"image/svg+xml").getElementsByTagName("path"),n=[];if(!e.length)return n;var r,a=s(e);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i.getAttribute("d");o&&n.push({serialNumber:i.getAttribute("id"),coords:o})}}catch(t){a.e(t)}finally{a.f()}return n},f=function(t){var e,n=[],r=s(t.matchAll(/(m([achlqstv\d.,|\- ]+)z)/gim));try{for(r.s();!(e=r.n()).done;){var a=e.value;"string"==typeof a[1]&&n.push(a[1])}}catch(t){r.e(t)}finally{r.f()}return n},p=function(t){return new Promise((function(e,n){var r=new FileReader;r.onloadend=function(){var a=new Image;a.src=r.result,a.onload=function(){if(!a.width&&!a.height&&a.src.indexOf("data:image/svg+xml")>-1)return a=null,void function(t,e,n){r.onloadend=function(){var t='viewBox="',a=r.result.indexOf(t);-1===a&&n("viewBox not found at SVG file");var s,o,l=i(r.result.slice(a+9,r.result.indexOf('"',a+9)).trim().split(" "),4);s=l[2],o=l[3],s||o||n("Width and Height of SVG is undefined"),e({width:s,height:o})},r.onerror=function(){n(r.error)},r.readAsText(t)}(t,e,n);e({width:a.width,height:a.height})}},r.onerror=function(){n(r.error)},r.readAsDataURL(t)}))},h=function(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.split("/").pop().toLowerCase()},m=function(t){return t?t.split("/").pop():null};function g(t,e,n,r,a,i,s,o){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=l):a&&(l=o?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}var v=g({name:"EstateVisualAngleRenderPointer",props:{x:{type:Number|String,required:!0},y:{type:Number|String,required:!0},title:{type:String}}},(function(){var t=this,e=t._self._c;return Number(t.x)>0&&t.title?e("foreignObject",{staticClass:"visual-canvas__pointer",attrs:{x:t.x,y:t.y,width:"1",height:"1",requiredExtensions:"http://www.w3.org/1999/xhtml"}},[e("div",{staticClass:"visual-canvas__pointer-item visual-canvas__pointer-item_theme_render",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[e("div",{staticClass:"visual-canvas__pointer-text"},[t._v(t._s(t.title))])])]):t._e()}),[],!1,null,null,null).exports,A=g({name:"EstateVisualAngleRender",components:{EstateVisualAngleRenderPointer:v},props:{angleId:{type:Number|String,required:!0},render:{type:Object,required:!0},pointers:{type:Array},masks:{type:Array,required:!0}},inject:["translates"],created:function(){this.$eventBus.$on("sync-masks-list",this.handleSyncMasks)},computed:{hasRender:function(){return!!this.render.id},renderFileName:function(){return m(this.render.path)},renderFileExtension:function(){return m(this.render.path).split(".").pop().toUpperCase()||null}},methods:{removeRender:function(){this.$emit("remove-render")},getPosition:function(t,e){var n="string"==typeof t;return Array.isArray(t)||n?(n&&(t=t.trim().split(",").slice(0,2).map((function(t){return Number(t)}))),t[e]||0):0},getTitle:function(t){return Object.hasOwn(t,"type")&&"panorama"===t.type?"360":t.data.text||""},handleSyncMasks:function(t){this.render.path&&t===this.angleId&&this.$forceUpdate()}}},(function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"md-2"},[e("div",{staticClass:"form-group"},[e("svg",{ref:"svg",staticClass:"visual-canvas rounded",class:{"no-bg":t.render.path},attrs:{viewBox:["0 0 ".concat(t.render.width," ").concat(t.render.height)],preserveAspectRatio:"xMidYMid slice"}},[t.hasRender?e("image",{attrs:{x:"0",y:"0",width:"100%",height:"100%","xlink:href":t.render.path}}):t._e(),t._v(" "),t._l(t.masks,(function(n){return e("path",{ref:"masks",refInFor:!0,class:{"has-link":n.type},attrs:{id:n.id,d:n.coords},on:{click:function(e){return e.stopPropagation(),t.$eventBus.$emit("click-on-mask-path",t.angleId,n.id)}}})})),t._v(" "),t._l(t.masks,(function(n){return e("EstateVisualAngleRenderPointer",{key:"m-".concat(n.id),attrs:{x:t.getPosition(n.pointer,0),y:t.getPosition(n.pointer,1),title:n.elementTitle}})})),t._v(" "),t._l(t.pointers,(function(n){return e("EstateVisualAngleRenderPointer",{key:"p-".concat(n.id),attrs:{x:t.getPosition(n.position,0),y:t.getPosition(n.position,1),title:t.getTitle(n)}})}))],2)]),t._v(" "),t.render.path?e("div",{staticClass:"form-group mb-3"},[e("span",{staticClass:"badge bg-secondary me-2"},[t._v(t._s(t.renderFileExtension))]),t._v(" "+t._s(t.renderFileName)+"\n        "),e("a",{staticClass:"ms-2",on:{click:function(e){return t.removeRender()}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1.4em",height:"1.4em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M21.66,10.34a1,1,0,0,0-1.42,0L16,14.59l-4.24-4.25a1,1,0,0,0-1.42,1.42L14.59,16l-4.25,4.24a1,1,0,0,0,1.42,1.42L16,17.41l4.24,4.25a1,1,0,0,0,1.42-1.42L17.41,16l4.25-4.24A1,1,0,0,0,21.66,10.34Z"}})])])]):t._e()])}),[],!1,null,null,null).exports,y=g({name:"EstateModal",inject:["translates"],props:{id:{type:String,required:!0}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal fade",attrs:{id:"".concat(t.id),tabindex:"-1","aria-labelledby":"label-".concat(t.id),"aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title text-black fw-light",attrs:{id:"label-".concat(t.id)}},[t._t("title")],2),t._v(" "),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),t._v(" "),e("div",{staticClass:"modal-body layout-wrapper"},[e("fieldset",{staticClass:"md-3"},[e("div",{staticClass:"bg-white rounded shadow-sm p-4 py-4 d-flex flex-column"},[t._t("body")],2)])]),t._v(" "),e("div",{staticClass:"modal-footer"},[t._t("footer",(function(){return[e("button",{staticClass:"btn btn-default",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(t._s(t.translates.close))])]}))],2)])])])}),[],!1,null,null,null).exports;function b(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w=g({name:"EstateVisualAngleMasks",components:{EstateModal:y},props:{angleId:{type:Number|String,required:!0},masks:{type:Array,required:!0},elements:{type:Array,required:!0}},inject:["translates","data"],data:function(){return{modal:{index:0,mask:{}}}},created:function(){this.syncMaskToElements(),this.$eventBus.$on("click-on-mask-path",this.showMaskOnList),this.$eventBus.$on("link-mask-to-element",this.linkMaskBySerialNumber)},computed:{hasNoData:function(){return!this.elements.length},hasMasks:function(){return this.masks.length},hasNoMasks:function(){return!this.hasMasks},hasFreeMasks:function(){return!!this.hasMasks&&this.masks.find((function(t){return!t.type}))}},methods:{typeIsEmpty:function(t){return!t},typeIsUrl:function(t){return"url"===t},typeIsStep:function(t){return t&&!this.typeIsUrl(t)},elementCanLink:function(t){return!t.maskId&&this.hasFreeMasks},elementHasLink:function(t){return t.maskId||!1},elementHasMask:function(t,e){return t.maskId===e},getPointerPosition:function(t,e){var n;return Object.prototype.hasOwnProperty.call(t,"pointer")&&null!==(n=t.pointer[e])&&void 0!==n?n:0},toggleDropdown:function(t){var e,n=t.target.closest(".dropdown-toggle");n&&(null===(e=window.Bootstrap.Dropdown.getOrCreateInstance(n))||void 0===e||e.toggle())},openModal:function(t,e){var n;this.modal=Object.assign({},{index:e+1,mask:Object.assign({},t)}),null===(n=window.Bootstrap.Modal.getOrCreateInstance("#".concat(this.getModalName())))||void 0===n||n.show()},getModalName:function(){return"maskEdit-".concat(this.angleId)},saveModal:function(){var t=this,e=this.masks.find((function(e){return e.id===t.modal.mask.id}));e&&(e=Object.assign(e,this.modal.mask),this.syncMaskToElements()),this.$emit("mask-updated",e.id)},setModalMaskType:function(t){this.modal.mask.type=t,this.modal.mask.value=null,this.modal.mask.element_id=0,this.modal.mask.elementTitle=null},removeMask:function(t){confirm(this.translates.confirmDeleteMask)&&(this.detachMaskFromElementByMask(t),this.$emit("mask-remove",t))},removeMaskLinkByElement:function(t){var e=this;this.detachMaskFromElementByElement(t);var n=this.masks.find((function(n){return n.type===e.data.nextStep&&n.element_id===t.id}));n&&this.$emit("mask-remove-link",n.id)},removeMaskLink:function(t){if(!this.typeIsUrl(t.type)&&t.type===this.data.nextStep){var e,n=b(this.elements);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.id===t.element_id){this.detachMaskFromElementByElement(r);break}}}catch(t){n.e(t)}finally{n.f()}}this.$emit("mask-remove-link",t.id)},detachMaskFromElementByMask:function(t){var e,n=b(this.elements);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.hasOwnProperty("maskId")&&r.maskId===t){this.detachMaskFromElementByElement(r);break}}}catch(t){n.e(t)}finally{n.f()}},detachMaskFromElementByElement:function(t){t=Object.assign(t,{maskId:0,maskTitle:null})},syncMaskToElements:function(){var t,e=1,n=b(this.elements);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.maskId=0,r.maskTitle=null}}catch(t){n.e(t)}finally{n.f()}var a,i=b(this.masks);try{for(i.s();!(a=i.n()).done;){var s,o=a.value,l=b(this.elements);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.hasOwnProperty("maskId")||this.detachMaskFromElementByElement(u),o.type===this.data.nextStep&&u.id===o.element_id&&(o=Object.assign(o,{elementTitle:u.title}),u=Object.assign(u,{maskId:o.id,maskTitle:e}))}}catch(t){l.e(t)}finally{l.f()}e++}}catch(t){i.e(t)}finally{i.f()}this.$eventBus.$emit("sync-masks-list",this.angleId)},linkElementToMask:function(t,e,n,r){var a=t.closest("ul");a.classList.remove("show"),a.style={},this._linkElToMask(e,n,r)},_linkElToMask:function(t,e,n){t=Object.assign(t,{maskId:e.id,maskTitle:n}),this.$emit("mask-set-link",{id:e.id,type:this.data.nextStep,value:null,element_id:t.id,elementTitle:t.title})},showMaskOnList:function(t,e){var n=this;if(this.angleId===t){var r=this.masks.find((function(t){return t.id===e}));r&&(r.highlight=!0,this.$forceUpdate(),setTimeout((function(){r.highlight=!1,n.$forceUpdate()}),1e3))}},linkMaskBySerialNumber:function(t,e,n){if(this.angleId===t){var r=null,a=null;for(var i in this.masks)if(this.masks[i].id===e){a=this.masks[i],r=i;break}if(a){var s=null;for(var o in this.elements)if(this.elements[o].hasOwnProperty("serialNumber")&&this.elements[o].serialNumber===n){s=this.elements[o];break}s&&this._linkElToMask(s,a,r)}}}}},(function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"md-2 border rounded"},[e("div",{staticClass:"nav-tabs-alt"},[e("ul",{staticClass:"nav nav-tabs nav-fill",attrs:{role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{"data-bs-target":"#tab-".concat(t.angleId,"-data-to-masks"),role:"presentation","data-bs-toggle":"tab"}},[t._v(t._s(t.translates.data))])]),t._v(" "),e("li",{staticClass:"nav-item position-relative"},[e("a",{staticClass:"nav-link",attrs:{"data-bs-target":"#tab-".concat(t.angleId,"-masks-to-data"),role:"presentation","data-bs-toggle":"tab"}},[t._v(t._s(t.translates.masks))])])])]),t._v(" "),e("section",[e("div",{staticClass:"no-border-xs"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"tab-".concat(t.angleId,"-data-to-masks")}},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("tbody",[t._l(t.elements,(function(n,r){return e("tr",[e("td",{staticClass:"text-start"},[t._v("\n                                        "+t._s(n.title)+"\n                                        "),n.maskId?e("span",{staticClass:"ms-2"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M1.060 29.448c0.010 0 0.022 0 0.034-0.001 0.506-0.017 0.825-0.409 0.868-0.913 0.034-0.371 1.030-9.347 15.039-9.337l0.032 5.739c0 0.387 0.223 0.739 0.573 0.904 0.346 0.166 0.764 0.115 1.061-0.132l12.968-10.743c0.233-0.191 0.366-0.475 0.365-0.774s-0.136-0.584-0.368-0.774l-12.967-10.643c-0.299-0.244-0.712-0.291-1.061-0.128-0.349 0.166-0.572 0.518-0.572 0.903l-0.032 5.614c-5.811 0.184-10.312 2.053-13.229 5.467-4.748 5.556-3.688 13.63-3.639 13.966 0.074 0.49 0.433 0.85 0.926 0.85zM18.033 17.182h-0.002c-10.007 0.006-13.831 3.385-16.015 6.37 0.32-2.39 1.252-5.273 3.281-7.626 2.698-3.128 7.045-4.777 12.736-4.777 0.552 0 1-0.447 1-1v-4.493l10.389 8.542-10.389 8.622v-4.637c0-0.265-0.105-0.52-0.294-0.708-0.187-0.187-0.441-0.293-0.706-0.293z"}})]),t._v(" "),e("span",{staticClass:"badge bg-success"},[t._v(t._s(t.translates.mask.toUpperCase()))]),t._v(" "+t._s(n.maskTitle)+"\n                                        ")]):t._e()]),t._v(" "),e("td",{staticClass:"text-end"},[e("a",{staticClass:"dropdown-toggle mask-link mx-2",class:{invisible:!t.elementCanLink(n)},attrs:{"aria-expanded":"false"},on:{click:t.toggleDropdown}},[e("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"link",width:"1.2em",height:"1.2em",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("path",{attrs:{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}})])]),t._v(" "),e("ul",{staticClass:"dropdown-menu"},t._l(t.masks,(function(r,a){return e("li",[r.type?t._e():e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.linkElementToMask(e.target,n,r,a+1)}}},[e("span",{staticClass:"badge bg-secondary"},[t._v(t._s(t.translates.mask.toUpperCase()))]),t._v(" "+t._s(a+1)+"\n                                                ")])])})),0),t._v(" "),t.elementHasLink(n)?e("a",{staticClass:"mx-2",on:{click:function(e){return t.removeMaskLinkByElement(n)}}},[e("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"unlink",width:"1.2em",height:"1.2em",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("path",{attrs:{fill:"currentColor",d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"}})])]):t._e()])])})),t._v(" "),t.hasNoData?e("tr",[e("td",{staticClass:"text-center"},[t._v(t._s(t.translates.emptyList))])]):t._e()],2)])])]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"tab-".concat(t.angleId,"-masks-to-data")}},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("tbody",[t._l(t.masks,(function(n,r){return e("tr",{class:{highlight:n.highlight}},[e("td",{staticClass:"text-start"},[e("input",{attrs:{type:"hidden",name:"angles[".concat(t.angleId,"][masks][").concat(n.id,"][type]")},domProps:{value:n.type}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"angles[".concat(t.angleId,"][masks][").concat(n.id,"][value]")},domProps:{value:n.value}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"angles[".concat(t.angleId,"][masks][").concat(n.id,"][element_id]")},domProps:{value:n.element_id}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"angles[".concat(t.angleId,"][masks][").concat(n.id,"][pointer][0]")},domProps:{value:t.getPointerPosition(n,0)}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"angles[".concat(t.angleId,"][masks][").concat(n.id,"][pointer][1]")},domProps:{value:t.getPointerPosition(n,1)}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"angles[".concat(t.angleId,"][masks][").concat(n.id,"][coords]")},domProps:{value:n.coords}}),t._v(" "),e("span",{staticClass:"badge bg-secondary",class:{"bg-success":n.type}},[t._v(t._s(t.translates.mask.toUpperCase()))]),t._v(" "+t._s(r+1)+"\n                                        "),n.type?e("div",{staticClass:"d-inline ms-2"},[e("svg",{attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M1.060 29.448c0.010 0 0.022 0 0.034-0.001 0.506-0.017 0.825-0.409 0.868-0.913 0.034-0.371 1.030-9.347 15.039-9.337l0.032 5.739c0 0.387 0.223 0.739 0.573 0.904 0.346 0.166 0.764 0.115 1.061-0.132l12.968-10.743c0.233-0.191 0.366-0.475 0.365-0.774s-0.136-0.584-0.368-0.774l-12.967-10.643c-0.299-0.244-0.712-0.291-1.061-0.128-0.349 0.166-0.572 0.518-0.572 0.903l-0.032 5.614c-5.811 0.184-10.312 2.053-13.229 5.467-4.748 5.556-3.688 13.63-3.639 13.966 0.074 0.49 0.433 0.85 0.926 0.85zM18.033 17.182h-0.002c-10.007 0.006-13.831 3.385-16.015 6.37 0.32-2.39 1.252-5.273 3.281-7.626 2.698-3.128 7.045-4.777 12.736-4.777 0.552 0 1-0.447 1-1v-4.493l10.389 8.542-10.389 8.622v-4.637c0-0.265-0.105-0.52-0.294-0.708-0.187-0.187-0.441-0.293-0.706-0.293z"}})]),t._v(" "),t.typeIsUrl(n.type)?e("a",{attrs:{href:n.value,target:"_blank"}},[t._v(t._s(n.value))]):t._e(),t._v(" "),t.typeIsStep(n.type)?e("span",[t._v(t._s(n.elementTitle))]):t._e()]):t._e()]),t._v(" "),e("td",{staticClass:"text-end"},[t.typeIsEmpty(n.type)?e("a",{staticClass:"dropdown-toggle mask-link ms-2",attrs:{"aria-expanded":"false"},on:{click:t.toggleDropdown}},[e("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"link",width:"1.2em",height:"1.2em",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("path",{attrs:{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}})])]):t._e(),t._v(" "),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("span",{staticClass:"dropdown-header"},[t._v(t._s(t.translates.nextStepHeader))])]),t._v(" "),t._l(t.elements,(function(a){return a.maskId?t._e():e("li",[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.linkElementToMask(e.target,a,n,r+1)}}},[t._v(t._s(a.title))])])}))],2),t._v(" "),t.typeIsEmpty(n.type)?t._e():e("a",{staticClass:"ms-2",on:{click:function(e){return t.removeMaskLink(n)}}},[e("svg",{attrs:{focusable:"false","data-prefix":"fas","data-icon":"unlink",width:"1.2em",height:"1.2em",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("path",{attrs:{fill:"currentColor",d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"}})])]),t._v(" "),e("a",{staticClass:"ms-2",on:{click:function(e){return t.openModal(n,r)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M30.133 1.552c-1.090-1.044-2.291-1.573-3.574-1.573-2.006 0-3.47 1.296-3.87 1.693-0.564 0.558-19.786 19.788-19.786 19.788-0.126 0.126-0.217 0.284-0.264 0.456-0.433 1.602-2.605 8.71-2.627 8.782-0.112 0.364-0.012 0.761 0.256 1.029 0.193 0.192 0.45 0.295 0.713 0.295 0.104 0 0.208-0.016 0.31-0.049 0.073-0.024 7.41-2.395 8.618-2.756 0.159-0.048 0.305-0.134 0.423-0.251 0.763-0.754 18.691-18.483 19.881-19.712 1.231-1.268 1.843-2.59 1.819-3.925-0.025-1.319-0.664-2.589-1.901-3.776zM22.37 4.87c0.509 0.123 1.711 0.527 2.938 1.765 1.24 1.251 1.575 2.681 1.638 3.007-3.932 3.912-12.983 12.867-16.551 16.396-0.329-0.767-0.862-1.692-1.719-2.555-1.046-1.054-2.111-1.649-2.932-1.984 3.531-3.532 12.753-12.757 16.625-16.628zM4.387 23.186c0.55 0.146 1.691 0.57 2.854 1.742 0.896 0.904 1.319 1.9 1.509 2.508-1.39 0.447-4.434 1.497-6.367 2.121 0.573-1.886 1.541-4.822 2.004-6.371zM28.763 7.824c-0.041 0.042-0.109 0.11-0.19 0.192-0.316-0.814-0.87-1.86-1.831-2.828-0.981-0.989-1.976-1.572-2.773-1.917 0.068-0.067 0.12-0.12 0.141-0.14 0.114-0.113 1.153-1.106 2.447-1.106 0.745 0 1.477 0.34 2.175 1.010 0.828 0.795 1.256 1.579 1.27 2.331 0.014 0.768-0.404 1.595-1.24 2.458z"}})])]),t._v(" "),e("a",{staticClass:"ms-2",on:{click:function(e){return t.removeMask(n.id)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M21.66,10.34a1,1,0,0,0-1.42,0L16,14.59l-4.24-4.25a1,1,0,0,0-1.42,1.42L14.59,16l-4.25,4.24a1,1,0,0,0,1.42,1.42L16,17.41l4.24,4.25a1,1,0,0,0,1.42-1.42L17.41,16l4.25-4.24A1,1,0,0,0,21.66,10.34Z"}})])])])])})),t._v(" "),t.hasNoMasks?e("tr",[e("td",{staticClass:"text-center"},[t._v(t._s(t.translates.emptyList))])]):t._e()],2)])])])])])]),t._v(" "),e("EstateModal",{attrs:{id:t.getModalName()},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.translates.mask)+" "+t._s(t.modal.index))]},proxy:!0},{key:"body",fn:function(){return[e("fieldset",{staticClass:"md-3"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"mask-coords"}},[t._v(t._s(t.translates.coords)+" "),e("sup",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modal.mask.coords,expression:"modal.mask.coords"}],staticClass:"form-control",attrs:{id:"mask-coords",rows:"5"},domProps:{value:t.modal.mask.coords},on:{input:function(e){e.target.composing||t.$set(t.modal.mask,"coords",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.translates.binding))]),t._v(" "),e("label",{staticClass:"form-label"},[e("input",{attrs:{type:"radio"},domProps:{checked:t.typeIsEmpty(t.modal.mask.type)},on:{click:function(e){return t.setModalMaskType(null)}}}),t._v("\n                        "+t._s(t.translates.noBinding)+"\n                    ")]),t._v(" "),e("label",{staticClass:"form-label"},[e("input",{attrs:{type:"radio"},domProps:{checked:t.typeIsStep(t.modal.mask.type)},on:{click:function(e){return t.setModalMaskType(t.data.nextStep)}}}),t._v("\n                        "+t._s(t.translates.nextStep)+"\n                    ")]),t._v(" "),e("label",{staticClass:"form-label"},[e("input",{attrs:{type:"radio"},domProps:{checked:t.typeIsUrl(t.modal.mask.type)},on:{click:function(e){return t.setModalMaskType("url")}}}),t._v("\n                        "+t._s(t.translates.link)+"\n                    ")])]),t._v(" "),t.modal.mask.pointer?e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.translates.pointer))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modal.mask.pointer[0],expression:"modal.mask.pointer[0]"}],staticClass:"form-control",attrs:{type:"number",min:"0",step:"1"},domProps:{value:t.modal.mask.pointer[0]},on:{input:function(e){e.target.composing||t.$set(t.modal.mask.pointer,0,e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modal.mask.pointer[1],expression:"modal.mask.pointer[1]"}],staticClass:"form-control",attrs:{type:"number",min:"0",step:"1"},domProps:{value:t.modal.mask.pointer[1]},on:{input:function(e){e.target.composing||t.$set(t.modal.mask.pointer,1,e.target.value)}}})])])]):t._e(),t._v(" "),t.typeIsStep(t.modal.mask.type)?e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.translates.nextStepHeader))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.modal.mask.element_id,expression:"modal.mask.element_id"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.modal.mask,"element_id",e.target.multiple?n:n[0])}}},t._l(t.elements,(function(n){return e("option",{attrs:{disabled:t.elementHasLink(n)&&!t.elementHasMask(n,t.modal.mask.id)},domProps:{selected:n.maskId===t.modal.mask.id,value:n.id}},[t._v(t._s(n.title))])})),0)]):t._e(),t._v(" "),t.typeIsUrl(t.modal.mask.type)?e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"mask-url"}},[t._v(t._s(t.translates.link))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.modal.mask.value,expression:"modal.mask.value"}],staticClass:"form-control",attrs:{id:"mask-url",type:"text",maxlength:"255",placeholder:"https://example.com"},domProps:{value:t.modal.mask.value},on:{input:function(e){e.target.composing||t.$set(t.modal.mask,"value",e.target.value)}}})]):t._e()])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-default",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){return t.saveModal()}}},[t._v(t._s(t.translates.apply))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,C=g({name:"EstateVisualAnglePointers",props:{angleId:{type:Number|String,required:!0},pointers:{type:Array,required:!0},pointerTypes:{type:Array,required:!0}},inject:["translates"],computed:{hasNoPointers:function(){return!this.pointers.length},pointerIsPanorama:function(){return function(t){return"panorama"===t.type}}},methods:{addPointer:function(){this.$emit("pointer-add")},removePointer:function(t){this.$emit("pointer-remove",t)}}},(function(){var t=this,e=t._self._c;return e("section",{staticClass:"mt-3"},[e("legend",{staticClass:"text-black"},[t._v(t._s(t.translates.pointers))]),t._v(" "),e("fieldset",{staticClass:"md-2 border rounded"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("tbody",[t._l(t.pointers,(function(n,r){return e("tr",[e("td",{staticClass:"pointer"},[e("div",{staticClass:"body"},[e("div",{staticClass:"type"},[e("span",[t._v("Тип: ")]),t._v(" "),e("span",[e("select",{directives:[{name:"model",rawName:"v-model",value:n.type,expression:"pointer.type"}],staticClass:"form-control",attrs:{name:"angles[".concat(t.angleId,"][pointers][").concat(n.id,"][type]")},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(n,"type",e.target.multiple?r:r[0])}}},t._l(t.pointerTypes,(function(r){return e("option",{domProps:{value:"".concat(r.name),selected:r.name===n.type}},[t._v(t._s(r.title))])})),0)])]),t._v(" "),e("div",{staticClass:"coords"},[e("span",[t._v(t._s(t.translates.pointerCoords))]),t._v(" "),e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.position[0],expression:"pointer.position[0]"}],staticClass:"form-control",staticStyle:{width:"90px"},attrs:{type:"number",min:"0",step:"1",name:"angles[".concat(t.angleId,"][pointers][").concat(n.id,"][position][0]")},domProps:{value:n.position[0]},on:{input:function(e){e.target.composing||t.$set(n.position,0,e.target.value)}}}),t._v(" \n                                    "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.position[1],expression:"pointer.position[1]"}],staticClass:"form-control",staticStyle:{width:"90px"},attrs:{type:"number",min:"0",step:"1",name:"angles[".concat(t.angleId,"][pointers][").concat(n.id,"][position][1]")},domProps:{value:n.position[1]},on:{input:function(e){e.target.composing||t.$set(n.position,1,e.target.value)}}})])]),t._v(" "),t.pointerIsPanorama(n)?e("div",{staticClass:"data"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.data.uid,expression:"pointer.data.uid"}],staticClass:"form-control",attrs:{type:"text",placeholder:"".concat(t.translates.pointerPopWidgetCode),name:"angles[".concat(t.angleId,"][pointers][").concat(n.id,"][data][uid]")},domProps:{value:n.data.uid},on:{input:function(e){e.target.composing||t.$set(n.data,"uid",e.target.value)}}})]):e("div",{staticClass:"data"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.data.text,expression:"pointer.data.text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"".concat(t.translates.pointerTitle),name:"angles[".concat(t.angleId,"][pointers][").concat(n.id,"][data][text]")},domProps:{value:n.data.text},on:{input:function(e){e.target.composing||t.$set(n.data,"text",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"menu"},[e("a",{on:{click:function(e){return t.removePointer(n.id)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M21.66,10.34a1,1,0,0,0-1.42,0L16,14.59l-4.24-4.25a1,1,0,0,0-1.42,1.42L14.59,16l-4.25,4.24a1,1,0,0,0,1.42,1.42L16,17.41l4.24,4.25a1,1,0,0,0,1.42-1.42L17.41,16l4.25-4.24A1,1,0,0,0,21.66,10.34Z"}})])])])])])})),t._v(" "),t.hasNoPointers?e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"3"}},[t._v(t._s(t.translates.emptyList))])]):t._e()],2)])])]),t._v(" "),e("div",{staticClass:"form-group mt-3"},[e("button",{staticClass:"btn btn-default",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addPointer.apply(null,arguments)}}},[e("svg",{staticClass:"me-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 32 32",fill:"currentColor"}},[e("path",{attrs:{d:"M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM23 15h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1z"}})]),t._v("\n            "+t._s(t.translates.addPointer)+"\n        ")])])])}),[],!1,null,null,null),_=C.exports;function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=I(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function E(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||I(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B(){B=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,a){var i=e&&e.prototype instanceof f?e:f,s=Object.create(i.prototype),o=new x(a||[]);return r(s,"_invoke",{value:k(t,n,o)}),s}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d={};function f(){}function p(){}function h(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(E([])));v&&v!==e&&n.call(v,i)&&(m=v);var A=h.prototype=f.prototype=Object.create(m);function y(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function a(r,i,s,o){var l=c(t[r],t,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==M(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,s,o)}),(function(t){a("throw",t,s,o)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return a("throw",t,s,o)}))}o(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){a(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function k(t,e,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return I()}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var o=w(s,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function w(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=c(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(A,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=l(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,o,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},y(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var s=new b(u(e,n,r,a),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(A),l(A,o,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function L(t,e,n,r,a,i,s){try{var o=t[i](s),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,a)}function N(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){L(i,r,a,s,o,"next",t)}function o(t){L(i,r,a,s,o,"throw",t)}s(void 0)}))}}var S={name:"EstateVisualAngle",components:{EstateVisualAngleMasks:w,EstateModal:y,EstateVisualAngleRender:A,EstateVisualAnglePointers:_},data:function(){return{autolink:!1,maskFiles:[],maskCoords:""}},props:{angle:{type:Object,required:!0},pointerTypes:{type:Array,required:!0}},inject:["translates","storageUrl","storageDisk","groups"],computed:{hasMaskFiles:function(){return this.maskFiles.length>0},getFirstMaskFilename:function(){var t,e;return null!==(t=null===(e=this.maskFiles[0])||void 0===e?void 0:e.name)&&void 0!==t?t:"-"},elementHasNumberAttribute:function(){var t;return this.angle.elements.length&&(null===(t=this.angle.elements[0])||void 0===t?void 0:t.hasOwnProperty("serialNumber"))},linkMaskToElement:function(){return this.elementHasNumberAttribute&&this.autolink}},methods:{importRender:function(t){var e=this;return N(B().mark((function n(){return B().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.importRenderFile(t.target.files);case 2:t.target.value=null;case 3:case"end":return n.stop()}}),n)})))()},importRenderFile:function(t){var e=this;return N(B().mark((function n(){var r,a,i;return B().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.length){n.next=3;break}return e.$emit("alert",e.translates.error,e.translates.fileNotLoaded,"error"),n.abrupt("return");case 3:if(r=t.item(0),/^image\//.test(r.type)){n.next=7;break}return e.$emit("alert",e.translates.error,e.translates.invalidFileFormat,"error"),n.abrupt("return");case 7:return a=null,n.prev=8,n.next=11,p(r);case 11:a=n.sent,n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(8),e.$emit("alert",e.translates.error,"".concat(e.translates.getImageSizesError,": ").concat(n.t0.message),"error"),n.abrupt("return");case 18:return i=null,n.prev=19,n.next=22,c(r,e.storageUrl,e.storageDisk,e.groups);case 22:i=n.sent,n.next=29;break;case 25:return n.prev=25,n.t1=n.catch(19),e.$emit("alert",e.translates.error,"".concat(e.translates.uploadError,": ").concat(n.t1.message),"error"),n.abrupt("return");case 29:e.angle.render.id=i.id,e.angle.render.path=i.url,e.angle.render.width=a.width,e.angle.render.height=a.height,e.$emit("alert",e.translates.modified,e.translates.imageUploaded,"info");case 34:case"end":return n.stop()}}),n,null,[[8,14],[19,25]])})))()},removeRender:function(){this.angle.render.id=null,this.angle.render.path=null,this.angle.render.width=this.angle.render.height=0},setMasksFileList:function(t){this.maskFiles=E(t.target.files),t.target.value=null},resetMasksFileList:function(){this.maskFiles=[]},importMasksByForm:function(t){var e=this;return N(B().mark((function n(){var r,a;return B().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=0,!e.maskFiles.length){n.next=8;break}return n.t0=a,n.next=5,e.importMasksFromSvg(e.maskFiles.shift());case 5:a=n.t0+=n.sent,e.maskFiles=[],e.autolink=!1;case 8:e.maskCoords&&(f(e.maskCoords).forEach((function(t){e._addMask(t)&&a++})),e.maskCoords=null),a?e.$emit("alert",e.translates.modified,"".concat(e.translates.maskAdded,": ").concat(a),"info"):e.$emit("alert",e.translates.error,e.translates.maskNotAdded,"warning"),null===(r=window.Bootstrap.Modal.getOrCreateInstance(t.target.closest(".modal")))||void 0===r||r.hide();case 11:case"end":return n.stop()}}),n)})))()},importMasksFromSvg:function(t){var e=this;return N(B().mark((function n(){var r,a,i,s,o,l;return B().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=0,"image/svg+xml"===t.type){n.next=4;break}return e.$emit("alert",e.translates.error,e.translates.invalidFileFormat,"error"),n.abrupt("return",r);case 4:return a=null,n.prev=5,n.next=8,u(t);case 8:a=n.sent,n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(5),e.$emit("alert",e.translates.error,n.t0.message,"error"),n.abrupt("return",r);case 15:if((i=d(a)).length){n.next=19;break}return e.$emit("alert",e.translates.error,e.translates.maskNotFound),n.abrupt("return",r);case 19:s=x(i),n.prev=20,l=B().mark((function t(){var n,a;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o.value,e._addMask(n.coords)&&(e.linkMaskToElement&&(a=e.angle.masks.find((function(t){return t.coords===n.coords})))&&e.$eventBus.$emit("link-mask-to-element",e.angle.id,a.id,n.serialNumber),r++);case 2:case"end":return t.stop()}}),t)})),s.s();case 23:if((o=s.n()).done){n.next=27;break}return n.delegateYield(l(),"t1",25);case 25:n.next=23;break;case 27:n.next=32;break;case 29:n.prev=29,n.t2=n.catch(20),s.e(n.t2);case 32:return n.prev=32,s.f(),n.finish(32);case 35:return n.abrupt("return",r);case 36:case"end":return n.stop()}}),n,null,[[5,11],[20,29,32,35]])})))()},_addMask:function(t){return!!this._isUniqueMask(t)&&(this.angle.masks.push({id:h(),type:null,element_id:0,pointer:[0,0],coords:t}),!0)},_isUniqueMask:function(t){return!this.angle.masks.length||!this.angle.masks.find((function(e){return e.coords.toLowerCase()===t.toLowerCase()}))},removeMask:function(t){this.angle.masks.length&&(this.angle.masks=this.angle.masks.filter((function(e){return e.id!==t})),this.$emit("alert",this.translates.modified,this.translates.maskDeleted,"info"))},removeMaskLink:function(t){if(this.angle.masks.length){var e=this.angle.masks.find((function(e){return e.id===t}));e&&(e=Object.assign(e,{type:null,element_id:0,value:null,elementTitle:null}),this.$emit("alert",this.translates.modified,this.translates.maskLinkRemoved,"info"))}},setMaskLink:function(t){var e=this.angle.masks.find((function(e){return e.id===t.id}));e&&(e=Object.assign(e,t),this.$emit("alert",this.translates.modified,this.translates.maskLinked,"info"))},maskUpdated:function(t){this.$emit("alert",this.translates.modified,this.translates.maskUpdated,"info")},removePointer:function(t){this.angle.pointers.length&&(this.angle.pointers=this.angle.pointers.filter((function(e){return e.id!==t})))},updatePointer:function(){},addPointer:function(){return this.angle.pointers.push({id:h(),type:"text",data:{panorama:null,text:this.translates.pointerTitle},position:[0,0]}),!0}}},D=g(S,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4 py-4 d-flex flex-column"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"field-".concat(t.angle.id,"-title")}},[t._v("\n            "+t._s(t.translates.title)+" "),e("sup",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.angle.title,expression:"angle.title"}],staticClass:"form-control",attrs:{required:"required",name:"angles[".concat(t.angle.id,"][title]"),id:"field-".concat(t.angle.id,"-title")},domProps:{value:t.angle.title},on:{input:function(e){e.target.composing||t.$set(t.angle,"title",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"field-".concat(t.angle.id,"-degree")}},[t._v("\n            "+t._s(t.translates.degree)+" "),e("sup",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.angle.degree,expression:"angle.degree"}],staticClass:"form-control",attrs:{required:"required",type:"number",name:"angles[".concat(t.angle.id,"][degree]"),id:"field-".concat(t.angle.id,"-degree")},domProps:{value:t.angle.degree},on:{input:function(e){e.target.composing||t.$set(t.angle,"degree",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"field-".concat(t.angle.id,"-shift-horizontal")}},[t._v("\n            "+t._s(t.translates.shiftHorizontal)+"\n        ")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.angle.shift[0],expression:"angle.shift[0]"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"100",step:"1",name:"angles[".concat(t.angle.id,"][shift][0]"),id:"field-".concat(t.angle.id,"-shift-horizontal")},domProps:{value:t.angle.shift[0]},on:{input:function(e){e.target.composing||t.$set(t.angle.shift,0,e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"field-".concat(t.angle.id,"-shift-vertical")}},[t._v("\n            "+t._s(t.translates.shiftVertical)+"\n        ")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.angle.shift[1],expression:"angle.shift[1]"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"100",step:"1",name:"angles[".concat(t.angle.id,"][shift][1]"),id:"field-".concat(t.angle.id,"-shift-vertical")},domProps:{value:t.angle.shift[1]},on:{input:function(e){e.target.composing||t.$set(t.angle.shift,1,e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"btn-group"},[e("label",{staticClass:"btn btn-default m-0 text-wrap"},[e("svg",{staticClass:"me-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M23.845 8.124c-1.395-3.701-4.392-6.045-8.921-6.045-5.762 0-9.793 4.279-10.14 9.86-2.778 0.889-4.784 3.723-4.784 6.933 0 3.93 3.089 7.249 6.744 7.249h2.889c0.552 0 1-0.448 1-1s-0.448-1-1-1h-2.889c-2.572 0-4.776-2.404-4.776-5.249 0-2.514 1.763-4.783 3.974-5.163l0.907-0.156-0.080-0.916-0.008-0.011c0-4.871 3.205-8.545 8.161-8.545 3.972 0 6.204 1.957 7.236 5.295l0.214 0.688 0.721 0.015c3.715 0.078 6.972 3.092 6.972 6.837 0 3.408-2.259 7.206-5.678 7.206h-2.285c-0.552 0-1 0.448-1 1s0.448 1 1 1l2.277-0.003c5-0.132 7.605-4.908 7.605-9.203 0-4.616-3.617-8.305-8.14-8.791zM16.75 16.092c-0.006-0.006-0.008-0.011-0.011-0.016l-0.253-0.264c-0.139-0.146-0.323-0.219-0.508-0.218-0.184-0.002-0.368 0.072-0.509 0.218l-0.253 0.264c-0.005 0.005-0.006 0.011-0.011 0.016l-3.61 3.992c-0.28 0.292-0.28 0.764 0 1.058l0.252 0.171c0.28 0.292 0.732 0.197 1.011-0.095l2.128-2.373v10.076c0 0.552 0.448 1 1 1s1-0.448 1-1v-10.066l2.199 2.426c0.279 0.292 0.732 0.387 1.011 0.095l0.252-0.171c0.279-0.293 0.279-0.765 0-1.058z"}})]),t._v("\n                "+t._s(t.translates.uploadImage)+"\n                "),e("input",{staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.importRender(e)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.angle.render.id,expression:"angle.render.id"}],attrs:{type:"hidden",name:"angles[".concat(t.angle.id,"][image_id]")},domProps:{value:t.angle.render.id},on:{input:function(e){e.target.composing||t.$set(t.angle.render,"id",e.target.value)}}})]),t._v(" "),e("a",{staticClass:"btn btn-default m-0 text-wrap",attrs:{role:"button","data-bs-toggle":"modal","data-bs-target":"#maskImporter-".concat(t.angle.id)}},[e("svg",{staticClass:"me-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M0.682 9.431l14.847 8.085c0.149 0.081 0.313 0.122 0.479 0.122 0.163 0 0.326-0.040 0.474-0.12l15.003-8.085c0.327-0.176 0.53-0.52 0.525-0.892s-0.216-0.711-0.547-0.88l-14.848-7.54c-0.283-0.143-0.617-0.144-0.902-0.002l-15.002 7.54c-0.332 0.167-0.545 0.505-0.551 0.877s0.196 0.717 0.521 0.895zM16.161 2.134l12.692 6.446-12.843 6.921-12.693-6.912zM31.292 15.010l-2.968-1.507-2.142 1.155 2.5 1.27-12.842 6.921-12.694-6.912 2.666-1.34-2.136-1.164-3.135 1.575c-0.332 0.167-0.545 0.505-0.551 0.877s0.196 0.717 0.521 0.895l14.847 8.085c0.149 0.081 0.313 0.122 0.479 0.122 0.163 0 0.326-0.040 0.474-0.12l15.003-8.085c0.327-0.176 0.53-0.52 0.525-0.892s-0.215-0.711-0.546-0.88zM31.292 22.010l-2.811-1.382-2.142 1.155 2.344 1.145-12.843 6.921-12.694-6.912 2.478-1.121-2.136-1.164-2.947 1.357c-0.332 0.167-0.545 0.505-0.551 0.877s0.196 0.717 0.521 0.895l14.847 8.085c0.149 0.081 0.313 0.122 0.479 0.122 0.163 0 0.326-0.040 0.475-0.12l15.003-8.085c0.327-0.176 0.53-0.52 0.525-0.892-0.005-0.373-0.215-0.712-0.546-0.88z"}})]),t._v("\n                "+t._s(t.translates.uploadMasks)+"\n            ")])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-7"},[e("EstateVisualAngleRender",{attrs:{"angle-id":t.angle.id,render:t.angle.render,pointers:t.angle.pointers,masks:t.angle.masks},on:{"remove-render":t.removeRender}}),t._v(" "),e("EstateVisualAnglePointers",{attrs:{"angle-id":t.angle.id,pointers:t.angle.pointers,"pointer-types":t.pointerTypes},on:{"pointer-remove":t.removePointer,"pointer-add":t.addPointer}})],1),t._v(" "),e("div",{staticClass:"col-md-5"},[e("EstateVisualAngleMasks",{attrs:{"angle-id":t.angle.id,masks:t.angle.masks,elements:t.angle.elements},on:{"mask-remove":t.removeMask,"mask-remove-link":t.removeMaskLink,"mask-set-link":t.setMaskLink,"mask-updated":t.maskUpdated}})],1)]),t._v(" "),e("EstateModal",{attrs:{id:"maskImporter-".concat(t.angle.id)},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.translates.addingMasks))]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"nav-tabs-alt"},[e("ul",{staticClass:"nav nav-tabs nav-tabs-scroll-bar",attrs:{role:"tablist"}},[e("li",{staticClass:"nav-item position-relative"},[e("a",{staticClass:"nav-link active",attrs:{"data-bs-target":"#import-tab-svg-".concat(t.angle.id),role:"presentation","data-bs-toggle":"tab"}},[t._v("SVG")])]),t._v(" "),e("li",{staticClass:"nav-item position-relative"},[e("a",{staticClass:"nav-link",attrs:{"data-bs-target":"#import-tab-inline-".concat(t.angle.id),role:"presentation","data-bs-toggle":"tab"}},[t._v(t._s(t.translates.coords))])])])]),t._v(" "),e("section",{staticClass:"mb-3"},[e("div",{staticClass:"no-border-xs"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"import-tab-svg-".concat(t.angle.id)}},[e("div",{staticClass:"py-4 d-flex flex-column"},[e("div",{class:{"d-none":!t.hasMaskFiles}},[e("div",{staticClass:"mask-file-name"},[e("svg",{staticClass:"me-2",attrs:{width:"1em",height:"1em",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.25 0H0.75C0.337875 0 0 0.337875 0 0.75V9.37725C0 9.78938 0.3375 10.1273 0.75 10.1273H11.25C11.6621 10.1273 12 9.78938 12 9.37725V0.75C12 0.337875 11.6621 0 11.25 0ZM11.25 9.37725H0.75V7.16775L3.76013 4.25063L6.86325 7.35C6.99113 7.50525 7.21875 7.48538 7.38037 7.36313L8.74988 6.12338L11.22 8.65913C11.2294 8.6685 11.2399 8.67563 11.25 8.6835V9.37725ZM11.25 7.61588L9.0465 5.361C8.91263 5.229 8.70337 5.21588 8.55487 5.32875L7.14188 6.5595L4.03688 3.48825C3.9705 3.408 3.87487 3.35925 3.771 3.35213C3.66787 3.34838 3.56588 3.38213 3.49013 3.45338L0.74925 6.12038V0.749625H11.2492V7.6155L11.25 7.61588ZM8.625 3.75263C9.03825 3.75263 9.37313 3.41738 9.37313 3.0045C9.37313 2.59163 9.03862 2.25638 8.625 2.25638C8.21138 2.25638 7.87687 2.59163 7.87687 3.0045C7.87687 3.41738 8.21138 3.75263 8.625 3.75263Z",fill:"#222529"}})]),t._v("\n                                        "+t._s(t.getFirstMaskFilename)+"\n                                    ")]),t._v(" "),e("button",{staticClass:"btn btn-secondary mt-4",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.resetMasksFileList()}}},[t._v(t._s(t.translates.delete))])]),t._v(" "),e("label",{staticClass:"btn btn-default m-0 w-fit",class:{"d-none":t.hasMaskFiles}},[e("input",{staticClass:"d-none",attrs:{name:"svg",type:"file",accept:"image/svg+xml"},on:{change:function(e){return e.stopPropagation(),t.setMasksFileList(e)}}}),t._v("\n                                    "+t._s(t.translates.uploadSvg)+"\n                                ")]),t._v(" "),e("div",{staticClass:"form-check mt-3"},[e("label",{staticClass:"m-0 w-fit",class:{"d-none":!t.hasMaskFiles||!t.elementHasNumberAttribute}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.autolink,expression:"autolink"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.autolink)?t._i(t.autolink,null)>-1:t.autolink},on:{change:function(e){var n=t.autolink,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&(t.autolink=n.concat([null])):i>-1&&(t.autolink=n.slice(0,i).concat(n.slice(i+1)))}else t.autolink=a}}}),t._v("\n                                        "+t._s(t.translates.autoLink)+"\n                                    ")])])])]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"import-tab-inline-".concat(t.angle.id)}},[e("div",{staticClass:"py-4 d-flex flex-column"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.maskCoords,expression:"maskCoords"}],staticClass:"form-control",attrs:{name:"coords",rows:"5"},domProps:{value:t.maskCoords},on:{input:function(e){e.target.composing||(t.maskCoords=e.target.value)}}}),t._v(" "),e("small",{staticClass:"form-text text-muted"},[t._v("\n                                    "+t._s(t.translates.format)),e("br"),t._v("\n                                    M446,183V363H326V183Z"),e("br"),t._v("\n                                    M717,183V440H591V379H542V363H452V183Z"),e("br"),t._v("\n                                    M1393,322V434h-43v6H1173V183h177V322Z\n                                ")])])])])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-default",attrs:{"data-bs-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.importMasksByForm(e)}}},[t._v(t._s(t.translates.apply))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,j=n(538),P=n(764).lW;j.ZP.prototype.$eventBus=new j.ZP;var z={name:"EstateVisual",components:{EstateVisualAngle:D},data:function(){return{translates:{title:"Title",angle:"Angle",addAngle:"Add angle",uploadImage:"Upload image",uploadMasks:"Upload masks",confirmDeleteAngle:"Delete angle?",masks:"Masks",data:"Data",emptyList:"The list is empty",error:"Error",modified:"Modified",fileNotLoaded:"File not loaded",mask:"Mask",maskNotFound:"Mask not found",maskAdded:"Mask added",maskNotAdded:"Mask not added",maskDeleted:"Mask deleted",maskLinkRemoved:"Mask link removed",maskLinked:"Mask linked",maskUpdated:"Mask updated",confirmDeleteMask:"Delete mask?",invalidFileFormat:"Invalid file format",getImageSizesError:"Failed to get the dimensions of the image",uploadError:"Error on uploading file",imageUploaded:"Image uploaded",errorLoadingData:"Error loading data",setLink:"Set link",nextStepHeader:"Next step",nextStep:"Next step",coords:"Coords",binding:"Binding",noBinding:"No binding",close:"Close",link:"Link",apply:"Apply",format:"Format",uploadSvg:"Upload SVG",addingMasks:"Adding masks",degree:"Degree",pointer:"Pointer",mobileStartPercentage:"Start Percentage",pointers:"Pointers",addPointer:"Add pointer",pointerTitle:"Pointer title",pointerPopWidgetCode:"Planoplan widget code",pointerCoords:"Coords (x, y)",autoLink:"Link mask to element automatically"},angles:[],data:{nextStep:null,steps:[],elements:[],titles:{}},currentTab:0,lastAngleNumber:0,pointerTypes:null}},provide:function(){return{translates:this.translates,storageUrl:this.$attrs["storage-url"],storageDisk:this.$attrs["storage-disk"],groups:this.$attrs.groups,data:this.data}},created:function(){var t;if(this.$attrs.translates)try{this.translates=Object.assign(this.translates,JSON.parse(P.from(this.$attrs.translates,"base64").toString()))}catch(t){}this.defaultAxiosConfig={headers:{"X-CSRF-TOKEN":(null===(t=document.head.querySelector('meta[name="csrf_token"]'))||void 0===t?void 0:t.content)||""}},String.prototype.hashCode=function(){return this.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),"0")},this.loadData()},computed:{canDeleteAngle:function(){return this.angles.length>1}},methods:{loadData:function(){var t=this;a().get(this.$attrs.url).then((function(e){t.angles=e.data.data.angles,t.data.nextStep=e.data.data.nextStep,t.data.steps=e.data.data.steps,t.data.elements=e.data.data.elements,t.data.titles=e.data.data.titles,t.angles.forEach((function(e){return e.elements=t.data.elements})),t.pointerTypes=e.data.data.pointerTypes})).then((function(){return t.lastAngleNumber=t.angles.length})).catch((function(e){t.addAngle(),t.alert(t.translates.error,t.translates.errorLoadingData,"error"),console.error(e.message)}))},alert:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning",r=document.querySelector('[data-controller="toast"]'),a=this.$attrs.stimulus.application.getControllerForElementAndIdentifier(r,"toast");a?a.alert(t,e,n):alert(t+"\n"+e)})),setCurrentTab:function(t){this.currentTab=t},addAngle:function(){this.angles.push(this.makeAngle()),this.lastAngleNumber++},removeAngle:function(t){confirm(this.translates.confirmDeleteAngle)&&this.canDeleteAngle&&(this.angles=this.angles.filter((function(e){return e.id!==t})),this.currentTab=0)},makeAngle:function(){var t=this.lastAngleNumber;return{id:h(),title:"".concat(this.translates.angle," ").concat(++t),degree:0,shift:[0,0],render:{id:null,path:null,width:0,height:0},masks:[],pointers:[],elements:this.data.elements}}}},O=z,U=n(379),R=n.n(U),F=n(365),Y={insert:"head",singleton:!1},$=(R()(F.Z,Y),F.Z.locals,g(O,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"kelnik-estate-visual form-group"},[e("div",{staticClass:"nav-tabs-alt"},[e("ul",{staticClass:"nav nav-tabs nav-tabs-scroll-bar",attrs:{role:"tablist"}},[t._l(t.angles,(function(n,r){return e("li",{staticClass:"nav-item position-relative"},[e("a",{staticClass:"nav-link",class:{active:r===t.currentTab},attrs:{"data-bs-target":"#tab-".concat(n.id),role:"tablist","data-bs-toggle":"tab"},on:{click:function(e){return t.setCurrentTab(r)}}},[t._v(t._s(n.title))]),t._v(" "),t.canDeleteAngle?e("a",{staticClass:"position-absolute top-0 end-0",on:{click:function(e){return t.removeAngle(n.id)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M21.66,10.34a1,1,0,0,0-1.42,0L16,14.59l-4.24-4.25a1,1,0,0,0-1.42,1.42L14.59,16l-4.25,4.24a1,1,0,0,0,1.42,1.42L16,17.41l4.24,4.25a1,1,0,0,0,1.42-1.42L17.41,16l4.25-4.24A1,1,0,0,0,21.66,10.34Z"}})])]):t._e()])})),t._v(" "),e("li",{staticClass:"nav-item ms-3"},[e("a",{on:{click:function(e){return t.addAngle()}}},[e("svg",{staticClass:"me-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"}},[e("path",{attrs:{d:"M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM23 15h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1z"}})]),t._v("\n                    "+t._s(t.translates.addAngle)+"\n                ")])])],2)]),t._v(" "),e("section",{staticClass:"mb-3"},[e("div",{staticClass:"no-border-xs"},[e("div",{staticClass:"tab-content"},t._l(t.angles,(function(n,r){return e("div",{staticClass:"tab-pane",class:{active:r===t.currentTab},attrs:{role:"tabpanel",id:"tab-".concat(n.id)}},[e("EstateVisualAngle",{attrs:{angle:n,"pointer-types":t.pointerTypes},on:{alert:t.alert}})],1)})),0)])])])}),[],!1,null,null,null).exports);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(a=r.key,i=void 0,i=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"),"symbol"===V(i)?i:String(i)),r)}var a,i}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Z(t);if(e){var a=Z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(i,window.Controller);var e,n,r,a=q(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"connect",value:function(){this.init()}},{key:"init",value:function(){var t=this.element,e=["data-translates","data-url","data-storage-url","data-storage-disk","data-groups"],n={};t.attributes.forEach((function(t){if(e.includes(t.name)){var r=t.name.replace(/data-/g,"");n[r]=t.nodeValue}})),n.stimulus=this,this.estateVisual=new j.ZP({el:t,render:function(t){return t($,{attrs:n})}})}}])&&G(e.prototype,n),r&&G(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();window.application.register("estate-visual-vue",Q)},742:function(t,e){"use strict";e.byteLength=function(t){var e=o(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=o(t),s=i[0],l=i[1],u=new a(function(t,e,n){return 3*(e+n)/4-n}(0,s,l)),c=0,d=l>0?s-4:s;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===l&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===l&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,a=r%3,i=[],s=16383,o=0,u=r-a;o<u;o+=s)i.push(l(t,o,o+s>u?u:o+s));1===a?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===a&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function o(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,r){for(var a,i,s=[],o=e;o<r;o+=3)a=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},764:function(t,e,n){"use strict";var r=n(742),a=n(645),i=n(826);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n);t=o(t,r);var a=t.write(e,n);a!==r&&(t=t.slice(0,a));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|p(e.length);return 0===(t=o(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?o(t,0):f(t,e);if("Buffer"===e.type&&i(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(c(e),t=o(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function h(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,a){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:A(t,e,n,r,a);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):A(t,[e],n,r,a);throw new TypeError("val must be string, number or Buffer")}function A(t,e,n,r,a){var i,s=1,o=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,o/=2,l/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(a){var c=-1;for(i=n;i<o;i++)if(u(t,i)===u(e,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*s}else-1!==c&&(i-=i-c),c=-1}else for(n+l>o&&(n=o-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(u(t,i+f)!==u(e,f)){d=!1;break}if(d)return i}return-1}function y(t,e,n,r){n=Number(n)||0;var a=t.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[n+s]=o}return s}function b(t,e,n,r){return $(F(e,t.length-n),t,n,r)}function k(t,e,n,r){return $(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return k(t,e,n,r)}function C(t,e,n,r){return $(Y(e),t,n,r)}function _(t,e,n,r){return $(function(t,e){for(var n,r,a,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,a=n%256,i.push(a),i.push(r);return i}(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],a=e;a<n;){var i,s,o,l,u=t[a],c=null,d=u>239?4:u>223?3:u>191?2:1;if(a+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=t[a+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=t[a+1],s=t[a+2],128==(192&i)&&128==(192&s)&&(l=(15&u)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=t[a+1],s=t[a+2],o=t[a+3],128==(192&i)&&128==(192&s)&&128==(192&o)&&(l=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=d}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=E));return n}(r)}e.lW=l,e.h2=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,a=0,i=Math.min(n,r);a<i;++a)if(t[a]!==e[a]){n=t[a],r=e[a];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,a),a+=s.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.h2;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,a){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),e<0||n>t.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&e>=n)return 0;if(r>=a)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(a>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),o=Math.min(i,s),u=this.slice(r,a),c=t.slice(e,n),d=0;d<o;++d)if(u[d]!==c[d]){i=u[d],s=c[d];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return k(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function I(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(127&t[a]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(t[a]);return r}function B(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=e;i<n;++i)a+=R(t[i]);return a}function L(t,e,n){for(var r=t.slice(e,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,n,r,a,i){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var a=0,i=Math.min(t.length-n,2);a<i;++a)t[n+a]=(e&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function j(t,e,n,r){e<0&&(e=4294967295+e+1);for(var a=0,i=Math.min(t.length-n,4);a<i;++a)t[n+a]=e>>>8*(r?a:3-a)&255}function P(t,e,n,r,a,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,r,i){return i||P(t,0,n,4),a.write(t,e,n,r,23,4),n+4}function O(t,e,n,r,i){return i||P(t,0,n,8),a.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var a=e-t;n=new l(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],a=1,i=0;++i<e&&(a*=256);)r+=this[t+i]*a;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],a=1;e>0&&(a*=256);)r+=this[t+--e]*a;return r},l.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],a=1,i=0;++i<e&&(a*=256);)r+=this[t+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,a=1,i=this[t+--r];r>0&&(a*=256);)i+=this[t+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),a.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),a.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),a.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),a.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||S(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[e]=255&t;++i<n&&(a*=256);)this[e+i]=t/a&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||S(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[e+a]=255&t;--a>=0&&(i*=256);)this[e+a]=t/i&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);S(this,t,e,n,a-1,-a)}var i=0,s=1,o=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);S(this,t,e,n,a-1,-a)}var i=n-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var a,i=r-n;if(this===t&&n<e&&e<r)for(a=i-1;a>=0;--a)t[a+e]=this[a+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=l.isBuffer(t)?t:F(new l(t,r).toString()),o=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%o]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,a=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}},645:function(t,e){e.read=function(t,e,n,r,a){var i,s,o=8*a-r-1,l=(1<<o)-1,u=l>>1,c=-7,d=n?a-1:0,f=n?-1:1,p=t[e+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=o;c>0;i=256*i+t[e+d],d+=f,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+t[e+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,a,i){var s,o,l,u=8*i-a-1,c=(1<<u)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(e*l-1)*Math.pow(2,a),s+=d):(o=e*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;t[n+p]=255&o,p+=h,o/=256,a-=8);for(s=s<<a|o,u+=a;u>0;t[n+p]=255&s,p+=h,s/=256,u-=8);t[n+p-h]|=128*m}},826:function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},365:function(t,e,n){"use strict";var r=n(897),a=n.n(r),i=n(519),s=n.n(i)()(a());s.push([t.id,'.kelnik-estate-visual svg.visual-canvas{background:#f2f2f2 url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjI1IDBILjc1QS43NTMuNzUzIDAgMCAwIDAgLjc1djguNjI3YzAgLjQxMi4zMzguNzUuNzUuNzVoMTAuNWMuNDEyIDAgLjc1LS4zMzguNzUtLjc1Vi43NWEuNzUzLjc1MyAwIDAgMC0uNzUtLjc1Wm0wIDkuMzc3SC43NXYtMi4yMWwzLjAxLTIuOTE2TDYuODYzIDcuMzVjLjEyOC4xNTUuMzU2LjEzNS41MTcuMDEzbDEuMzctMS4yNCAyLjQ3IDIuNTM2Yy4wMS4wMS4wMi4wMTcuMDMuMDI0di42OTRabTAtMS43NjFMOS4wNDYgNS4zNmEuMzc2LjM3NiAwIDAgMC0uNDkxLS4wMzJsLTEuNDEzIDEuMjMtMy4xMDUtMy4wN2EuMzc3LjM3NyAwIDAgMC0uNTQ3LS4wMzZMLjc1IDYuMTJWLjc1aDEwLjV2Ni44NjVaTTguNjI1IDMuNzUzYS43NDguNzQ4IDAgMSAwIDAtMS40OTcuNzQ4Ljc0OCAwIDAgMCAwIDEuNDk3WiIgZmlsbD0iIzIyMjUyOSIvPjwvc3ZnPg==") no-repeat 50%;border:1px dashed #e2e2e2;box-sizing:border-box;height:100%;width:100%}.kelnik-estate-visual svg.visual-canvas.no-bg{background-image:none}.kelnik-estate-visual svg.visual-canvas path{fill:#fff;stroke:red;stroke-dasharray:10,10,10;stroke-opacity:1;stroke-width:5;stroke-linecap:square;fill-opacity:.3;-webkit-transition:opacity .3s;transition:opacity .3s}.kelnik-estate-visual svg.visual-canvas path.has-link{fill:#3eb57c;stroke:none}.kelnik-estate-visual svg.visual-canvas path:hover{fill-opacity:.65;-webkit-transition:opacity .3s;transition:opacity .3s}.kelnik-estate-visual .table td{margin-left:0;padding:.4rem!important}.kelnik-estate-visual .table td:first-child,.kelnik-estate-visual .table td:last-child{padding:.4rem!important}.kelnik-estate-visual .table td .badge{font-size:.75rem;margin-right:.4rem;padding:.4rem}.kelnik-estate-visual .table tr:last-of-type td{border-bottom:none}.kelnik-estate-visual .table tr.highlight td{-webkit-animation:flicker 1s infinite alternate;animation:flicker 1s infinite alternate;background:none}.kelnik-estate-visual .pointer{position:relative}.kelnik-estate-visual .pointer .body{-webkit-box-orient:vertical;-webkit-box-direction:normal;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-flex-wrap:wrap;flex-wrap:wrap;gap:.4em;margin-right:2em}.kelnik-estate-visual .pointer .body .coords,.kelnik-estate-visual .pointer .body .type{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;gap:1em}.kelnik-estate-visual .pointer .body .coords span:first-of-type,.kelnik-estate-visual .pointer .body .type span:first-of-type{-webkit-box-flex:0;-webkit-flex:0 auto;flex:0 auto}.kelnik-estate-visual .pointer .body .coords span:last-of-type,.kelnik-estate-visual .pointer .body .type span:last-of-type{-webkit-box-flex:1;-webkit-flex:1 auto;flex:1 auto}.kelnik-estate-visual .pointer .body input{display:inline}.kelnik-estate-visual .pointer .menu{position:absolute;right:.2em;top:.4em;width:2em}.kelnik-estate-visual .pointer .form-control{padding:.4em}.kelnik-estate-visual .w-fit{width:-webkit-fit-content!important;width:-moz-fit-content!important;width:fit-content!important}.kelnik-estate-visual .modal select.form-control{height:42px!important}@-webkit-keyframes flicker{0%,50%,to{background:none}25%,75%{background:rgba(255,0,0,.2)}}@keyframes flicker{0%,50%,to{background:none}25%,75%{background:rgba(255,0,0,.2)}}.kelnik-estate-visual .visual-canvas__pointer{overflow:visible}.kelnik-estate-visual .visual-canvas__pointer-item{border-radius:24px;cursor:pointer;height:48px;min-width:48px;position:relative;width:auto}.kelnik-estate-visual .visual-canvas__pointer-item_theme_render{pointer-events:none}.kelnik-estate-visual .visual-canvas__pointer-text{-webkit-box-align:center;-webkit-box-pack:center;-webkit-align-items:center;align-items:center;background-color:#fff7ec;border-radius:24px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;font-size:13px;height:48px;-webkit-justify-content:center;justify-content:center;left:50%;line-height:1.6;min-width:48px;padding:0 24px;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;white-space:nowrap}',"",{version:3,sources:["webpack://./resources/js/components/EstateVisual/EstateVisual.vue"],names:[],mappings:"AAAA,wCAAyF,8uBAAA,CAA1B,yBAAA,CAAo0C,qBAAA,CAAh1C,WAAA,CAAX,UAMxC,CANy5C,8CAA8C,qBAUv8C,CAV69C,6CAA6C,SAAA,CAAU,UAAA,CAAW,yBAAA,CAA0B,gBAAA,CAAiB,cAAA,CAAe,qBAAA,CAAsB,eAAA,CAAgB,8BAAA,CAAA,sBAqB/nD,CArBspD,sDAAsD,YAAA,CAAa,WA0BztD,CA1BquD,mDAAmD,gBAAA,CAAiB,8BAAA,CAAA,sBA+BzyD,CA/Bg0D,gCAAyD,aAAA,CAAzB,uBAoCh2D,CApCu4D,uFAAuF,uBAwC99D,CAxCu/D,uCAAuC,gBAAA,CAA+B,kBAAA,CAAd,aA8C/iE,CA9CglE,gDAAgD,kBAkDhoE,CAlDmpE,6CAA6C,+CAAA,CAAA,uCAAA,CAAwC,eAuDxuE,CAvDwvE,+BAA+B,iBA2DvxE,CA3DyyE,qCAAiE,2BAAA,CAAA,4BAAA,CAA5B,mBAAA,CAAA,oBAAA,CAAA,YAAA,CAA4B,6BAAA,CAAA,qBAAA,CAAf,sBAAA,CAAA,cAAA,CAAsD,QAAA,CAAjB,gBAmEh4E,CAnE05E,wFAAqG,6BAAA,CAAA,4BAAA,CAAmB,0BAAA,CAAA,4BAAA,CAAA,oBAAA,CAAhC,mBAAA,CAAA,oBAAA,CAAA,YAAA,CAAa,0BAAA,CAAA,kBAAA,CAAwC,OA0EviF,CA1E+iF,8HAA8H,kBAAA,CAAA,mBAAA,CAAA,WA8E7qF,CA9EyrF,4HAA4H,kBAAA,CAAA,mBAAA,CAAA,WAkFrzF,CAlFi0F,2CAA2C,cAsF52F,CAtF23F,qCAAqC,iBAAA,CAAqC,UAAA,CAAT,QAAA,CAAV,SA6Fl7F,CA7Fg9F,6CAA6C,YAiG7/F,CAjG0gG,6BAA6B,mCAAA,CAAA,gCAAA,CAAA,2BAqGviG,CArGokG,iDAAiD,qBAyGrnG,CAzG4oG,2BAAmB,UAAY,eA8GzqG,CA9GyrG,QAAQ,2BAiHjsG,CACF,CAlH4oG,mBAAmB,UAAY,eA8GzqG,CA9GyrG,QAAQ,2BAiHjsG,CACF,CAlHguG,8CAA8C,gBAqH9wG,CArH+xG,mDAAmD,kBAAA,CAAmB,cAAA,CAA2D,WAAA,CAAf,cAAA,CAA7B,iBAAA,CAAkB,UA8Ht4G,CA9H46G,gEAAgE,mBAkI5+G,CAlIggH,mDAAqV,wBAAA,CAAmB,uBAAA,CAAnB,0BAAA,CAAA,kBAAA,CAAnQ,wBAAA,CAAyB,kBAAA,CAA8M,mBAAA,CAAA,oBAAA,CAAA,YAAA,CAAa,sBAAA,CAAA,cAAA,CAAnR,cAAA,CAA0H,WAAA,CAA2L,8BAAA,CAAA,sBAAA,CAAiD,QAAA,CAAvV,eAAA,CAAuH,cAAA,CAA3D,cAAA,CAAiQ,iBAAA,CAAkB,OAAA,CAApQ,sCAAA,CAAA,8BAAA,CAAoH,+BAAA,CAAA,uBAAA,CAAtC,qDAAA,CAAA,6CAAA,CAAA,qCAAA,CAAA,uDAAA,CAA8D,uCAAA,CAAA,+BAAA,CAAjF,kBAwJxsH",sourcesContent:['.kelnik-estate-visual svg.visual-canvas{width:100%;height:100%;border:1px dashed #e2e2e2;background:#f2f2f2 url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMiAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjI1IDBIMC43NUMwLjMzNzg3NSAwIDAgMC4zMzc4NzUgMCAwLjc1VjkuMzc3MjVDMCA5Ljc4OTM4IDAuMzM3NSAxMC4xMjczIDAuNzUgMTAuMTI3M0gxMS4yNUMxMS42NjIxIDEwLjEyNzMgMTIgOS43ODkzOCAxMiA5LjM3NzI1VjAuNzVDMTIgMC4zMzc4NzUgMTEuNjYyMSAwIDExLjI1IDBaTTExLjI1IDkuMzc3MjVIMC43NVY3LjE2Nzc1TDMuNzYwMTMgNC4yNTA2M0w2Ljg2MzI1IDcuMzVDNi45OTExMyA3LjUwNTI1IDcuMjE4NzUgNy40ODUzOCA3LjM4MDM3IDcuMzYzMTNMOC43NDk4OCA2LjEyMzM4TDExLjIyIDguNjU5MTNDMTEuMjI5NCA4LjY2ODUgMTEuMjM5OSA4LjY3NTYzIDExLjI1IDguNjgzNVY5LjM3NzI1Wk0xMS4yNSA3LjYxNTg4TDkuMDQ2NSA1LjM2MUM4LjkxMjYzIDUuMjI5IDguNzAzMzcgNS4yMTU4OCA4LjU1NDg3IDUuMzI4NzVMNy4xNDE4OCA2LjU1OTVMNC4wMzY4OCAzLjQ4ODI1QzMuOTcwNSAzLjQwOCAzLjg3NDg3IDMuMzU5MjUgMy43NzEgMy4zNTIxM0MzLjY2Nzg3IDMuMzQ4MzggMy41NjU4OCAzLjM4MjEzIDMuNDkwMTMgMy40NTMzOEwwLjc0OTI1IDYuMTIwMzhWMC43NDk2MjVIMTEuMjQ5MlY3LjYxNTVMMTEuMjUgNy42MTU4OFpNOC42MjUgMy43NTI2M0M5LjAzODI1IDMuNzUyNjMgOS4zNzMxMyAzLjQxNzM4IDkuMzczMTMgMy4wMDQ1QzkuMzczMTMgMi41OTE2MyA5LjAzODYyIDIuMjU2MzggOC42MjUgMi4yNTYzOEM4LjIxMTM4IDIuMjU2MzggNy44NzY4NyAyLjU5MTYzIDcuODc2ODcgMy4wMDQ1QzcuODc2ODcgMy40MTczOCA4LjIxMTM4IDMuNzUyNjMgOC42MjUgMy43NTI2M1oiIGZpbGw9IiMyMjI1MjkiLz4KPC9zdmc+Cg==") no-repeat center;box-sizing:border-box}.kelnik-estate-visual svg.visual-canvas.no-bg{background-image:none}.kelnik-estate-visual svg.visual-canvas path{fill:#fff;stroke:red;stroke-dasharray:10,10,10;stroke-opacity:1;stroke-width:5;stroke-linecap:square;fill-opacity:.3;transition:opacity .3s}.kelnik-estate-visual svg.visual-canvas path.has-link{fill:#3eb57c;stroke:none}.kelnik-estate-visual svg.visual-canvas path:hover{fill-opacity:.65;transition:opacity .3s}.kelnik-estate-visual .table td{padding:.4rem !important;margin-left:0}.kelnik-estate-visual .table td:first-child,.kelnik-estate-visual .table td:last-child{padding:.4rem !important}.kelnik-estate-visual .table td .badge{font-size:.75rem;padding:.4rem;margin-right:.4rem}.kelnik-estate-visual .table tr:last-of-type td{border-bottom:none}.kelnik-estate-visual .table tr.highlight td{animation:flicker 1s infinite alternate;background:none}.kelnik-estate-visual .pointer{position:relative}.kelnik-estate-visual .pointer .body{display:flex;flex-wrap:wrap;flex-direction:column;margin-right:2em;gap:.4em}.kelnik-estate-visual .pointer .body .type,.kelnik-estate-visual .pointer .body .coords{display:flex;flex-direction:row;align-items:baseline;gap:1em}.kelnik-estate-visual .pointer .body .type span:first-of-type,.kelnik-estate-visual .pointer .body .coords span:first-of-type{flex:0 auto}.kelnik-estate-visual .pointer .body .type span:last-of-type,.kelnik-estate-visual .pointer .body .coords span:last-of-type{flex:1 auto}.kelnik-estate-visual .pointer .body input{display:inline}.kelnik-estate-visual .pointer .menu{position:absolute;width:2em;top:.4em;right:.2em}.kelnik-estate-visual .pointer .form-control{padding:.4em}.kelnik-estate-visual .w-fit{width:fit-content !important}.kelnik-estate-visual .modal select.form-control{height:42px !important}@keyframes flicker{0%,50%,100%{background:none}25%,75%{background:rgba(255,0,0,.2)}}.kelnik-estate-visual .visual-canvas__pointer{overflow:visible}.kelnik-estate-visual .visual-canvas__pointer-item{border-radius:24px;cursor:pointer;position:relative;width:auto;min-width:48px;height:48px}.kelnik-estate-visual .visual-canvas__pointer-item_theme_render{pointer-events:none}.kelnik-estate-visual .visual-canvas__pointer-text{font-size:13px;line-height:1.6;background-color:#fff7ec;border-radius:24px;padding:0 24px;transform:translate(-50%, -50%);height:48px;min-width:48px;white-space:nowrap;transition-property:opacity,transform;transition-duration:.3s;transition-timing-function:ease;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;position:absolute;top:50%;left:50%}'],sourceRoot:""}]),e.Z=s},519:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(a[s]=!0)}for(var o=0;o<t.length;o++){var l=[].concat(t[o]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},897:function(t){"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,a,i=[],s=!0,o=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){o=!0,a=t}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n=e(t,4),r=n[1],a=n[3];if(!a)return r;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(s," */"),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[r].concat(l).concat([o]).join("\n")}return[r].join("\n")}},475:function(){},155:function(t){var e,n,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:a}catch(t){e=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var o,l=[],u=!1,c=-1;function d(){u&&o&&(u=!1,o.length?l=o.concat(l):c=-1,l.length&&f())}function f(){if(!u){var t=s(d);u=!0;for(var e=l.length;e;){for(o=l,l=[];++c<e;)o&&o[c].run();c=-1,e=l.length}o=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function h(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},379:function(t,e,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function o(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},r=[],a=0;a<t.length;a++){var i=t[a],l=e.base?i[0]+e.base:i[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=o(c),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(s[d].references++,s[d].updater(f)):s.push({identifier:c,updater:g(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function f(t,e,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,a);else{var i=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function p(t,e,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,m=0;function g(t,e){var n,r,a;if(e.singleton){var i=m++;n=h||(h=u(e)),r=f.bind(null,n,i,!1),a=f.bind(null,n,i,!0)}else n=u(e),r=p.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=a());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var a=o(n[r]);s[a].references--}for(var i=l(t,e),u=0;u<n.length;u++){var c=o(n[u]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}n=i}}}}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[170,898],(function(){return e(405),e(475)}));t.O()}]);
//# sourceMappingURL=app.js.map