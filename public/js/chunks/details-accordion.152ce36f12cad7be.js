"use strict";(self.webpackChunkmulti_kelnik_2_0=self.webpackChunkmulti_kelnik_2_0||[]).push([[211],{9057:function(t,e,n){n.r(e);var i=n(6163),s=n(281);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,l(i.key),i)}}function h(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}var r=new i.Z,u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,"element",void 0),h(this,"summary",void 0),h(this,"content",void 0),h(this,"animation",void 0),h(this,"isClosing",!1),h(this,"isExpanding",!1),h(this,"desktopOpen",void 0)}var e,n,i;return e=t,(n=[{key:"init",value:function(t){this._setOptions(t),this._bindEvents(),this.element.dataset.open="".concat(this.element.hasAttribute("open"))}},{key:"_setOptions",value:function(t){this.element=t,this.summary=this.element.querySelector("summary"),this.content=this.element.querySelector(".j-details__content"),this.desktopOpen=!!this.element.dataset.desktopOpen&&Boolean(JSON.parse(this.element.dataset.desktopOpen))}},{key:"_bindEvents",value:function(){var t=this;this.summary&&this.summary.addEventListener("click",this._onClick.bind(this)),this.desktopOpen&&(this._onResize(),["resize","orientationchange"].forEach((function(e){window.addEventListener(e,t._onResize.bind(t))})))}},{key:"_onClick",value:function(t){t.preventDefault(),this.element.style.overflow="hidden",this.desktopOpen&&!s.c.isMobile()||(this.isClosing||!this.element.open?(this._open(),this.element.dataset.open="true"):(this.isExpanding||this.element.open)&&(this._shrink(),this.element.dataset.open="false"))}},{key:"_open",value:function(){this.element.style.height="".concat(this.element.offsetHeight,"px"),this.element.open=!0,window.requestAnimationFrame(this._expand.bind(this))}},{key:"_shrink",value:function(){var t=this;this.isClosing=!0;var e="".concat(this.element.offsetHeight,"px"),n=this.summary?"".concat(this.summary.offsetHeight,"px"):"0";this.animation&&this.animation.cancel(),this.animation=this.element.animate({height:[e,n]},{duration:300,easing:"ease-out"}),this.animation.onfinish=function(){t._onAnimationFinish(!1)},this.animation.oncancel=function(){t.isClosing=!1}}},{key:"_expand",value:function(){var t=this;this.isExpanding=!0;var e="".concat(this.element.offsetHeight,"px"),n="".concat(this.summary.offsetHeight+this.content.offsetHeight,"px");this.animation&&this.animation.cancel(),this.animation=this.element.animate({height:[e,n]},{duration:300,easing:"ease-out"}),this.animation.onfinish=function(){t._onAnimationFinish(!0)},this.animation.oncancel=function(){t.isExpanding=!1}}},{key:"_onAnimationFinish",value:function(t){this.element.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.element.style.height="",this.element.style.overflow="",r.publish("details:".concat(t?"open":"close"))}},{key:"_onResize",value:function(){s.c.isMobile()?(this._shrink(),this.element.dataset.open="false"):!this.isClosing&&this.element.open||(this._open(),this.element.dataset.open="true")}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=u}}]);
//# sourceMappingURL=details-accordion.152ce36f12cad7be.js.map